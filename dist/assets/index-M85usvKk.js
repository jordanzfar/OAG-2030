var $F=Object.defineProperty;var RF=(e,t,n)=>t in e?$F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yn=(e,t,n)=>RF(e,typeof t!="symbol"?t+"":t,n);function TF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LF(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Db={exports:{}},Sg={},Ob={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function DF(){if(QC)return xn;QC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function S(X,B,Q){this.props=X,this.context=B,this.refs=y,this.updater=Q||m}S.prototype.isReactComponent={},S.prototype.setState=function(X,B){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,B,"setState")},S.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=S.prototype;function C(X,B,Q){this.props=X,this.context=B,this.refs=y,this.updater=Q||m}var P=C.prototype=new _;P.constructor=C,x(P,S.prototype),P.isPureReactComponent=!0;var A=Array.isArray,R=Object.prototype.hasOwnProperty,D={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(X,B,Q){var re,ce={},ue=null,he=null;if(B!=null)for(re in B.ref!==void 0&&(he=B.ref),B.key!==void 0&&(ue=""+B.key),B)R.call(B,re)&&!T.hasOwnProperty(re)&&(ce[re]=B[re]);var ge=arguments.length-2;if(ge===1)ce.children=Q;else if(1<ge){for(var be=Array(ge),Le=0;Le<ge;Le++)be[Le]=arguments[Le+2];ce.children=be}if(X&&X.defaultProps)for(re in ge=X.defaultProps,ge)ce[re]===void 0&&(ce[re]=ge[re]);return{$$typeof:e,type:X,key:ue,ref:he,props:ce,_owner:D.current}}function U(X,B){return{$$typeof:e,type:X.type,key:B,ref:X.ref,props:X.props,_owner:X._owner}}function ee(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function F(X){var B={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Q){return B[Q]})}var O=/\/+/g;function H(X,B){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):B.toString(36)}function V(X,B,Q,re,ce){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var he=!1;if(X===null)he=!0;else switch(ue){case"string":case"number":he=!0;break;case"object":switch(X.$$typeof){case e:case t:he=!0}}if(he)return he=X,ce=ce(he),X=re===""?"."+H(he,0):re,A(ce)?(Q="",X!=null&&(Q=X.replace(O,"$&/")+"/"),V(ce,B,Q,"",function(Le){return Le})):ce!=null&&(ee(ce)&&(ce=U(ce,Q+(!ce.key||he&&he.key===ce.key?"":(""+ce.key).replace(O,"$&/")+"/")+X)),B.push(ce)),1;if(he=0,re=re===""?".":re+":",A(X))for(var ge=0;ge<X.length;ge++){ue=X[ge];var be=re+H(ue,ge);he+=V(ue,B,Q,be,ce)}else if(be=g(X),typeof be=="function")for(X=be.call(X),ge=0;!(ue=X.next()).done;)ue=ue.value,be=re+H(ue,ge++),he+=V(ue,B,Q,be,ce);else if(ue==="object")throw B=String(X),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return he}function ae(X,B,Q){if(X==null)return X;var re=[],ce=0;return V(X,re,"","",function(ue){return B.call(Q,ue,ce++)}),re}function J(X){if(X._status===-1){var B=X._result;B=B(),B.then(function(Q){(X._status===0||X._status===-1)&&(X._status=1,X._result=Q)},function(Q){(X._status===0||X._status===-1)&&(X._status=2,X._result=Q)}),X._status===-1&&(X._status=0,X._result=B)}if(X._status===1)return X._result.default;throw X._result}var W={current:null},z={transition:null},ne={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:z,ReactCurrentOwner:D};function se(){throw Error("act(...) is not supported in production builds of React.")}return xn.Children={map:ae,forEach:function(X,B,Q){ae(X,function(){B.apply(this,arguments)},Q)},count:function(X){var B=0;return ae(X,function(){B++}),B},toArray:function(X){return ae(X,function(B){return B})||[]},only:function(X){if(!ee(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},xn.Component=S,xn.Fragment=n,xn.Profiler=i,xn.PureComponent=C,xn.StrictMode=r,xn.Suspense=c,xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,xn.act=se,xn.cloneElement=function(X,B,Q){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var re=x({},X.props),ce=X.key,ue=X.ref,he=X._owner;if(B!=null){if(B.ref!==void 0&&(ue=B.ref,he=D.current),B.key!==void 0&&(ce=""+B.key),X.type&&X.type.defaultProps)var ge=X.type.defaultProps;for(be in B)R.call(B,be)&&!T.hasOwnProperty(be)&&(re[be]=B[be]===void 0&&ge!==void 0?ge[be]:B[be])}var be=arguments.length-2;if(be===1)re.children=Q;else if(1<be){ge=Array(be);for(var Le=0;Le<be;Le++)ge[Le]=arguments[Le+2];re.children=ge}return{$$typeof:e,type:X.type,key:ce,ref:ue,props:re,_owner:he}},xn.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},xn.createElement=M,xn.createFactory=function(X){var B=M.bind(null,X);return B.type=X,B},xn.createRef=function(){return{current:null}},xn.forwardRef=function(X){return{$$typeof:o,render:X}},xn.isValidElement=ee,xn.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:J}},xn.memo=function(X,B){return{$$typeof:u,type:X,compare:B===void 0?null:B}},xn.startTransition=function(X){var B=z.transition;z.transition={};try{X()}finally{z.transition=B}},xn.unstable_act=se,xn.useCallback=function(X,B){return W.current.useCallback(X,B)},xn.useContext=function(X){return W.current.useContext(X)},xn.useDebugValue=function(){},xn.useDeferredValue=function(X){return W.current.useDeferredValue(X)},xn.useEffect=function(X,B){return W.current.useEffect(X,B)},xn.useId=function(){return W.current.useId()},xn.useImperativeHandle=function(X,B,Q){return W.current.useImperativeHandle(X,B,Q)},xn.useInsertionEffect=function(X,B){return W.current.useInsertionEffect(X,B)},xn.useLayoutEffect=function(X,B){return W.current.useLayoutEffect(X,B)},xn.useMemo=function(X,B){return W.current.useMemo(X,B)},xn.useReducer=function(X,B,Q){return W.current.useReducer(X,B,Q)},xn.useRef=function(X){return W.current.useRef(X)},xn.useState=function(X){return W.current.useState(X)},xn.useSyncExternalStore=function(X,B,Q){return W.current.useSyncExternalStore(X,B,Q)},xn.useTransition=function(){return W.current.useTransition()},xn.version="18.3.1",xn}var eN;function H0(){return eN||(eN=1,Ob.exports=DF()),Ob.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function OF(){if(tN)return Sg;tN=1;var e=H0(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,u){var f,h={},g=null,m=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(m=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:t,type:o,key:g,ref:m,props:h,_owner:i.current}}return Sg.Fragment=n,Sg.jsx=a,Sg.jsxs=a,Sg}var nN;function pk(){return nN||(nN=1,Db.exports=OF()),Db.exports}var l=pk(),w=H0();const Re=Vh(w),jS=TF({__proto__:null,default:Re},[w]);var f1={},Ib={exports:{}},ia={},Mb={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function IF(){return rN||(rN=1,function(e){function t(z,ne){var se=z.length;z.push(ne);e:for(;0<se;){var X=se-1>>>1,B=z[X];if(0<i(B,ne))z[X]=ne,z[se]=B,se=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ne=z[0],se=z.pop();if(se!==ne){z[0]=se;e:for(var X=0,B=z.length,Q=B>>>1;X<Q;){var re=2*(X+1)-1,ce=z[re],ue=re+1,he=z[ue];if(0>i(ce,se))ue<B&&0>i(he,ce)?(z[X]=he,z[ue]=se,X=ue):(z[X]=ce,z[re]=se,X=re);else if(ue<B&&0>i(he,se))z[X]=he,z[ue]=se,X=ue;else break e}}return ne}function i(z,ne){var se=z.sortIndex-ne.sortIndex;return se!==0?se:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],f=1,h=null,g=3,m=!1,x=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(z){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=z)r(u),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(u)}}function A(z){if(y=!1,P(z),!x)if(n(c)!==null)x=!0,J(R);else{var ne=n(u);ne!==null&&W(A,ne.startTime-z)}}function R(z,ne){x=!1,y&&(y=!1,_(M),M=-1),m=!0;var se=g;try{for(P(ne),h=n(c);h!==null&&(!(h.expirationTime>ne)||z&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,g=h.priorityLevel;var B=X(h.expirationTime<=ne);ne=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&r(c),P(ne)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var re=n(u);re!==null&&W(A,re.startTime-ne),Q=!1}return Q}finally{h=null,g=se,m=!1}}var D=!1,T=null,M=-1,U=5,ee=-1;function F(){return!(e.unstable_now()-ee<U)}function O(){if(T!==null){var z=e.unstable_now();ee=z;var ne=!0;try{ne=T(!0,z)}finally{ne?H():(D=!1,T=null)}}else D=!1}var H;if(typeof C=="function")H=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=O,H=function(){ae.postMessage(null)}}else H=function(){S(O,0)};function J(z){T=z,D||(D=!0,H())}function W(z,ne){M=S(function(){z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,J(R))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var se=g;g=ne;try{return z()}finally{g=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=g;g=z;try{return ne()}finally{g=se}},e.unstable_scheduleCallback=function(z,ne,se){var X=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?X+se:X):se=X,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=se+B,z={id:f++,callback:ne,priorityLevel:z,startTime:se,expirationTime:B,sortIndex:-1},se>X?(z.sortIndex=se,t(u,z),n(c)===null&&z===n(u)&&(y?(_(M),M=-1):y=!0,W(A,se-X))):(z.sortIndex=B,t(c,z),x||m||(x=!0,J(R))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var ne=g;return function(){var se=g;g=ne;try{return z.apply(this,arguments)}finally{g=se}}}}(Fb)),Fb}var iN;function MF(){return iN||(iN=1,Mb.exports=IF()),Mb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function FF(){if(sN)return ia;sN=1;var e=H0(),t=MF();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,p){a(d,p),a(d+"Capture",p)}function a(d,p){for(i[d]=p,d=0;d<p.length;d++)r.add(p[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(d){return c.call(h,d)?!0:c.call(f,d)?!1:u.test(d)?h[d]=!0:(f[d]=!0,!1)}function m(d,p,v,N){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return N?!1:v!==null?!v.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,p,v,N){if(p===null||typeof p>"u"||m(d,p,v,N))return!0;if(N)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(d,p,v,N,E,L,Y){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=N,this.attributeNamespace=E,this.mustUseProperty=v,this.propertyName=d,this.type=p,this.sanitizeURL=L,this.removeEmptyString=Y}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){S[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];S[p]=new y(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){S[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){S[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){S[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){S[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){S[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){S[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){S[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(_,C);S[p]=new y(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(_,C);S[p]=new y(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(_,C);S[p]=new y(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){S[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),S.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){S[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function P(d,p,v,N){var E=S.hasOwnProperty(p)?S[p]:null;(E!==null?E.type!==0:N||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,v,E,N)&&(v=null),N||E===null?g(p)&&(v===null?d.removeAttribute(p):d.setAttribute(p,""+v)):E.mustUseProperty?d[E.propertyName]=v===null?E.type===3?!1:"":v:(p=E.attributeName,N=E.attributeNamespace,v===null?d.removeAttribute(p):(E=E.type,v=E===3||E===4&&v===!0?"":""+v,N?d.setAttributeNS(N,p,v):d.setAttribute(p,v))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),F=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(d){return d===null||typeof d!="object"?null:(d=z&&d[z]||d["@@iterator"],typeof d=="function"?d:null)}var se=Object.assign,X;function B(d){if(X===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);X=p&&p[1]||""}return`
`+X+d}var Q=!1;function re(d,p){if(!d||Q)return"";Q=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Te){var N=Te}Reflect.construct(d,[],p)}else{try{p.call()}catch(Te){N=Te}d.call(p.prototype)}else{try{throw Error()}catch(Te){N=Te}d()}}catch(Te){if(Te&&N&&typeof Te.stack=="string"){for(var E=Te.stack.split(`
`),L=N.stack.split(`
`),Y=E.length-1,pe=L.length-1;1<=Y&&0<=pe&&E[Y]!==L[pe];)pe--;for(;1<=Y&&0<=pe;Y--,pe--)if(E[Y]!==L[pe]){if(Y!==1||pe!==1)do if(Y--,pe--,0>pe||E[Y]!==L[pe]){var xe=`
`+E[Y].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=Y&&0<=pe);break}}}finally{Q=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?B(d):""}function ce(d){switch(d.tag){case 5:return B(d.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return d=re(d.type,!1),d;case 11:return d=re(d.type.render,!1),d;case 1:return d=re(d.type,!0),d;default:return""}}function ue(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case T:return"Fragment";case D:return"Portal";case U:return"Profiler";case M:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case F:return(d.displayName||"Context")+".Consumer";case ee:return(d._context.displayName||"Context")+".Provider";case O:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ae:return p=d.displayName||null,p!==null?p:ue(d.type)||"Memo";case J:p=d._payload,d=d._init;try{return ue(d(p))}catch{}}return null}function he(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(p);case 8:return p===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ge(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function be(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Le(d){var p=be(d)?"checked":"value",v=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),N=""+d[p];if(!d.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,L=v.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return E.call(this)},set:function(Y){N=""+Y,L.call(this,Y)}}),Object.defineProperty(d,p,{enumerable:v.enumerable}),{getValue:function(){return N},setValue:function(Y){N=""+Y},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function $e(d){d._valueTracker||(d._valueTracker=Le(d))}function qe(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var v=p.getValue(),N="";return d&&(N=be(d)?d.checked?"true":"false":d.value),d=N,d!==v?(p.setValue(d),!0):!1}function Qe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function yt(d,p){var v=p.checked;return se({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??d._wrapperState.initialChecked})}function De(d,p){var v=p.defaultValue==null?"":p.defaultValue,N=p.checked!=null?p.checked:p.defaultChecked;v=ge(p.value!=null?p.value:v),d._wrapperState={initialChecked:N,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function fe(d,p){p=p.checked,p!=null&&P(d,"checked",p,!1)}function Dt(d,p){fe(d,p);var v=ge(p.value),N=p.type;if(v!=null)N==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+v):d.value!==""+v&&(d.value=""+v);else if(N==="submit"||N==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?Ke(d,p.type,v):p.hasOwnProperty("defaultValue")&&Ke(d,p.type,ge(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function xt(d,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var N=p.type;if(!(N!=="submit"&&N!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,v||p===d.value||(d.value=p),d.defaultValue=p}v=d.name,v!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,v!==""&&(d.name=v)}function Ke(d,p,v){(p!=="number"||Qe(d.ownerDocument)!==d)&&(v==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+v&&(d.defaultValue=""+v))}var oe=Array.isArray;function me(d,p,v,N){if(d=d.options,p){p={};for(var E=0;E<v.length;E++)p["$"+v[E]]=!0;for(v=0;v<d.length;v++)E=p.hasOwnProperty("$"+d[v].value),d[v].selected!==E&&(d[v].selected=E),E&&N&&(d[v].defaultSelected=!0)}else{for(v=""+ge(v),p=null,E=0;E<d.length;E++){if(d[E].value===v){d[E].selected=!0,N&&(d[E].defaultSelected=!0);return}p!==null||d[E].disabled||(p=d[E])}p!==null&&(p.selected=!0)}}function _e(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Be(d,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(oe(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}d._wrapperState={initialValue:ge(v)}}function We(d,p){var v=ge(p.value),N=ge(p.defaultValue);v!=null&&(v=""+v,v!==d.value&&(d.value=v),p.defaultValue==null&&d.defaultValue!==v&&(d.defaultValue=v)),N!=null&&(d.defaultValue=""+N)}function Ie(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function et(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?et(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var $t,Pt=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,N,E){MSApp.execUnsafeLocalFunction(function(){return d(p,v,N,E)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=$t.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function qt(d,p){if(p){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=p;return}}d.textContent=p}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(d){Ir.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),st[p]=st[d]})});function fn(d,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||st.hasOwnProperty(d)&&st[d]?(""+p).trim():p+"px"}function oi(d,p){d=d.style;for(var v in p)if(p.hasOwnProperty(v)){var N=v.indexOf("--")===0,E=fn(v,p[v],N);v==="float"&&(v="cssFloat"),N?d.setProperty(v,E):d[v]=E}}var Wt=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(d,p){if(p){if(Wt[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Rn(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gt=null;function or(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var on=null,pr=null,qr=null;function Xn(d){if(d=ld(d)){if(typeof on!="function")throw Error(n(280));var p=d.stateNode;p&&(p=Wf(p),on(d.stateNode,d.type,p))}}function Vt(d){pr?qr?qr.push(d):qr=[d]:pr=d}function Nn(){if(pr){var d=pr,p=qr;if(qr=pr=null,Xn(d),p)for(d=0;d<p.length;d++)Xn(p[d])}}function Sl(d,p){return d(p)}function li(){}var Ws=!1;function ma(d,p,v){if(Ws)return d(p,v);Ws=!0;try{return Sl(d,p,v)}finally{Ws=!1,(pr!==null||qr!==null)&&(li(),Nn())}}function Mt(d,p){var v=d.stateNode;if(v===null)return null;var N=Wf(v);if(N===null)return null;v=N[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(d=d.type,N=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!N;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var Ss=!1;if(o)try{var es={};Object.defineProperty(es,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Ss=!1}function ts(d,p,v,N,E,L,Y,pe,xe){var Te=Array.prototype.slice.call(arguments,3);try{p.apply(v,Te)}catch(Ze){this.onError(Ze)}}var mr=!1,gr=null,Ai=!1,_l=null,No={onError:function(d){mr=!0,gr=d}};function ga(d,p,v,N,E,L,Y,pe,xe){mr=!1,gr=null,ts.apply(No,arguments)}function va(d,p,v,N,E,L,Y,pe,xe){if(ga.apply(this,arguments),mr){if(mr){var Te=gr;mr=!1,gr=null}else throw Error(n(198));Ai||(Ai=!0,_l=Te)}}function yi(d){var p=d,v=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(v=p.return),d=p.return;while(d)}return p.tag===3?v:null}function ya(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function _s(d){if(yi(d)!==d)throw Error(n(188))}function Wa(d){var p=d.alternate;if(!p){if(p=yi(d),p===null)throw Error(n(188));return p!==d?null:d}for(var v=d,N=p;;){var E=v.return;if(E===null)break;var L=E.alternate;if(L===null){if(N=E.return,N!==null){v=N;continue}break}if(E.child===L.child){for(L=E.child;L;){if(L===v)return _s(E),d;if(L===N)return _s(E),p;L=L.sibling}throw Error(n(188))}if(v.return!==N.return)v=E,N=L;else{for(var Y=!1,pe=E.child;pe;){if(pe===v){Y=!0,v=E,N=L;break}if(pe===N){Y=!0,N=E,v=L;break}pe=pe.sibling}if(!Y){for(pe=L.child;pe;){if(pe===v){Y=!0,v=L,N=E;break}if(pe===N){Y=!0,N=L,v=E;break}pe=pe.sibling}if(!Y)throw Error(n(189))}}if(v.alternate!==N)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?d:p}function Cl(d){return d=Wa(d),d!==null?wc(d):null}function wc(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=wc(d);if(p!==null)return p;d=d.sibling}return null}var Sc=t.unstable_scheduleCallback,_c=t.unstable_cancelCallback,Ru=t.unstable_shouldYield,np=t.unstable_requestPaint,vr=t.unstable_now,tg=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,_f=t.unstable_UserBlockingPriority,Tu=t.unstable_NormalPriority,Cf=t.unstable_LowPriority,rp=t.unstable_IdlePriority,Cc=null,Hs=null;function Lu(d){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Cc,d,void 0,(d.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:sp,Lr=Math.log,ip=Math.LN2;function sp(d){return d>>>=0,d===0?32:31-(Lr(d)/ip|0)|0}var Nc=64,jl=4194304;function jc(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function ns(d,p){var v=d.pendingLanes;if(v===0)return 0;var N=0,E=d.suspendedLanes,L=d.pingedLanes,Y=v&268435455;if(Y!==0){var pe=Y&~E;pe!==0?N=jc(pe):(L&=Y,L!==0&&(N=jc(L)))}else Y=v&~E,Y!==0?N=jc(Y):L!==0&&(N=jc(L));if(N===0)return 0;if(p!==0&&p!==N&&(p&E)===0&&(E=N&-N,L=p&-p,E>=L||E===16&&(L&4194240)!==0))return p;if((N&4)!==0&&(N|=v&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=N;0<p;)v=31-Cs(p),E=1<<v,N|=d[v],p&=~E;return N}function Du(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(d,p){for(var v=d.suspendedLanes,N=d.pingedLanes,E=d.expirationTimes,L=d.pendingLanes;0<L;){var Y=31-Cs(L),pe=1<<Y,xe=E[Y];xe===-1?((pe&v)===0||(pe&N)!==0)&&(E[Y]=Du(pe,p)):xe<=p&&(d.expiredLanes|=pe),L&=~pe}}function Pc(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Nf(){var d=Nc;return Nc<<=1,(Nc&4194240)===0&&(Nc=64),d}function jf(d){for(var p=[],v=0;31>v;v++)p.push(d);return p}function Pl(d,p,v){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-Cs(p),d[p]=v}function ng(d,p){var v=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var N=d.eventTimes;for(d=d.expirationTimes;0<v;){var E=31-Cs(v),L=1<<E;p[E]=0,N[E]=-1,d[E]=-1,v&=~L}}function Ou(d,p){var v=d.entangledLanes|=p;for(d=d.entanglements;v;){var N=31-Cs(v),E=1<<N;E&p|d[N]&p&&(d[N]|=p),v&=~E}}var Tn=0;function Iu(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var ap,Pf,op,Ha,Ac,Al=!1,kc=[],yr=null,qa=null,xa=null,Ht=new Map,Ec=new Map,Ga=[],Ka="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(d,p){switch(d){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ht.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(p.pointerId)}}function kl(d,p,v,N,E,L){return d===null||d.nativeEvent!==L?(d={blockedOn:p,domEventName:v,eventSystemFlags:N,nativeEvent:L,targetContainers:[E]},p!==null&&(p=ld(p),p!==null&&Pf(p)),d):(d.eventSystemFlags|=N,p=d.targetContainers,E!==null&&p.indexOf(E)===-1&&p.push(E),d)}function Mu(d,p,v,N,E){switch(p){case"focusin":return yr=kl(yr,d,p,v,N,E),!0;case"dragenter":return qa=kl(qa,d,p,v,N,E),!0;case"mouseover":return xa=kl(xa,d,p,v,N,E),!0;case"pointerover":var L=E.pointerId;return Ht.set(L,kl(Ht.get(L)||null,d,p,v,N,E)),!0;case"gotpointercapture":return L=E.pointerId,Ec.set(L,kl(Ec.get(L)||null,d,p,v,N,E)),!0}return!1}function Fu(d){var p=Bl(d.target);if(p!==null){var v=yi(p);if(v!==null){if(p=v.tag,p===13){if(p=ya(v),p!==null){d.blockedOn=p,Ac(d.priority,function(){op(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Bu(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var v=zu(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(v===null){v=d.nativeEvent;var N=new v.constructor(v.type,v);Gt=N,v.target.dispatchEvent(N),Gt=null}else return p=ld(v),p!==null&&Pf(p),d.blockedOn=v,!1;p.shift()}return!0}function lp(d,p,v){Bu(d)&&v.delete(p)}function rg(){Al=!1,yr!==null&&Bu(yr)&&(yr=null),qa!==null&&Bu(qa)&&(qa=null),xa!==null&&Bu(xa)&&(xa=null),Ht.forEach(lp),Ec.forEach(lp)}function jo(d,p){d.blockedOn===p&&(d.blockedOn=null,Al||(Al=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rg)))}function ba(d){function p(E){return jo(E,d)}if(0<kc.length){jo(kc[0],d);for(var v=1;v<kc.length;v++){var N=kc[v];N.blockedOn===d&&(N.blockedOn=null)}}for(yr!==null&&jo(yr,d),qa!==null&&jo(qa,d),xa!==null&&jo(xa,d),Ht.forEach(p),Ec.forEach(p),v=0;v<Ga.length;v++)N=Ga[v],N.blockedOn===d&&(N.blockedOn=null);for(;0<Ga.length&&(v=Ga[0],v.blockedOn===null);)Fu(v),v.blockedOn===null&&Ga.shift()}var Ns=A.ReactCurrentBatchConfig,Vu=!0;function $c(d,p,v,N){var E=Tn,L=Ns.transition;Ns.transition=null;try{Tn=1,El(d,p,v,N)}finally{Tn=E,Ns.transition=L}}function kf(d,p,v,N){var E=Tn,L=Ns.transition;Ns.transition=null;try{Tn=4,El(d,p,v,N)}finally{Tn=E,Ns.transition=L}}function El(d,p,v,N){if(Vu){var E=zu(d,p,v,N);if(E===null)Vf(d,p,N,Rc,v),Af(d,N);else if(Mu(E,d,p,v,N))N.stopPropagation();else if(Af(d,N),p&4&&-1<Ka.indexOf(d)){for(;E!==null;){var L=ld(E);if(L!==null&&ap(L),L=zu(d,p,v,N),L===null&&Vf(d,p,N,Rc,v),L===E)break;E=L}E!==null&&N.stopPropagation()}else Vf(d,p,N,null,v)}}var Rc=null;function zu(d,p,v,N){if(Rc=null,d=or(N),d=Bl(d),d!==null)if(p=yi(d),p===null)d=null;else if(v=p.tag,v===13){if(d=ya(p),d!==null)return d;d=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Rc=d,null}function Ef(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tg()){case Nl:return 1;case _f:return 4;case Tu:case Cf:return 16;case rp:return 536870912;default:return 16}default:return 16}}var wa=null,qs=null,Gs=null;function cp(){if(Gs)return Gs;var d,p=qs,v=p.length,N,E="value"in wa?wa.value:wa.textContent,L=E.length;for(d=0;d<v&&p[d]===E[d];d++);var Y=v-d;for(N=1;N<=Y&&p[v-N]===E[L-N];N++);return Gs=E.slice(d,1<N?1-N:void 0)}function Sa(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function is(){return!0}function Uu(){return!1}function Gr(d){function p(v,N,E,L,Y){this._reactName=v,this._targetInst=E,this.type=N,this.nativeEvent=L,this.target=Y,this.currentTarget=null;for(var pe in d)d.hasOwnProperty(pe)&&(v=d[pe],this[pe]=v?v(L):L[pe]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?is:Uu,this.isPropagationStopped=Uu,this}return se(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),p}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Gr($l),Tc=se({},$l,{view:0,detail:0}),$f=Gr(Tc),Lc,Wu,Ya,Tl=se({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mt,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ya&&(Ya&&d.type==="mousemove"?(Lc=d.screenX-Ya.screenX,Wu=d.screenY-Ya.screenY):Wu=Lc=0,Ya=d),Lc)},movementY:function(d){return"movementY"in d?d.movementY:Wu}}),Hu=Gr(Tl),up=se({},Tl,{dataTransfer:0}),ig=Gr(up),qu=se({},Tc,{relatedTarget:0}),Po=Gr(qu),Rf=se({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=Gr(Rf),Tf=se({},$l,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),k=Gr(Tf),G=se({},$l,{data:0}),de=Gr(G),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ye(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Me[d])?!!p[d]:!1}function mt(){return Ye}var It=se({},Tc,{key:function(d){if(d.key){var p=ve[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Sa(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?je[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mt,charCode:function(d){return d.type==="keypress"?Sa(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Sa(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ln=Gr(It),sn=se({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wn=Gr(sn),xr=se({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mt}),kr=Gr(xr),Mr=se({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),ki=Gr(Mr),ci=se({},Tl,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Gr(ci),js=[9,13,27,32],Ks=o&&"CompositionEvent"in window,Dl=null;o&&"documentMode"in document&&(Dl=document.documentMode);var Lf=o&&"TextEvent"in window&&!Dl,Gu=o&&(!Ks||Dl&&8<Dl&&11>=Dl),Dc=" ",Ku=!1;function Yu(d,p){switch(d){case"keyup":return js.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Er=!1;function Xu(d,p){switch(d){case"compositionend":return Oc(p);case"keypress":return p.which!==32?null:(Ku=!0,Dc);case"textInput":return d=p.data,d===Dc&&Ku?null:d;default:return null}}function Ju(d,p){if(Er)return d==="compositionend"||!Ks&&Yu(d,p)?(d=cp(),Gs=qs=wa=null,Er=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Gu&&p.locale!=="ko"?null:p.data;default:return null}}var Zu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!Zu[d.type]:p==="textarea"}function Wi(d,p,v,N){Vt(N),p=pp(p,"onChange"),0<p.length&&(v=new Rl("onChange","change",null,v,N),d.push({event:v,listeners:p}))}var Ic=null,Ao=null;function dp(d){Ff(d,0)}function Hi(d){var p=qc(d);if(qe(p))return d}function ed(d,p){if(d==="change")return p}var Df=!1;if(o){var td;if(o){var Xa="oninput"in document;if(!Xa){var Ol=document.createElement("div");Ol.setAttribute("oninput","return;"),Xa=typeof Ol.oninput=="function"}td=Xa}else td=!1;Df=td&&(!document.documentMode||9<document.documentMode)}function qi(){Ic&&(Ic.detachEvent("onpropertychange",Ei),Ao=Ic=null)}function Ei(d){if(d.propertyName==="value"&&Hi(Ao)){var p=[];Wi(p,Ao,d,or(d)),ma(dp,p)}}function Il(d,p,v){d==="focusin"?(qi(),Ic=p,Ao=v,Ic.attachEvent("onpropertychange",Ei)):d==="focusout"&&qi()}function ko(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Hi(Ao)}function Eo(d,p){if(d==="click")return Hi(p)}function nd(d,p){if(d==="input"||d==="change")return Hi(p)}function $o(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Ln=typeof Object.is=="function"?Object.is:$o;function Ro(d,p){if(Ln(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var v=Object.keys(d),N=Object.keys(p);if(v.length!==N.length)return!1;for(N=0;N<v.length;N++){var E=v[N];if(!c.call(p,E)||!Ln(d[E],p[E]))return!1}return!0}function $i(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ps(d,p){var v=$i(d);d=0;for(var N;v;){if(v.nodeType===3){if(N=d+v.textContent.length,d<=p&&N>=p)return{node:v,offset:p-d};d=N}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=$i(v)}}function Mc(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Mc(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function Of(){for(var d=window,p=Qe();p instanceof d.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)d=p.contentWindow;else break;p=Qe(d.document)}return p}function Fc(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Bc(d){var p=Of(),v=d.focusedElem,N=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&Mc(v.ownerDocument.documentElement,v)){if(N!==null&&Fc(v)){if(p=N.start,d=N.end,d===void 0&&(d=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(d,v.value.length);else if(d=(p=v.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var E=v.textContent.length,L=Math.min(N.start,E);N=N.end===void 0?L:Math.min(N.end,E),!d.extend&&L>N&&(E=N,N=L,L=E),E=Ps(v,L);var Y=Ps(v,N);E&&Y&&(d.rangeCount!==1||d.anchorNode!==E.node||d.anchorOffset!==E.offset||d.focusNode!==Y.node||d.focusOffset!==Y.offset)&&(p=p.createRange(),p.setStart(E.node,E.offset),d.removeAllRanges(),L>N?(d.addRange(p),d.extend(Y.node,Y.offset)):(p.setEnd(Y.node,Y.offset),d.addRange(p)))}}for(p=[],d=v;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)d=p[v],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Vc=o&&"documentMode"in document&&11>=document.documentMode,As=null,To=null,Ja=null,Lo=!1;function Do(d,p,v){var N=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Lo||As==null||As!==Qe(N)||(N=As,"selectionStart"in N&&Fc(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Ja&&Ro(Ja,N)||(Ja=N,N=pp(To,"onSelect"),0<N.length&&(p=new Rl("onSelect","select",null,p,v),d.push({event:p,listeners:N}),p.target=As)))}function Ml(d,p){var v={};return v[d.toLowerCase()]=p.toLowerCase(),v["Webkit"+d]="webkit"+p,v["Moz"+d]="moz"+p,v}var xi={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},ss={},Jn={};o&&(Jn=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Un(d){if(ss[d])return ss[d];if(!xi[d])return d;var p=xi[d],v;for(v in p)if(p.hasOwnProperty(v)&&v in Jn)return ss[d]=p[v];return d}var $r=Un("animationend"),Fr=Un("animationiteration"),Za=Un("animationstart"),rd=Un("transitionend"),zc=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(d,p){zc.set(d,p),s(p,[d])}for(var id=0;id<If.length;id++){var Gi=If[id],Ys=Gi.toLowerCase(),fp=Gi[0].toUpperCase()+Gi.slice(1);Qa(Ys,"on"+fp)}Qa($r,"onAnimationEnd"),Qa(Fr,"onAnimationIteration"),Qa(Za,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(rd,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Mf(d,p,v){var N=d.type||"unknown-event";d.currentTarget=v,va(N,p,void 0,d),d.currentTarget=null}function Ff(d,p){p=(p&4)!==0;for(var v=0;v<d.length;v++){var N=d[v],E=N.event;N=N.listeners;e:{var L=void 0;if(p)for(var Y=N.length-1;0<=Y;Y--){var pe=N[Y],xe=pe.instance,Te=pe.currentTarget;if(pe=pe.listener,xe!==L&&E.isPropagationStopped())break e;Mf(E,pe,Te),L=xe}else for(Y=0;Y<N.length;Y++){if(pe=N[Y],xe=pe.instance,Te=pe.currentTarget,pe=pe.listener,xe!==L&&E.isPropagationStopped())break e;Mf(E,pe,Te),L=xe}}}if(Ai)throw d=_l,Ai=!1,_l=null,d}function Zn(d,p){var v=p[os];v===void 0&&(v=p[os]=new Set);var N=d+"__bubble";v.has(N)||(Bf(p,d,2,!1),v.add(N))}function hp(d,p,v){var N=0;p&&(N|=4),Bf(v,d,N,p)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Uc(d){if(!d[sd]){d[sd]=!0,r.forEach(function(v){v!=="selectionchange"&&(Rv.has(v)||hp(v,!1,d),hp(v,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[sd]||(p[sd]=!0,hp("selectionchange",!1,p))}}function Bf(d,p,v,N){switch(Ef(p)){case 1:var E=$c;break;case 4:E=kf;break;default:E=El}v=E.bind(null,p,v,d),E=void 0,!Ss||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(E=!0),N?E!==void 0?d.addEventListener(p,v,{capture:!0,passive:E}):d.addEventListener(p,v,!0):E!==void 0?d.addEventListener(p,v,{passive:E}):d.addEventListener(p,v,!1)}function Vf(d,p,v,N,E){var L=N;if((p&1)===0&&(p&2)===0&&N!==null)e:for(;;){if(N===null)return;var Y=N.tag;if(Y===3||Y===4){var pe=N.stateNode.containerInfo;if(pe===E||pe.nodeType===8&&pe.parentNode===E)break;if(Y===4)for(Y=N.return;Y!==null;){var xe=Y.tag;if((xe===3||xe===4)&&(xe=Y.stateNode.containerInfo,xe===E||xe.nodeType===8&&xe.parentNode===E))return;Y=Y.return}for(;pe!==null;){if(Y=Bl(pe),Y===null)return;if(xe=Y.tag,xe===5||xe===6){N=L=Y;continue e}pe=pe.parentNode}}N=N.return}ma(function(){var Te=L,Ze=or(v),tt=[];e:{var Xe=zc.get(d);if(Xe!==void 0){var bt=Rl,At=d;switch(d){case"keypress":if(Sa(v)===0)break e;case"keydown":case"keyup":bt=ln;break;case"focusin":At="focus",bt=Po;break;case"focusout":At="blur",bt=Po;break;case"beforeblur":case"afterblur":bt=Po;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=kr;break;case $r:case Fr:case Za:bt=Ll;break;case rd:bt=ki;break;case"scroll":bt=$f;break;case"wheel":bt=_a;break;case"copy":case"cut":case"paste":bt=k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=wn}var Rt=(p&4)!==0,Jr=!Rt&&d==="scroll",ke=Rt?Xe!==null?Xe+"Capture":null:Xe;Rt=[];for(var Ce=Te,Ee;Ce!==null;){Ee=Ce;var at=Ee.stateNode;if(Ee.tag===5&&at!==null&&(Ee=at,ke!==null&&(at=Mt(Ce,ke),at!=null&&Rt.push(zf(Ce,at,Ee)))),Jr)break;Ce=Ce.return}0<Rt.length&&(Xe=new bt(Xe,At,null,v,Ze),tt.push({event:Xe,listeners:Rt}))}}if((p&7)===0){e:{if(Xe=d==="mouseover"||d==="pointerover",bt=d==="mouseout"||d==="pointerout",Xe&&v!==Gt&&(At=v.relatedTarget||v.fromElement)&&(Bl(At)||At[Ri]))break e;if((bt||Xe)&&(Xe=Ze.window===Ze?Ze:(Xe=Ze.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,bt?(At=v.relatedTarget||v.toElement,bt=Te,At=At?Bl(At):null,At!==null&&(Jr=yi(At),At!==Jr||At.tag!==5&&At.tag!==6)&&(At=null)):(bt=null,At=Te),bt!==At)){if(Rt=Hu,at="onMouseLeave",ke="onMouseEnter",Ce="mouse",(d==="pointerout"||d==="pointerover")&&(Rt=wn,at="onPointerLeave",ke="onPointerEnter",Ce="pointer"),Jr=bt==null?Xe:qc(bt),Ee=At==null?Xe:qc(At),Xe=new Rt(at,Ce+"leave",bt,v,Ze),Xe.target=Jr,Xe.relatedTarget=Ee,at=null,Bl(Ze)===Te&&(Rt=new Rt(ke,Ce+"enter",At,v,Ze),Rt.target=Ee,Rt.relatedTarget=Jr,at=Rt),Jr=at,bt&&At)t:{for(Rt=bt,ke=At,Ce=0,Ee=Rt;Ee;Ee=Wc(Ee))Ce++;for(Ee=0,at=ke;at;at=Wc(at))Ee++;for(;0<Ce-Ee;)Rt=Wc(Rt),Ce--;for(;0<Ee-Ce;)ke=Wc(ke),Ee--;for(;Ce--;){if(Rt===ke||ke!==null&&Rt===ke.alternate)break t;Rt=Wc(Rt),ke=Wc(ke)}Rt=null}else Rt=null;bt!==null&&Tv(tt,Xe,bt,Rt,!1),At!==null&&Jr!==null&&Tv(tt,Jr,At,Rt,!0)}}e:{if(Xe=Te?qc(Te):window,bt=Xe.nodeName&&Xe.nodeName.toLowerCase(),bt==="select"||bt==="input"&&Xe.type==="file")var Tt=ed;else if(Qu(Xe))if(Df)Tt=nd;else{Tt=ko;var zt=Il}else(bt=Xe.nodeName)&&bt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Tt=Eo);if(Tt&&(Tt=Tt(d,Te))){Wi(tt,Tt,v,Ze);break e}zt&&zt(d,Xe,Te),d==="focusout"&&(zt=Xe._wrapperState)&&zt.controlled&&Xe.type==="number"&&Ke(Xe,"number",Xe.value)}switch(zt=Te?qc(Te):window,d){case"focusin":(Qu(zt)||zt.contentEditable==="true")&&(As=zt,To=Te,Ja=null);break;case"focusout":Ja=To=As=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Do(tt,v,Ze);break;case"selectionchange":if(Vc)break;case"keydown":case"keyup":Do(tt,v,Ze)}var Ut;if(Ks)e:{switch(d){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Er?Yu(d,v)&&(nn="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(nn="onCompositionStart");nn&&(Gu&&v.locale!=="ko"&&(Er||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Er&&(Ut=cp()):(wa=Ze,qs="value"in wa?wa.value:wa.textContent,Er=!0)),zt=pp(Te,nn),0<zt.length&&(nn=new de(nn,d,null,v,Ze),tt.push({event:nn,listeners:zt}),Ut?nn.data=Ut:(Ut=Oc(v),Ut!==null&&(nn.data=Ut)))),(Ut=Lf?Xu(d,v):Ju(d,v))&&(Te=pp(Te,"onBeforeInput"),0<Te.length&&(Ze=new de("onBeforeInput","beforeinput",null,v,Ze),tt.push({event:Ze,listeners:Te}),Ze.data=Ut))}Ff(tt,p)})}function zf(d,p,v){return{instance:d,listener:p,currentTarget:v}}function pp(d,p){for(var v=p+"Capture",N=[];d!==null;){var E=d,L=E.stateNode;E.tag===5&&L!==null&&(E=L,L=Mt(d,v),L!=null&&N.unshift(zf(d,L,E)),L=Mt(d,p),L!=null&&N.push(zf(d,L,E))),d=d.return}return N}function Wc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Tv(d,p,v,N,E){for(var L=p._reactName,Y=[];v!==null&&v!==N;){var pe=v,xe=pe.alternate,Te=pe.stateNode;if(xe!==null&&xe===N)break;pe.tag===5&&Te!==null&&(pe=Te,E?(xe=Mt(v,L),xe!=null&&Y.unshift(zf(v,xe,pe))):E||(xe=Mt(v,L),xe!=null&&Y.push(zf(v,xe,pe)))),v=v.return}Y.length!==0&&d.push({event:p,listeners:Y})}var Y2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function Lv(d){return(typeof d=="string"?d:""+d).replace(Y2,`
`).replace(X2,"")}function mp(d,p,v){if(p=Lv(p),Lv(d)!==p&&v)throw Error(n(425))}function ad(){}var Uf=null,Hc=null;function sg(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(d){return Ov.resolve(null).then(d).catch(Z2)}:ag;function Z2(d){setTimeout(function(){throw d})}function og(d,p){var v=p,N=0;do{var E=v.nextSibling;if(d.removeChild(v),E&&E.nodeType===8)if(v=E.data,v==="/$"){if(N===0){d.removeChild(E),ba(p);return}N--}else v!=="$"&&v!=="$?"&&v!=="$!"||N++;v=E}while(v);ba(p)}function Ki(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function Xs(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return d;p--}else v==="/$"&&p++}d=d.previousSibling}return null}var as=Math.random().toString(36).slice(2),eo="__reactFiber$"+as,od="__reactProps$"+as,Ri="__reactContainer$"+as,os="__reactEvents$"+as,Q2="__reactListeners$"+as,eb="__reactHandles$"+as;function Bl(d){var p=d[eo];if(p)return p;for(var v=d.parentNode;v;){if(p=v[Ri]||v[eo]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(d=Xs(d);d!==null;){if(v=d[eo])return v;d=Xs(d)}return p}d=v,v=d.parentNode}return null}function ld(d){return d=d[eo]||d[Ri],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function qc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Wf(d){return d[od]||null}var lg=[],Oo=-1;function Ca(d){return{current:d}}function Wn(d){0>Oo||(d.current=lg[Oo],lg[Oo]=null,Oo--)}function Gn(d,p){Oo++,lg[Oo]=d.current,d.current=p}var Vl={},bi=Ca(Vl),ls=Ca(!1),Gc=Vl;function cd(d,p){var v=d.type.contextTypes;if(!v)return Vl;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===p)return N.__reactInternalMemoizedMaskedChildContext;var E={},L;for(L in v)E[L]=p[L];return N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=E),E}function cs(d){return d=d.childContextTypes,d!=null}function gp(){Wn(ls),Wn(bi)}function Iv(d,p,v){if(bi.current!==Vl)throw Error(n(168));Gn(bi,p),Gn(ls,v)}function cg(d,p,v){var N=d.stateNode;if(p=p.childContextTypes,typeof N.getChildContext!="function")return v;N=N.getChildContext();for(var E in N)if(!(E in p))throw Error(n(108,he(d)||"Unknown",E));return se({},v,N)}function Kc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Vl,Gc=bi.current,Gn(bi,d),Gn(ls,ls.current),!0}function Mv(d,p,v){var N=d.stateNode;if(!N)throw Error(n(169));v?(d=cg(d,p,Gc),N.__reactInternalMemoizedMergedChildContext=d,Wn(ls),Wn(bi),Gn(bi,d)):Wn(ls),Gn(ls,v)}var Io=null,Hf=!1,b=!1;function j(d){Io===null?Io=[d]:Io.push(d)}function $(d){Hf=!0,j(d)}function I(){if(!b&&Io!==null){b=!0;var d=0,p=Tn;try{var v=Io;for(Tn=1;d<v.length;d++){var N=v[d];do N=N(!0);while(N!==null)}Io=null,Hf=!1}catch(E){throw Io!==null&&(Io=Io.slice(d+1)),Sc(Nl,I),E}finally{Tn=p,b=!1}}return null}var q=[],K=0,Z=null,te=0,ie=[],le=0,ye=null,Pe=1,Ae="";function Ne(d,p){q[K++]=te,q[K++]=Z,Z=d,te=p}function Ge(d,p,v){ie[le++]=Pe,ie[le++]=Ae,ie[le++]=ye,ye=d;var N=Pe;d=Ae;var E=32-Cs(N)-1;N&=~(1<<E),v+=1;var L=32-Cs(p)+E;if(30<L){var Y=E-E%5;L=(N&(1<<Y)-1).toString(32),N>>=Y,E-=Y,Pe=1<<32-Cs(p)+E|v<<E|N,Ae=L+d}else Pe=1<<L|v<<E|N,Ae=d}function Oe(d){d.return!==null&&(Ne(d,1),Ge(d,1,0))}function we(d){for(;d===Z;)Z=q[--K],q[K]=null,te=q[--K],q[K]=null;for(;d===ye;)ye=ie[--le],ie[le]=null,Ae=ie[--le],ie[le]=null,Pe=ie[--le],ie[le]=null}var Se=null,Ve=null,Fe=!1,He=null;function gt(d,p){var v=ao(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=d,p=d.deletions,p===null?(d.deletions=[v],d.flags|=16):p.push(v)}function dt(d,p){switch(d.tag){case 5:var v=d.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Se=d,Ve=Ki(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Se=d,Ve=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=ye!==null?{id:Pe,overflow:Ae}:null,d.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=ao(18,null,null,0),v.stateNode=p,v.return=d,d.child=v,Se=d,Ve=null,!0):!1;default:return!1}}function Ft(d){return(d.mode&1)!==0&&(d.flags&128)===0}function ft(d){if(Fe){var p=Ve;if(p){var v=p;if(!dt(d,p)){if(Ft(d))throw Error(n(418));p=Ki(v.nextSibling);var N=Se;p&&dt(d,p)?gt(N,v):(d.flags=d.flags&-4097|2,Fe=!1,Se=d)}}else{if(Ft(d))throw Error(n(418));d.flags=d.flags&-4097|2,Fe=!1,Se=d}}}function An(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Se=d}function kn(d){if(d!==Se)return!1;if(!Fe)return An(d),Fe=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!sg(d.type,d.memoizedProps)),p&&(p=Ve)){if(Ft(d))throw _n(),Error(n(418));for(;p;)gt(d,p),p=Ki(p.nextSibling)}if(An(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="/$"){if(p===0){Ve=Ki(d.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}d=d.nextSibling}Ve=null}}else Ve=Se?Ki(d.stateNode.nextSibling):null;return!0}function _n(){for(var d=Ve;d;)d=Ki(d.nextSibling)}function dn(){Ve=Se=null,Fe=!1}function Hn(d){He===null?He=[d]:He.push(d)}var Kn=A.ReactCurrentBatchConfig;function Qt(d,p,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var N=v.stateNode}if(!N)throw Error(n(147,d));var E=N,L=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===L?p.ref:(p=function(Y){var pe=E.refs;Y===null?delete pe[L]:pe[L]=Y},p._stringRef=L,p)}if(typeof d!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,d))}return d}function br(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function Yi(d){var p=d._init;return p(d._payload)}function Dr(d){function p(ke,Ce){if(d){var Ee=ke.deletions;Ee===null?(ke.deletions=[Ce],ke.flags|=16):Ee.push(Ce)}}function v(ke,Ce){if(!d)return null;for(;Ce!==null;)p(ke,Ce),Ce=Ce.sibling;return null}function N(ke,Ce){for(ke=new Map;Ce!==null;)Ce.key!==null?ke.set(Ce.key,Ce):ke.set(Ce.index,Ce),Ce=Ce.sibling;return ke}function E(ke,Ce){return ke=wd(ke,Ce),ke.index=0,ke.sibling=null,ke}function L(ke,Ce,Ee){return ke.index=Ee,d?(Ee=ke.alternate,Ee!==null?(Ee=Ee.index,Ee<Ce?(ke.flags|=2,Ce):Ee):(ke.flags|=2,Ce)):(ke.flags|=1048576,Ce)}function Y(ke){return d&&ke.alternate===null&&(ke.flags|=2),ke}function pe(ke,Ce,Ee,at){return Ce===null||Ce.tag!==6?(Ce=kb(Ee,ke.mode,at),Ce.return=ke,Ce):(Ce=E(Ce,Ee),Ce.return=ke,Ce)}function xe(ke,Ce,Ee,at){var Tt=Ee.type;return Tt===T?Ze(ke,Ce,Ee.props.children,at,Ee.key):Ce!==null&&(Ce.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===J&&Yi(Tt)===Ce.type)?(at=E(Ce,Ee.props),at.ref=Qt(ke,Ce,Ee),at.return=ke,at):(at=i1(Ee.type,Ee.key,Ee.props,null,ke.mode,at),at.ref=Qt(ke,Ce,Ee),at.return=ke,at)}function Te(ke,Ce,Ee,at){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ee.containerInfo||Ce.stateNode.implementation!==Ee.implementation?(Ce=Eb(Ee,ke.mode,at),Ce.return=ke,Ce):(Ce=E(Ce,Ee.children||[]),Ce.return=ke,Ce)}function Ze(ke,Ce,Ee,at,Tt){return Ce===null||Ce.tag!==7?(Ce=Qf(Ee,ke.mode,at,Tt),Ce.return=ke,Ce):(Ce=E(Ce,Ee),Ce.return=ke,Ce)}function tt(ke,Ce,Ee){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=kb(""+Ce,ke.mode,Ee),Ce.return=ke,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case R:return Ee=i1(Ce.type,Ce.key,Ce.props,null,ke.mode,Ee),Ee.ref=Qt(ke,null,Ce),Ee.return=ke,Ee;case D:return Ce=Eb(Ce,ke.mode,Ee),Ce.return=ke,Ce;case J:var at=Ce._init;return tt(ke,at(Ce._payload),Ee)}if(oe(Ce)||ne(Ce))return Ce=Qf(Ce,ke.mode,Ee,null),Ce.return=ke,Ce;br(ke,Ce)}return null}function Xe(ke,Ce,Ee,at){var Tt=Ce!==null?Ce.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Tt!==null?null:pe(ke,Ce,""+Ee,at);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case R:return Ee.key===Tt?xe(ke,Ce,Ee,at):null;case D:return Ee.key===Tt?Te(ke,Ce,Ee,at):null;case J:return Tt=Ee._init,Xe(ke,Ce,Tt(Ee._payload),at)}if(oe(Ee)||ne(Ee))return Tt!==null?null:Ze(ke,Ce,Ee,at,null);br(ke,Ee)}return null}function bt(ke,Ce,Ee,at,Tt){if(typeof at=="string"&&at!==""||typeof at=="number")return ke=ke.get(Ee)||null,pe(Ce,ke,""+at,Tt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case R:return ke=ke.get(at.key===null?Ee:at.key)||null,xe(Ce,ke,at,Tt);case D:return ke=ke.get(at.key===null?Ee:at.key)||null,Te(Ce,ke,at,Tt);case J:var zt=at._init;return bt(ke,Ce,Ee,zt(at._payload),Tt)}if(oe(at)||ne(at))return ke=ke.get(Ee)||null,Ze(Ce,ke,at,Tt,null);br(Ce,at)}return null}function At(ke,Ce,Ee,at){for(var Tt=null,zt=null,Ut=Ce,nn=Ce=0,Oi=null;Ut!==null&&nn<Ee.length;nn++){Ut.index>nn?(Oi=Ut,Ut=null):Oi=Ut.sibling;var Bn=Xe(ke,Ut,Ee[nn],at);if(Bn===null){Ut===null&&(Ut=Oi);break}d&&Ut&&Bn.alternate===null&&p(ke,Ut),Ce=L(Bn,Ce,nn),zt===null?Tt=Bn:zt.sibling=Bn,zt=Bn,Ut=Oi}if(nn===Ee.length)return v(ke,Ut),Fe&&Ne(ke,nn),Tt;if(Ut===null){for(;nn<Ee.length;nn++)Ut=tt(ke,Ee[nn],at),Ut!==null&&(Ce=L(Ut,Ce,nn),zt===null?Tt=Ut:zt.sibling=Ut,zt=Ut);return Fe&&Ne(ke,nn),Tt}for(Ut=N(ke,Ut);nn<Ee.length;nn++)Oi=bt(Ut,ke,nn,Ee[nn],at),Oi!==null&&(d&&Oi.alternate!==null&&Ut.delete(Oi.key===null?nn:Oi.key),Ce=L(Oi,Ce,nn),zt===null?Tt=Oi:zt.sibling=Oi,zt=Oi);return d&&Ut.forEach(function(Sd){return p(ke,Sd)}),Fe&&Ne(ke,nn),Tt}function Rt(ke,Ce,Ee,at){var Tt=ne(Ee);if(typeof Tt!="function")throw Error(n(150));if(Ee=Tt.call(Ee),Ee==null)throw Error(n(151));for(var zt=Tt=null,Ut=Ce,nn=Ce=0,Oi=null,Bn=Ee.next();Ut!==null&&!Bn.done;nn++,Bn=Ee.next()){Ut.index>nn?(Oi=Ut,Ut=null):Oi=Ut.sibling;var Sd=Xe(ke,Ut,Bn.value,at);if(Sd===null){Ut===null&&(Ut=Oi);break}d&&Ut&&Sd.alternate===null&&p(ke,Ut),Ce=L(Sd,Ce,nn),zt===null?Tt=Sd:zt.sibling=Sd,zt=Sd,Ut=Oi}if(Bn.done)return v(ke,Ut),Fe&&Ne(ke,nn),Tt;if(Ut===null){for(;!Bn.done;nn++,Bn=Ee.next())Bn=tt(ke,Bn.value,at),Bn!==null&&(Ce=L(Bn,Ce,nn),zt===null?Tt=Bn:zt.sibling=Bn,zt=Bn);return Fe&&Ne(ke,nn),Tt}for(Ut=N(ke,Ut);!Bn.done;nn++,Bn=Ee.next())Bn=bt(Ut,ke,nn,Bn.value,at),Bn!==null&&(d&&Bn.alternate!==null&&Ut.delete(Bn.key===null?nn:Bn.key),Ce=L(Bn,Ce,nn),zt===null?Tt=Bn:zt.sibling=Bn,zt=Bn);return d&&Ut.forEach(function(EF){return p(ke,EF)}),Fe&&Ne(ke,nn),Tt}function Jr(ke,Ce,Ee,at){if(typeof Ee=="object"&&Ee!==null&&Ee.type===T&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case R:e:{for(var Tt=Ee.key,zt=Ce;zt!==null;){if(zt.key===Tt){if(Tt=Ee.type,Tt===T){if(zt.tag===7){v(ke,zt.sibling),Ce=E(zt,Ee.props.children),Ce.return=ke,ke=Ce;break e}}else if(zt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===J&&Yi(Tt)===zt.type){v(ke,zt.sibling),Ce=E(zt,Ee.props),Ce.ref=Qt(ke,zt,Ee),Ce.return=ke,ke=Ce;break e}v(ke,zt);break}else p(ke,zt);zt=zt.sibling}Ee.type===T?(Ce=Qf(Ee.props.children,ke.mode,at,Ee.key),Ce.return=ke,ke=Ce):(at=i1(Ee.type,Ee.key,Ee.props,null,ke.mode,at),at.ref=Qt(ke,Ce,Ee),at.return=ke,ke=at)}return Y(ke);case D:e:{for(zt=Ee.key;Ce!==null;){if(Ce.key===zt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ee.containerInfo&&Ce.stateNode.implementation===Ee.implementation){v(ke,Ce.sibling),Ce=E(Ce,Ee.children||[]),Ce.return=ke,ke=Ce;break e}else{v(ke,Ce);break}else p(ke,Ce);Ce=Ce.sibling}Ce=Eb(Ee,ke.mode,at),Ce.return=ke,ke=Ce}return Y(ke);case J:return zt=Ee._init,Jr(ke,Ce,zt(Ee._payload),at)}if(oe(Ee))return At(ke,Ce,Ee,at);if(ne(Ee))return Rt(ke,Ce,Ee,at);br(ke,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,Ce!==null&&Ce.tag===6?(v(ke,Ce.sibling),Ce=E(Ce,Ee),Ce.return=ke,ke=Ce):(v(ke,Ce),Ce=kb(Ee,ke.mode,at),Ce.return=ke,ke=Ce),Y(ke)):v(ke,Ce)}return Jr}var Kr=Dr(!0),Mn=Dr(!1),Ti=Ca(null),Li=null,wr=null,Yr=null;function wi(){Yr=wr=Li=null}function us(d){var p=Ti.current;Wn(Ti),d._currentValue=p}function Js(d,p,v){for(;d!==null;){var N=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,N!==null&&(N.childLanes|=p)):N!==null&&(N.childLanes&p)!==p&&(N.childLanes|=p),d===v)break;d=d.return}}function Sr(d,p){Li=d,Yr=wr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(ta=!0),d.firstContext=null)}function Br(d){var p=d._currentValue;if(Yr!==d)if(d={context:d,memoizedValue:p,next:null},wr===null){if(Li===null)throw Error(n(308));wr=d,Li.dependencies={lanes:0,firstContext:d}}else wr=wr.next=d;return p}var ks=null;function zl(d){ks===null?ks=[d]:ks.push(d)}function Mo(d,p,v,N){var E=p.interleaved;return E===null?(v.next=v,zl(p)):(v.next=E.next,E.next=v),p.interleaved=v,Fn(d,N)}function Fn(d,p){d.lanes|=p;var v=d.alternate;for(v!==null&&(v.lanes|=p),v=d,d=d.return;d!==null;)d.childLanes|=p,v=d.alternate,v!==null&&(v.childLanes|=p),v=d,d=d.return;return v.tag===3?v.stateNode:null}var to=!1;function vp(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Zs(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Qs(d,p,v){var N=d.updateQueue;if(N===null)return null;if(N=N.shared,(Dn&2)!==0){var E=N.pending;return E===null?p.next=p:(p.next=E.next,E.next=p),N.pending=p,Fn(d,v)}return E=N.interleaved,E===null?(p.next=p,zl(N)):(p.next=E.next,E.next=p),N.interleaved=p,Fn(d,v)}function Yc(d,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var N=p.lanes;N&=d.pendingLanes,v|=N,p.lanes=v,Ou(d,v)}}function ea(d,p){var v=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,v===N)){var E=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var Y={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};L===null?E=L=Y:L=L.next=Y,v=v.next}while(v!==null);L===null?E=L=p:L=L.next=p}else E=L=p;v={baseState:N.baseState,firstBaseUpdate:E,lastBaseUpdate:L,shared:N.shared,effects:N.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=p:d.next=p,v.lastBaseUpdate=p}function Fo(d,p,v,N){var E=d.updateQueue;to=!1;var L=E.firstBaseUpdate,Y=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var xe=pe,Te=xe.next;xe.next=null,Y===null?L=Te:Y.next=Te,Y=xe;var Ze=d.alternate;Ze!==null&&(Ze=Ze.updateQueue,pe=Ze.lastBaseUpdate,pe!==Y&&(pe===null?Ze.firstBaseUpdate=Te:pe.next=Te,Ze.lastBaseUpdate=xe))}if(L!==null){var tt=E.baseState;Y=0,Ze=Te=xe=null,pe=L;do{var Xe=pe.lane,bt=pe.eventTime;if((N&Xe)===Xe){Ze!==null&&(Ze=Ze.next={eventTime:bt,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var At=d,Rt=pe;switch(Xe=p,bt=v,Rt.tag){case 1:if(At=Rt.payload,typeof At=="function"){tt=At.call(bt,tt,Xe);break e}tt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Rt.payload,Xe=typeof At=="function"?At.call(bt,tt,Xe):At,Xe==null)break e;tt=se({},tt,Xe);break e;case 2:to=!0}}pe.callback!==null&&pe.lane!==0&&(d.flags|=64,Xe=E.effects,Xe===null?E.effects=[pe]:Xe.push(pe))}else bt={eventTime:bt,lane:Xe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Ze===null?(Te=Ze=bt,xe=tt):Ze=Ze.next=bt,Y|=Xe;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;Xe=pe,pe=Xe.next,Xe.next=null,E.lastBaseUpdate=Xe,E.shared.pending=null}}while(!0);if(Ze===null&&(xe=tt),E.baseState=xe,E.firstBaseUpdate=Te,E.lastBaseUpdate=Ze,p=E.shared.interleaved,p!==null){E=p;do Y|=E.lane,E=E.next;while(E!==p)}else L===null&&(E.shared.lanes=0);Yf|=Y,d.lanes=Y,d.memoizedState=tt}}function Xc(d,p,v){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var N=d[p],E=N.callback;if(E!==null){if(N.callback=null,N=v,typeof E!="function")throw Error(n(191,E));E.call(N)}}}var ud={},Es=Ca(ud),dd=Ca(ud),Ul=Ca(ud);function Bo(d){if(d===ud)throw Error(n(174));return d}function fd(d,p){switch(Gn(Ul,p),Gn(dd,d),Gn(Es,ud),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:St(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=St(p,d)}Wn(Es),Gn(Es,p)}function no(){Wn(Es),Wn(dd),Wn(Ul)}function Fv(d){Bo(Ul.current);var p=Bo(Es.current),v=St(p,d.type);p!==v&&(Gn(dd,d),Gn(Es,v))}function dg(d){dd.current===d&&(Wn(Es),Wn(dd))}var rr=Ca(0);function Na(d){for(var p=d;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var fg=[];function hg(){for(var d=0;d<fg.length;d++)fg[d]._workInProgressVersionPrimary=null;fg.length=0}var yp=A.ReactCurrentDispatcher,xp=A.ReactCurrentBatchConfig,ro=0,lr=null,Vr=null,Or=null,hd=!1,Vo=!1,pd=0,tb=0;function Xr(){throw Error(n(321))}function bp(d,p){if(p===null)return!1;for(var v=0;v<p.length&&v<d.length;v++)if(!Ln(d[v],p[v]))return!1;return!0}function qf(d,p,v,N,E,L){if(ro=L,lr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,yp.current=d===null||d.memoizedState===null?nF:rF,d=v(N,E),Vo){L=0;do{if(Vo=!1,pd=0,25<=L)throw Error(n(301));L+=1,Or=Vr=null,p.updateQueue=null,yp.current=iF,d=v(N,E)}while(Vo)}if(yp.current=Wv,p=Vr!==null&&Vr.next!==null,ro=0,Or=Vr=lr=null,hd=!1,p)throw Error(n(300));return d}function io(){var d=pd!==0;return pd=0,d}function ja(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?lr.memoizedState=Or=d:Or=Or.next=d,Or}function $s(){if(Vr===null){var d=lr.alternate;d=d!==null?d.memoizedState:null}else d=Vr.next;var p=Or===null?lr.memoizedState:Or.next;if(p!==null)Or=p,Vr=d;else{if(d===null)throw Error(n(310));Vr=d,d={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Or===null?lr.memoizedState=Or=d:Or=Or.next=d}return Or}function Gf(d,p){return typeof p=="function"?p(d):p}function wp(d){var p=$s(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var N=Vr,E=N.baseQueue,L=v.pending;if(L!==null){if(E!==null){var Y=E.next;E.next=L.next,L.next=Y}N.baseQueue=E=L,v.pending=null}if(E!==null){L=E.next,N=N.baseState;var pe=Y=null,xe=null,Te=L;do{var Ze=Te.lane;if((ro&Ze)===Ze)xe!==null&&(xe=xe.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),N=Te.hasEagerState?Te.eagerState:d(N,Te.action);else{var tt={lane:Ze,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};xe===null?(pe=xe=tt,Y=N):xe=xe.next=tt,lr.lanes|=Ze,Yf|=Ze}Te=Te.next}while(Te!==null&&Te!==L);xe===null?Y=N:xe.next=pe,Ln(N,p.memoizedState)||(ta=!0),p.memoizedState=N,p.baseState=Y,p.baseQueue=xe,v.lastRenderedState=N}if(d=v.interleaved,d!==null){E=d;do L=E.lane,lr.lanes|=L,Yf|=L,E=E.next;while(E!==d)}else E===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function Wl(d){var p=$s(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var N=v.dispatch,E=v.pending,L=p.memoizedState;if(E!==null){v.pending=null;var Y=E=E.next;do L=d(L,Y.action),Y=Y.next;while(Y!==E);Ln(L,p.memoizedState)||(ta=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),v.lastRenderedState=L}return[L,N]}function Bv(){}function pg(d,p){var v=lr,N=$s(),E=p(),L=!Ln(N.memoizedState,E);if(L&&(N.memoizedState=E,ta=!0),N=N.queue,Cp(zv.bind(null,v,N,d),[d]),N.getSnapshot!==p||L||Or!==null&&Or.memoizedState.tag&1){if(v.flags|=2048,Rs(9,mg.bind(null,v,N,E,p),void 0,null),Di===null)throw Error(n(349));(ro&30)!==0||Vv(v,p,E)}return E}function Vv(d,p,v){d.flags|=16384,d={getSnapshot:p,value:v},p=lr.updateQueue,p===null?(p={lastEffect:null,stores:null},lr.updateQueue=p,p.stores=[d]):(v=p.stores,v===null?p.stores=[d]:v.push(d))}function mg(d,p,v,N){p.value=v,p.getSnapshot=N,md(p)&&Sp(d)}function zv(d,p,v){return v(function(){md(p)&&Sp(d)})}function md(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!Ln(d,v)}catch{return!0}}function Sp(d){var p=Fn(d,1);p!==null&&qo(p,d,1,-1)}function Kf(d){var p=ja();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:d},p.queue=d,d=d.dispatch=tF.bind(null,lr,d),[p.memoizedState,d]}function Rs(d,p,v,N){return d={tag:d,create:p,destroy:v,deps:N,next:null},p=lr.updateQueue,p===null?(p={lastEffect:null,stores:null},lr.updateQueue=p,p.lastEffect=d.next=d):(v=p.lastEffect,v===null?p.lastEffect=d.next=d:(N=v.next,v.next=d,d.next=N,p.lastEffect=d)),d}function zo(){return $s().memoizedState}function Pa(d,p,v,N){var E=ja();lr.flags|=d,E.memoizedState=Rs(1|p,v,void 0,N===void 0?null:N)}function Jc(d,p,v,N){var E=$s();N=N===void 0?null:N;var L=void 0;if(Vr!==null){var Y=Vr.memoizedState;if(L=Y.destroy,N!==null&&bp(N,Y.deps)){E.memoizedState=Rs(p,v,L,N);return}}lr.flags|=d,E.memoizedState=Rs(1|p,v,L,N)}function _p(d,p){return Pa(8390656,8,d,p)}function Cp(d,p){return Jc(2048,8,d,p)}function Uv(d,p){return Jc(4,2,d,p)}function Np(d,p){return Jc(4,4,d,p)}function jp(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function J_(d,p,v){return v=v!=null?v.concat([d]):null,Jc(4,4,jp.bind(null,p,d),v)}function nb(){}function Z_(d,p){var v=$s();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&bp(p,N[1])?N[0]:(v.memoizedState=[d,p],d)}function Q_(d,p){var v=$s();p=p===void 0?null:p;var N=v.memoizedState;return N!==null&&p!==null&&bp(p,N[1])?N[0]:(d=d(),v.memoizedState=[d,p],d)}function eC(d,p,v){return(ro&21)===0?(d.baseState&&(d.baseState=!1,ta=!0),d.memoizedState=v):(Ln(v,p)||(v=Nf(),lr.lanes|=v,Yf|=v,d.baseState=!0),p)}function QM(d,p){var v=Tn;Tn=v!==0&&4>v?v:4,d(!0);var N=xp.transition;xp.transition={};try{d(!1),p()}finally{Tn=v,xp.transition=N}}function tC(){return $s().memoizedState}function eF(d,p,v){var N=xd(d);if(v={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null},nC(d))rC(p,v);else if(v=Mo(d,p,v,N),v!==null){var E=Ls();qo(v,d,N,E),iC(v,p,N)}}function tF(d,p,v){var N=xd(d),E={lane:N,action:v,hasEagerState:!1,eagerState:null,next:null};if(nC(d))rC(p,E);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var Y=p.lastRenderedState,pe=L(Y,v);if(E.hasEagerState=!0,E.eagerState=pe,Ln(pe,Y)){var xe=p.interleaved;xe===null?(E.next=E,zl(p)):(E.next=xe.next,xe.next=E),p.interleaved=E;return}}catch{}finally{}v=Mo(d,p,E,N),v!==null&&(E=Ls(),qo(v,d,N,E),iC(v,p,N))}}function nC(d){var p=d.alternate;return d===lr||p!==null&&p===lr}function rC(d,p){Vo=hd=!0;var v=d.pending;v===null?p.next=p:(p.next=v.next,v.next=p),d.pending=p}function iC(d,p,v){if((v&4194240)!==0){var N=p.lanes;N&=d.pendingLanes,v|=N,p.lanes=v,Ou(d,v)}}var Wv={readContext:Br,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},nF={readContext:Br,useCallback:function(d,p){return ja().memoizedState=[d,p===void 0?null:p],d},useContext:Br,useEffect:_p,useImperativeHandle:function(d,p,v){return v=v!=null?v.concat([d]):null,Pa(4194308,4,jp.bind(null,p,d),v)},useLayoutEffect:function(d,p){return Pa(4194308,4,d,p)},useInsertionEffect:function(d,p){return Pa(4,2,d,p)},useMemo:function(d,p){var v=ja();return p=p===void 0?null:p,d=d(),v.memoizedState=[d,p],d},useReducer:function(d,p,v){var N=ja();return p=v!==void 0?v(p):p,N.memoizedState=N.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},N.queue=d,d=d.dispatch=eF.bind(null,lr,d),[N.memoizedState,d]},useRef:function(d){var p=ja();return d={current:d},p.memoizedState=d},useState:Kf,useDebugValue:nb,useDeferredValue:function(d){return ja().memoizedState=d},useTransition:function(){var d=Kf(!1),p=d[0];return d=QM.bind(null,d[1]),ja().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,v){var N=lr,E=ja();if(Fe){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),Di===null)throw Error(n(349));(ro&30)!==0||Vv(N,p,v)}E.memoizedState=v;var L={value:v,getSnapshot:p};return E.queue=L,_p(zv.bind(null,N,L,d),[d]),N.flags|=2048,Rs(9,mg.bind(null,N,L,v,p),void 0,null),v},useId:function(){var d=ja(),p=Di.identifierPrefix;if(Fe){var v=Ae,N=Pe;v=(N&~(1<<32-Cs(N)-1)).toString(32)+v,p=":"+p+"R"+v,v=pd++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=tb++,p=":"+p+"r"+v.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},rF={readContext:Br,useCallback:Z_,useContext:Br,useEffect:Cp,useImperativeHandle:J_,useInsertionEffect:Uv,useLayoutEffect:Np,useMemo:Q_,useReducer:wp,useRef:zo,useState:function(){return wp(Gf)},useDebugValue:nb,useDeferredValue:function(d){var p=$s();return eC(p,Vr.memoizedState,d)},useTransition:function(){var d=wp(Gf)[0],p=$s().memoizedState;return[d,p]},useMutableSource:Bv,useSyncExternalStore:pg,useId:tC,unstable_isNewReconciler:!1},iF={readContext:Br,useCallback:Z_,useContext:Br,useEffect:Cp,useImperativeHandle:J_,useInsertionEffect:Uv,useLayoutEffect:Np,useMemo:Q_,useReducer:Wl,useRef:zo,useState:function(){return Wl(Gf)},useDebugValue:nb,useDeferredValue:function(d){var p=$s();return Vr===null?p.memoizedState=d:eC(p,Vr.memoizedState,d)},useTransition:function(){var d=Wl(Gf)[0],p=$s().memoizedState;return[d,p]},useMutableSource:Bv,useSyncExternalStore:pg,useId:tC,unstable_isNewReconciler:!1};function Uo(d,p){if(d&&d.defaultProps){p=se({},p),d=d.defaultProps;for(var v in d)p[v]===void 0&&(p[v]=d[v]);return p}return p}function rb(d,p,v,N){p=d.memoizedState,v=v(N,p),v=v==null?p:se({},p,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var Hv={isMounted:function(d){return(d=d._reactInternals)?yi(d)===d:!1},enqueueSetState:function(d,p,v){d=d._reactInternals;var N=Ls(),E=xd(d),L=Zs(N,E);L.payload=p,v!=null&&(L.callback=v),p=Qs(d,L,E),p!==null&&(qo(p,d,E,N),Yc(p,d,E))},enqueueReplaceState:function(d,p,v){d=d._reactInternals;var N=Ls(),E=xd(d),L=Zs(N,E);L.tag=1,L.payload=p,v!=null&&(L.callback=v),p=Qs(d,L,E),p!==null&&(qo(p,d,E,N),Yc(p,d,E))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var v=Ls(),N=xd(d),E=Zs(v,N);E.tag=2,p!=null&&(E.callback=p),p=Qs(d,E,N),p!==null&&(qo(p,d,N,v),Yc(p,d,N))}};function sC(d,p,v,N,E,L,Y){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,L,Y):p.prototype&&p.prototype.isPureReactComponent?!Ro(v,N)||!Ro(E,L):!0}function aC(d,p,v){var N=!1,E=Vl,L=p.contextType;return typeof L=="object"&&L!==null?L=Br(L):(E=cs(p)?Gc:bi.current,N=p.contextTypes,L=(N=N!=null)?cd(d,E):Vl),p=new p(v,L),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hv,d.stateNode=p,p._reactInternals=d,N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=E,d.__reactInternalMemoizedMaskedChildContext=L),p}function oC(d,p,v,N){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,N),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,N),p.state!==d&&Hv.enqueueReplaceState(p,p.state,null)}function ib(d,p,v,N){var E=d.stateNode;E.props=v,E.state=d.memoizedState,E.refs={},vp(d);var L=p.contextType;typeof L=="object"&&L!==null?E.context=Br(L):(L=cs(p)?Gc:bi.current,E.context=cd(d,L)),E.state=d.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(rb(d,p,L,v),E.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(p=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),p!==E.state&&Hv.enqueueReplaceState(E,E.state,null),Fo(d,v,E,N),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308)}function Pp(d,p){try{var v="",N=p;do v+=ce(N),N=N.return;while(N);var E=v}catch(L){E=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:p,stack:E,digest:null}}function sb(d,p,v){return{value:d,source:null,stack:v??null,digest:p??null}}function ab(d,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var sF=typeof WeakMap=="function"?WeakMap:Map;function lC(d,p,v){v=Zs(-1,v),v.tag=3,v.payload={element:null};var N=p.value;return v.callback=function(){Zv||(Zv=!0,wb=N),ab(d,p)},v}function cC(d,p,v){v=Zs(-1,v),v.tag=3;var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var E=p.value;v.payload=function(){return N(E)},v.callback=function(){ab(d,p)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(v.callback=function(){ab(d,p),typeof N!="function"&&(vd===null?vd=new Set([this]):vd.add(this));var Y=p.stack;this.componentDidCatch(p.value,{componentStack:Y!==null?Y:""})}),v}function uC(d,p,v){var N=d.pingCache;if(N===null){N=d.pingCache=new sF;var E=new Set;N.set(p,E)}else E=N.get(p),E===void 0&&(E=new Set,N.set(p,E));E.has(v)||(E.add(v),d=xF.bind(null,d,p,v),p.then(d,d))}function dC(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function fC(d,p,v,N,E){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Zs(-1,1),p.tag=2,Qs(v,p,1))),v.lanes|=1),d):(d.flags|=65536,d.lanes=E,d)}var aF=A.ReactCurrentOwner,ta=!1;function Ts(d,p,v,N){p.child=d===null?Mn(p,null,v,N):Kr(p,d.child,v,N)}function hC(d,p,v,N,E){v=v.render;var L=p.ref;return Sr(p,E),N=qf(d,p,v,N,L,E),v=io(),d!==null&&!ta?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~E,Zc(d,p,E)):(Fe&&v&&Oe(p),p.flags|=1,Ts(d,p,N,E),p.child)}function pC(d,p,v,N,E){if(d===null){var L=v.type;return typeof L=="function"&&!Ab(L)&&L.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=L,mC(d,p,L,N,E)):(d=i1(v.type,null,N,p,p.mode,E),d.ref=p.ref,d.return=p,p.child=d)}if(L=d.child,(d.lanes&E)===0){var Y=L.memoizedProps;if(v=v.compare,v=v!==null?v:Ro,v(Y,N)&&d.ref===p.ref)return Zc(d,p,E)}return p.flags|=1,d=wd(L,N),d.ref=p.ref,d.return=p,p.child=d}function mC(d,p,v,N,E){if(d!==null){var L=d.memoizedProps;if(Ro(L,N)&&d.ref===p.ref)if(ta=!1,p.pendingProps=N=L,(d.lanes&E)!==0)(d.flags&131072)!==0&&(ta=!0);else return p.lanes=d.lanes,Zc(d,p,E)}return ob(d,p,v,N,E)}function gC(d,p,v){var N=p.pendingProps,E=N.children,L=d!==null?d.memoizedState:null;if(N.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(kp,Aa),Aa|=v;else{if((v&1073741824)===0)return d=L!==null?L.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,Gn(kp,Aa),Aa|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=L!==null?L.baseLanes:v,Gn(kp,Aa),Aa|=N}else L!==null?(N=L.baseLanes|v,p.memoizedState=null):N=v,Gn(kp,Aa),Aa|=N;return Ts(d,p,E,v),p.child}function vC(d,p){var v=p.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function ob(d,p,v,N,E){var L=cs(v)?Gc:bi.current;return L=cd(p,L),Sr(p,E),v=qf(d,p,v,N,L,E),N=io(),d!==null&&!ta?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~E,Zc(d,p,E)):(Fe&&N&&Oe(p),p.flags|=1,Ts(d,p,v,E),p.child)}function yC(d,p,v,N,E){if(cs(v)){var L=!0;Kc(p)}else L=!1;if(Sr(p,E),p.stateNode===null)Gv(d,p),aC(p,v,N),ib(p,v,N,E),N=!0;else if(d===null){var Y=p.stateNode,pe=p.memoizedProps;Y.props=pe;var xe=Y.context,Te=v.contextType;typeof Te=="object"&&Te!==null?Te=Br(Te):(Te=cs(v)?Gc:bi.current,Te=cd(p,Te));var Ze=v.getDerivedStateFromProps,tt=typeof Ze=="function"||typeof Y.getSnapshotBeforeUpdate=="function";tt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(pe!==N||xe!==Te)&&oC(p,Y,N,Te),to=!1;var Xe=p.memoizedState;Y.state=Xe,Fo(p,N,Y,E),xe=p.memoizedState,pe!==N||Xe!==xe||ls.current||to?(typeof Ze=="function"&&(rb(p,v,Ze,N),xe=p.memoizedState),(pe=to||sC(p,v,pe,N,Xe,xe,Te))?(tt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=N,p.memoizedState=xe),Y.props=N,Y.state=xe,Y.context=Te,N=pe):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),N=!1)}else{Y=p.stateNode,ug(d,p),pe=p.memoizedProps,Te=p.type===p.elementType?pe:Uo(p.type,pe),Y.props=Te,tt=p.pendingProps,Xe=Y.context,xe=v.contextType,typeof xe=="object"&&xe!==null?xe=Br(xe):(xe=cs(v)?Gc:bi.current,xe=cd(p,xe));var bt=v.getDerivedStateFromProps;(Ze=typeof bt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(pe!==tt||Xe!==xe)&&oC(p,Y,N,xe),to=!1,Xe=p.memoizedState,Y.state=Xe,Fo(p,N,Y,E);var At=p.memoizedState;pe!==tt||Xe!==At||ls.current||to?(typeof bt=="function"&&(rb(p,v,bt,N),At=p.memoizedState),(Te=to||sC(p,v,Te,N,Xe,At,xe)||!1)?(Ze||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(N,At,xe),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(N,At,xe)),typeof Y.componentDidUpdate=="function"&&(p.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Y.componentDidUpdate!="function"||pe===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=1024),p.memoizedProps=N,p.memoizedState=At),Y.props=N,Y.state=At,Y.context=xe,N=Te):(typeof Y.componentDidUpdate!="function"||pe===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=1024),N=!1)}return lb(d,p,v,N,L,E)}function lb(d,p,v,N,E,L){vC(d,p);var Y=(p.flags&128)!==0;if(!N&&!Y)return E&&Mv(p,v,!1),Zc(d,p,L);N=p.stateNode,aF.current=p;var pe=Y&&typeof v.getDerivedStateFromError!="function"?null:N.render();return p.flags|=1,d!==null&&Y?(p.child=Kr(p,d.child,null,L),p.child=Kr(p,null,pe,L)):Ts(d,p,pe,L),p.memoizedState=N.state,E&&Mv(p,v,!0),p.child}function xC(d){var p=d.stateNode;p.pendingContext?Iv(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Iv(d,p.context,!1),fd(d,p.containerInfo)}function bC(d,p,v,N,E){return dn(),Hn(E),p.flags|=256,Ts(d,p,v,N),p.child}var cb={dehydrated:null,treeContext:null,retryLane:0};function ub(d){return{baseLanes:d,cachePool:null,transitions:null}}function wC(d,p,v){var N=p.pendingProps,E=rr.current,L=!1,Y=(p.flags&128)!==0,pe;if((pe=Y)||(pe=d!==null&&d.memoizedState===null?!1:(E&2)!==0),pe?(L=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(E|=1),Gn(rr,E&1),d===null)return ft(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(Y=N.children,d=N.fallback,L?(N=p.mode,L=p.child,Y={mode:"hidden",children:Y},(N&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=Y):L=s1(Y,N,0,null),d=Qf(d,N,v,null),L.return=p,d.return=p,L.sibling=d,p.child=L,p.child.memoizedState=ub(v),p.memoizedState=cb,d):db(p,Y));if(E=d.memoizedState,E!==null&&(pe=E.dehydrated,pe!==null))return oF(d,p,Y,N,pe,E,v);if(L){L=N.fallback,Y=p.mode,E=d.child,pe=E.sibling;var xe={mode:"hidden",children:N.children};return(Y&1)===0&&p.child!==E?(N=p.child,N.childLanes=0,N.pendingProps=xe,p.deletions=null):(N=wd(E,xe),N.subtreeFlags=E.subtreeFlags&14680064),pe!==null?L=wd(pe,L):(L=Qf(L,Y,v,null),L.flags|=2),L.return=p,N.return=p,N.sibling=L,p.child=N,N=L,L=p.child,Y=d.child.memoizedState,Y=Y===null?ub(v):{baseLanes:Y.baseLanes|v,cachePool:null,transitions:Y.transitions},L.memoizedState=Y,L.childLanes=d.childLanes&~v,p.memoizedState=cb,N}return L=d.child,d=L.sibling,N=wd(L,{mode:"visible",children:N.children}),(p.mode&1)===0&&(N.lanes=v),N.return=p,N.sibling=null,d!==null&&(v=p.deletions,v===null?(p.deletions=[d],p.flags|=16):v.push(d)),p.child=N,p.memoizedState=null,N}function db(d,p){return p=s1({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function qv(d,p,v,N){return N!==null&&Hn(N),Kr(p,d.child,null,v),d=db(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function oF(d,p,v,N,E,L,Y){if(v)return p.flags&256?(p.flags&=-257,N=sb(Error(n(422))),qv(d,p,Y,N)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(L=N.fallback,E=p.mode,N=s1({mode:"visible",children:N.children},E,0,null),L=Qf(L,E,Y,null),L.flags|=2,N.return=p,L.return=p,N.sibling=L,p.child=N,(p.mode&1)!==0&&Kr(p,d.child,null,Y),p.child.memoizedState=ub(Y),p.memoizedState=cb,L);if((p.mode&1)===0)return qv(d,p,Y,null);if(E.data==="$!"){if(N=E.nextSibling&&E.nextSibling.dataset,N)var pe=N.dgst;return N=pe,L=Error(n(419)),N=sb(L,N,void 0),qv(d,p,Y,N)}if(pe=(Y&d.childLanes)!==0,ta||pe){if(N=Di,N!==null){switch(Y&-Y){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(N.suspendedLanes|Y))!==0?0:E,E!==0&&E!==L.retryLane&&(L.retryLane=E,Fn(d,E),qo(N,d,E,-1))}return Pb(),N=sb(Error(n(421))),qv(d,p,Y,N)}return E.data==="$?"?(p.flags|=128,p.child=d.child,p=bF.bind(null,d),E._reactRetry=p,null):(d=L.treeContext,Ve=Ki(E.nextSibling),Se=p,Fe=!0,He=null,d!==null&&(ie[le++]=Pe,ie[le++]=Ae,ie[le++]=ye,Pe=d.id,Ae=d.overflow,ye=p),p=db(p,N.children),p.flags|=4096,p)}function SC(d,p,v){d.lanes|=p;var N=d.alternate;N!==null&&(N.lanes|=p),Js(d.return,p,v)}function fb(d,p,v,N,E){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:N,tail:v,tailMode:E}:(L.isBackwards=p,L.rendering=null,L.renderingStartTime=0,L.last=N,L.tail=v,L.tailMode=E)}function _C(d,p,v){var N=p.pendingProps,E=N.revealOrder,L=N.tail;if(Ts(d,p,N.children,v),N=rr.current,(N&2)!==0)N=N&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&SC(d,v,p);else if(d.tag===19)SC(d,v,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}if(Gn(rr,N),(p.mode&1)===0)p.memoizedState=null;else switch(E){case"forwards":for(v=p.child,E=null;v!==null;)d=v.alternate,d!==null&&Na(d)===null&&(E=v),v=v.sibling;v=E,v===null?(E=p.child,p.child=null):(E=v.sibling,v.sibling=null),fb(p,!1,E,v,L);break;case"backwards":for(v=null,E=p.child,p.child=null;E!==null;){if(d=E.alternate,d!==null&&Na(d)===null){p.child=E;break}d=E.sibling,E.sibling=v,v=E,E=d}fb(p,!0,v,null,L);break;case"together":fb(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Gv(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Zc(d,p,v){if(d!==null&&(p.dependencies=d.dependencies),Yf|=p.lanes,(v&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,v=wd(d,d.pendingProps),p.child=v,v.return=p;d.sibling!==null;)d=d.sibling,v=v.sibling=wd(d,d.pendingProps),v.return=p;v.sibling=null}return p.child}function lF(d,p,v){switch(p.tag){case 3:xC(p),dn();break;case 5:Fv(p);break;case 1:cs(p.type)&&Kc(p);break;case 4:fd(p,p.stateNode.containerInfo);break;case 10:var N=p.type._context,E=p.memoizedProps.value;Gn(Ti,N._currentValue),N._currentValue=E;break;case 13:if(N=p.memoizedState,N!==null)return N.dehydrated!==null?(Gn(rr,rr.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?wC(d,p,v):(Gn(rr,rr.current&1),d=Zc(d,p,v),d!==null?d.sibling:null);Gn(rr,rr.current&1);break;case 19:if(N=(v&p.childLanes)!==0,(d.flags&128)!==0){if(N)return _C(d,p,v);p.flags|=128}if(E=p.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Gn(rr,rr.current),N)break;return null;case 22:case 23:return p.lanes=0,gC(d,p,v)}return Zc(d,p,v)}var CC,hb,NC,jC;CC=function(d,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},hb=function(){},NC=function(d,p,v,N){var E=d.memoizedProps;if(E!==N){d=p.stateNode,Bo(Es.current);var L=null;switch(v){case"input":E=yt(d,E),N=yt(d,N),L=[];break;case"select":E=se({},E,{value:void 0}),N=se({},N,{value:void 0}),L=[];break;case"textarea":E=_e(d,E),N=_e(d,N),L=[];break;default:typeof E.onClick!="function"&&typeof N.onClick=="function"&&(d.onclick=ad)}rn(v,N);var Y;v=null;for(Te in E)if(!N.hasOwnProperty(Te)&&E.hasOwnProperty(Te)&&E[Te]!=null)if(Te==="style"){var pe=E[Te];for(Y in pe)pe.hasOwnProperty(Y)&&(v||(v={}),v[Y]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(i.hasOwnProperty(Te)?L||(L=[]):(L=L||[]).push(Te,null));for(Te in N){var xe=N[Te];if(pe=E!=null?E[Te]:void 0,N.hasOwnProperty(Te)&&xe!==pe&&(xe!=null||pe!=null))if(Te==="style")if(pe){for(Y in pe)!pe.hasOwnProperty(Y)||xe&&xe.hasOwnProperty(Y)||(v||(v={}),v[Y]="");for(Y in xe)xe.hasOwnProperty(Y)&&pe[Y]!==xe[Y]&&(v||(v={}),v[Y]=xe[Y])}else v||(L||(L=[]),L.push(Te,v)),v=xe;else Te==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,pe=pe?pe.__html:void 0,xe!=null&&pe!==xe&&(L=L||[]).push(Te,xe)):Te==="children"?typeof xe!="string"&&typeof xe!="number"||(L=L||[]).push(Te,""+xe):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(i.hasOwnProperty(Te)?(xe!=null&&Te==="onScroll"&&Zn("scroll",d),L||pe===xe||(L=[])):(L=L||[]).push(Te,xe))}v&&(L=L||[]).push("style",v);var Te=L;(p.updateQueue=Te)&&(p.flags|=4)}},jC=function(d,p,v,N){v!==N&&(p.flags|=4)};function gg(d,p){if(!Fe)switch(d.tailMode){case"hidden":p=d.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var N=null;v!==null;)v.alternate!==null&&(N=v),v=v.sibling;N===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function ds(d){var p=d.alternate!==null&&d.alternate.child===d.child,v=0,N=0;if(p)for(var E=d.child;E!==null;)v|=E.lanes|E.childLanes,N|=E.subtreeFlags&14680064,N|=E.flags&14680064,E.return=d,E=E.sibling;else for(E=d.child;E!==null;)v|=E.lanes|E.childLanes,N|=E.subtreeFlags,N|=E.flags,E.return=d,E=E.sibling;return d.subtreeFlags|=N,d.childLanes=v,p}function cF(d,p,v){var N=p.pendingProps;switch(we(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(p),null;case 1:return cs(p.type)&&gp(),ds(p),null;case 3:return N=p.stateNode,no(),Wn(ls),Wn(bi),hg(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(kn(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,He!==null&&(Cb(He),He=null))),hb(d,p),ds(p),null;case 5:dg(p);var E=Bo(Ul.current);if(v=p.type,d!==null&&p.stateNode!=null)NC(d,p,v,N,E),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!N){if(p.stateNode===null)throw Error(n(166));return ds(p),null}if(d=Bo(Es.current),kn(p)){N=p.stateNode,v=p.type;var L=p.memoizedProps;switch(N[eo]=p,N[od]=L,d=(p.mode&1)!==0,v){case"dialog":Zn("cancel",N),Zn("close",N);break;case"iframe":case"object":case"embed":Zn("load",N);break;case"video":case"audio":for(E=0;E<Fl.length;E++)Zn(Fl[E],N);break;case"source":Zn("error",N);break;case"img":case"image":case"link":Zn("error",N),Zn("load",N);break;case"details":Zn("toggle",N);break;case"input":De(N,L),Zn("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!L.multiple},Zn("invalid",N);break;case"textarea":Be(N,L),Zn("invalid",N)}rn(v,L),E=null;for(var Y in L)if(L.hasOwnProperty(Y)){var pe=L[Y];Y==="children"?typeof pe=="string"?N.textContent!==pe&&(L.suppressHydrationWarning!==!0&&mp(N.textContent,pe,d),E=["children",pe]):typeof pe=="number"&&N.textContent!==""+pe&&(L.suppressHydrationWarning!==!0&&mp(N.textContent,pe,d),E=["children",""+pe]):i.hasOwnProperty(Y)&&pe!=null&&Y==="onScroll"&&Zn("scroll",N)}switch(v){case"input":$e(N),xt(N,L,!0);break;case"textarea":$e(N),Ie(N);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(N.onclick=ad)}N=E,p.updateQueue=N,N!==null&&(p.flags|=4)}else{Y=E.nodeType===9?E:E.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=et(v)),d==="http://www.w3.org/1999/xhtml"?v==="script"?(d=Y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof N.is=="string"?d=Y.createElement(v,{is:N.is}):(d=Y.createElement(v),v==="select"&&(Y=d,N.multiple?Y.multiple=!0:N.size&&(Y.size=N.size))):d=Y.createElementNS(d,v),d[eo]=p,d[od]=N,CC(d,p,!1,!1),p.stateNode=d;e:{switch(Y=Rn(v,N),v){case"dialog":Zn("cancel",d),Zn("close",d),E=N;break;case"iframe":case"object":case"embed":Zn("load",d),E=N;break;case"video":case"audio":for(E=0;E<Fl.length;E++)Zn(Fl[E],d);E=N;break;case"source":Zn("error",d),E=N;break;case"img":case"image":case"link":Zn("error",d),Zn("load",d),E=N;break;case"details":Zn("toggle",d),E=N;break;case"input":De(d,N),E=yt(d,N),Zn("invalid",d);break;case"option":E=N;break;case"select":d._wrapperState={wasMultiple:!!N.multiple},E=se({},N,{value:void 0}),Zn("invalid",d);break;case"textarea":Be(d,N),E=_e(d,N),Zn("invalid",d);break;default:E=N}rn(v,E),pe=E;for(L in pe)if(pe.hasOwnProperty(L)){var xe=pe[L];L==="style"?oi(d,xe):L==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&Pt(d,xe)):L==="children"?typeof xe=="string"?(v!=="textarea"||xe!=="")&&qt(d,xe):typeof xe=="number"&&qt(d,""+xe):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?xe!=null&&L==="onScroll"&&Zn("scroll",d):xe!=null&&P(d,L,xe,Y))}switch(v){case"input":$e(d),xt(d,N,!1);break;case"textarea":$e(d),Ie(d);break;case"option":N.value!=null&&d.setAttribute("value",""+ge(N.value));break;case"select":d.multiple=!!N.multiple,L=N.value,L!=null?me(d,!!N.multiple,L,!1):N.defaultValue!=null&&me(d,!!N.multiple,N.defaultValue,!0);break;default:typeof E.onClick=="function"&&(d.onclick=ad)}switch(v){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ds(p),null;case 6:if(d&&p.stateNode!=null)jC(d,p,d.memoizedProps,N);else{if(typeof N!="string"&&p.stateNode===null)throw Error(n(166));if(v=Bo(Ul.current),Bo(Es.current),kn(p)){if(N=p.stateNode,v=p.memoizedProps,N[eo]=p,(L=N.nodeValue!==v)&&(d=Se,d!==null))switch(d.tag){case 3:mp(N.nodeValue,v,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&mp(N.nodeValue,v,(d.mode&1)!==0)}L&&(p.flags|=4)}else N=(v.nodeType===9?v:v.ownerDocument).createTextNode(N),N[eo]=p,p.stateNode=N}return ds(p),null;case 13:if(Wn(rr),N=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Fe&&Ve!==null&&(p.mode&1)!==0&&(p.flags&128)===0)_n(),dn(),p.flags|=98560,L=!1;else if(L=kn(p),N!==null&&N.dehydrated!==null){if(d===null){if(!L)throw Error(n(318));if(L=p.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[eo]=p}else dn(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ds(p),L=!1}else He!==null&&(Cb(He),He=null),L=!0;if(!L)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(N=N!==null,N!==(d!==null&&d.memoizedState!==null)&&N&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(rr.current&1)!==0?Si===0&&(Si=3):Pb())),p.updateQueue!==null&&(p.flags|=4),ds(p),null);case 4:return no(),hb(d,p),d===null&&Uc(p.stateNode.containerInfo),ds(p),null;case 10:return us(p.type._context),ds(p),null;case 17:return cs(p.type)&&gp(),ds(p),null;case 19:if(Wn(rr),L=p.memoizedState,L===null)return ds(p),null;if(N=(p.flags&128)!==0,Y=L.rendering,Y===null)if(N)gg(L,!1);else{if(Si!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(Y=Na(d),Y!==null){for(p.flags|=128,gg(L,!1),N=Y.updateQueue,N!==null&&(p.updateQueue=N,p.flags|=4),p.subtreeFlags=0,N=v,v=p.child;v!==null;)L=v,d=N,L.flags&=14680066,Y=L.alternate,Y===null?(L.childLanes=0,L.lanes=d,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=Y.childLanes,L.lanes=Y.lanes,L.child=Y.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=Y.memoizedProps,L.memoizedState=Y.memoizedState,L.updateQueue=Y.updateQueue,L.type=Y.type,d=Y.dependencies,L.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),v=v.sibling;return Gn(rr,rr.current&1|2),p.child}d=d.sibling}L.tail!==null&&vr()>Ep&&(p.flags|=128,N=!0,gg(L,!1),p.lanes=4194304)}else{if(!N)if(d=Na(Y),d!==null){if(p.flags|=128,N=!0,v=d.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),gg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!Y.alternate&&!Fe)return ds(p),null}else 2*vr()-L.renderingStartTime>Ep&&v!==1073741824&&(p.flags|=128,N=!0,gg(L,!1),p.lanes=4194304);L.isBackwards?(Y.sibling=p.child,p.child=Y):(v=L.last,v!==null?v.sibling=Y:p.child=Y,L.last=Y)}return L.tail!==null?(p=L.tail,L.rendering=p,L.tail=p.sibling,L.renderingStartTime=vr(),p.sibling=null,v=rr.current,Gn(rr,N?v&1|2:v&1),p):(ds(p),null);case 22:case 23:return jb(),N=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==N&&(p.flags|=8192),N&&(p.mode&1)!==0?(Aa&1073741824)!==0&&(ds(p),p.subtreeFlags&6&&(p.flags|=8192)):ds(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function uF(d,p){switch(we(p),p.tag){case 1:return cs(p.type)&&gp(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return no(),Wn(ls),Wn(bi),hg(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return dg(p),null;case 13:if(Wn(rr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));dn()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Wn(rr),null;case 4:return no(),null;case 10:return us(p.type._context),null;case 22:case 23:return jb(),null;case 24:return null;default:return null}}var Kv=!1,fs=!1,dF=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Ap(d,p){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(N){zr(d,p,N)}else v.current=null}function pb(d,p,v){try{v()}catch(N){zr(d,p,N)}}var PC=!1;function fF(d,p){if(Uf=Vu,d=Of(),Fc(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var N=v.getSelection&&v.getSelection();if(N&&N.rangeCount!==0){v=N.anchorNode;var E=N.anchorOffset,L=N.focusNode;N=N.focusOffset;try{v.nodeType,L.nodeType}catch{v=null;break e}var Y=0,pe=-1,xe=-1,Te=0,Ze=0,tt=d,Xe=null;t:for(;;){for(var bt;tt!==v||E!==0&&tt.nodeType!==3||(pe=Y+E),tt!==L||N!==0&&tt.nodeType!==3||(xe=Y+N),tt.nodeType===3&&(Y+=tt.nodeValue.length),(bt=tt.firstChild)!==null;)Xe=tt,tt=bt;for(;;){if(tt===d)break t;if(Xe===v&&++Te===E&&(pe=Y),Xe===L&&++Ze===N&&(xe=Y),(bt=tt.nextSibling)!==null)break;tt=Xe,Xe=tt.parentNode}tt=bt}v=pe===-1||xe===-1?null:{start:pe,end:xe}}else v=null}v=v||{start:0,end:0}}else v=null;for(Hc={focusedElem:d,selectionRange:v},Vu=!1,Nt=p;Nt!==null;)if(p=Nt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Nt=d;else for(;Nt!==null;){p=Nt;try{var At=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Rt=At.memoizedProps,Jr=At.memoizedState,ke=p.stateNode,Ce=ke.getSnapshotBeforeUpdate(p.elementType===p.type?Rt:Uo(p.type,Rt),Jr);ke.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Ee=p.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(at){zr(p,p.return,at)}if(d=p.sibling,d!==null){d.return=p.return,Nt=d;break}Nt=p.return}return At=PC,PC=!1,At}function vg(d,p,v){var N=p.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var E=N=N.next;do{if((E.tag&d)===d){var L=E.destroy;E.destroy=void 0,L!==void 0&&pb(p,v,L)}E=E.next}while(E!==N)}}function Yv(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&d)===d){var N=v.create;v.destroy=N()}v=v.next}while(v!==p)}}function mb(d){var p=d.ref;if(p!==null){var v=d.stateNode;switch(d.tag){case 5:d=v;break;default:d=v}typeof p=="function"?p(d):p.current=d}}function AC(d){var p=d.alternate;p!==null&&(d.alternate=null,AC(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[eo],delete p[od],delete p[os],delete p[Q2],delete p[eb])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function kC(d){return d.tag===5||d.tag===3||d.tag===4}function EC(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||kC(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function gb(d,p,v){var N=d.tag;if(N===5||N===6)d=d.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(d,p):v.insertBefore(d,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(d,v)):(p=v,p.appendChild(d)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=ad));else if(N!==4&&(d=d.child,d!==null))for(gb(d,p,v),d=d.sibling;d!==null;)gb(d,p,v),d=d.sibling}function vb(d,p,v){var N=d.tag;if(N===5||N===6)d=d.stateNode,p?v.insertBefore(d,p):v.appendChild(d);else if(N!==4&&(d=d.child,d!==null))for(vb(d,p,v),d=d.sibling;d!==null;)vb(d,p,v),d=d.sibling}var Xi=null,Wo=!1;function gd(d,p,v){for(v=v.child;v!==null;)$C(d,p,v),v=v.sibling}function $C(d,p,v){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Cc,v)}catch{}switch(v.tag){case 5:fs||Ap(v,p);case 6:var N=Xi,E=Wo;Xi=null,gd(d,p,v),Xi=N,Wo=E,Xi!==null&&(Wo?(d=Xi,v=v.stateNode,d.nodeType===8?d.parentNode.removeChild(v):d.removeChild(v)):Xi.removeChild(v.stateNode));break;case 18:Xi!==null&&(Wo?(d=Xi,v=v.stateNode,d.nodeType===8?og(d.parentNode,v):d.nodeType===1&&og(d,v),ba(d)):og(Xi,v.stateNode));break;case 4:N=Xi,E=Wo,Xi=v.stateNode.containerInfo,Wo=!0,gd(d,p,v),Xi=N,Wo=E;break;case 0:case 11:case 14:case 15:if(!fs&&(N=v.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){E=N=N.next;do{var L=E,Y=L.destroy;L=L.tag,Y!==void 0&&((L&2)!==0||(L&4)!==0)&&pb(v,p,Y),E=E.next}while(E!==N)}gd(d,p,v);break;case 1:if(!fs&&(Ap(v,p),N=v.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=v.memoizedProps,N.state=v.memoizedState,N.componentWillUnmount()}catch(pe){zr(v,p,pe)}gd(d,p,v);break;case 21:gd(d,p,v);break;case 22:v.mode&1?(fs=(N=fs)||v.memoizedState!==null,gd(d,p,v),fs=N):gd(d,p,v);break;default:gd(d,p,v)}}function RC(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new dF),p.forEach(function(N){var E=wF.bind(null,d,N);v.has(N)||(v.add(N),N.then(E,E))})}}function Ho(d,p){var v=p.deletions;if(v!==null)for(var N=0;N<v.length;N++){var E=v[N];try{var L=d,Y=p,pe=Y;e:for(;pe!==null;){switch(pe.tag){case 5:Xi=pe.stateNode,Wo=!1;break e;case 3:Xi=pe.stateNode.containerInfo,Wo=!0;break e;case 4:Xi=pe.stateNode.containerInfo,Wo=!0;break e}pe=pe.return}if(Xi===null)throw Error(n(160));$C(L,Y,E),Xi=null,Wo=!1;var xe=E.alternate;xe!==null&&(xe.return=null),E.return=null}catch(Te){zr(E,p,Te)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)TC(p,d),p=p.sibling}function TC(d,p){var v=d.alternate,N=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ho(p,d),Hl(d),N&4){try{vg(3,d,d.return),Yv(3,d)}catch(Rt){zr(d,d.return,Rt)}try{vg(5,d,d.return)}catch(Rt){zr(d,d.return,Rt)}}break;case 1:Ho(p,d),Hl(d),N&512&&v!==null&&Ap(v,v.return);break;case 5:if(Ho(p,d),Hl(d),N&512&&v!==null&&Ap(v,v.return),d.flags&32){var E=d.stateNode;try{qt(E,"")}catch(Rt){zr(d,d.return,Rt)}}if(N&4&&(E=d.stateNode,E!=null)){var L=d.memoizedProps,Y=v!==null?v.memoizedProps:L,pe=d.type,xe=d.updateQueue;if(d.updateQueue=null,xe!==null)try{pe==="input"&&L.type==="radio"&&L.name!=null&&fe(E,L),Rn(pe,Y);var Te=Rn(pe,L);for(Y=0;Y<xe.length;Y+=2){var Ze=xe[Y],tt=xe[Y+1];Ze==="style"?oi(E,tt):Ze==="dangerouslySetInnerHTML"?Pt(E,tt):Ze==="children"?qt(E,tt):P(E,Ze,tt,Te)}switch(pe){case"input":Dt(E,L);break;case"textarea":We(E,L);break;case"select":var Xe=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!L.multiple;var bt=L.value;bt!=null?me(E,!!L.multiple,bt,!1):Xe!==!!L.multiple&&(L.defaultValue!=null?me(E,!!L.multiple,L.defaultValue,!0):me(E,!!L.multiple,L.multiple?[]:"",!1))}E[od]=L}catch(Rt){zr(d,d.return,Rt)}}break;case 6:if(Ho(p,d),Hl(d),N&4){if(d.stateNode===null)throw Error(n(162));E=d.stateNode,L=d.memoizedProps;try{E.nodeValue=L}catch(Rt){zr(d,d.return,Rt)}}break;case 3:if(Ho(p,d),Hl(d),N&4&&v!==null&&v.memoizedState.isDehydrated)try{ba(p.containerInfo)}catch(Rt){zr(d,d.return,Rt)}break;case 4:Ho(p,d),Hl(d);break;case 13:Ho(p,d),Hl(d),E=d.child,E.flags&8192&&(L=E.memoizedState!==null,E.stateNode.isHidden=L,!L||E.alternate!==null&&E.alternate.memoizedState!==null||(bb=vr())),N&4&&RC(d);break;case 22:if(Ze=v!==null&&v.memoizedState!==null,d.mode&1?(fs=(Te=fs)||Ze,Ho(p,d),fs=Te):Ho(p,d),Hl(d),N&8192){if(Te=d.memoizedState!==null,(d.stateNode.isHidden=Te)&&!Ze&&(d.mode&1)!==0)for(Nt=d,Ze=d.child;Ze!==null;){for(tt=Nt=Ze;Nt!==null;){switch(Xe=Nt,bt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:vg(4,Xe,Xe.return);break;case 1:Ap(Xe,Xe.return);var At=Xe.stateNode;if(typeof At.componentWillUnmount=="function"){N=Xe,v=Xe.return;try{p=N,At.props=p.memoizedProps,At.state=p.memoizedState,At.componentWillUnmount()}catch(Rt){zr(N,v,Rt)}}break;case 5:Ap(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){OC(tt);continue}}bt!==null?(bt.return=Xe,Nt=bt):OC(tt)}Ze=Ze.sibling}e:for(Ze=null,tt=d;;){if(tt.tag===5){if(Ze===null){Ze=tt;try{E=tt.stateNode,Te?(L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(pe=tt.stateNode,xe=tt.memoizedProps.style,Y=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,pe.style.display=fn("display",Y))}catch(Rt){zr(d,d.return,Rt)}}}else if(tt.tag===6){if(Ze===null)try{tt.stateNode.nodeValue=Te?"":tt.memoizedProps}catch(Rt){zr(d,d.return,Rt)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===d)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===d)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===d)break e;Ze===tt&&(Ze=null),tt=tt.return}Ze===tt&&(Ze=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:Ho(p,d),Hl(d),N&4&&RC(d);break;case 21:break;default:Ho(p,d),Hl(d)}}function Hl(d){var p=d.flags;if(p&2){try{e:{for(var v=d.return;v!==null;){if(kC(v)){var N=v;break e}v=v.return}throw Error(n(160))}switch(N.tag){case 5:var E=N.stateNode;N.flags&32&&(qt(E,""),N.flags&=-33);var L=EC(d);vb(d,L,E);break;case 3:case 4:var Y=N.stateNode.containerInfo,pe=EC(d);gb(d,pe,Y);break;default:throw Error(n(161))}}catch(xe){zr(d,d.return,xe)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function hF(d,p,v){Nt=d,LC(d)}function LC(d,p,v){for(var N=(d.mode&1)!==0;Nt!==null;){var E=Nt,L=E.child;if(E.tag===22&&N){var Y=E.memoizedState!==null||Kv;if(!Y){var pe=E.alternate,xe=pe!==null&&pe.memoizedState!==null||fs;pe=Kv;var Te=fs;if(Kv=Y,(fs=xe)&&!Te)for(Nt=E;Nt!==null;)Y=Nt,xe=Y.child,Y.tag===22&&Y.memoizedState!==null?IC(E):xe!==null?(xe.return=Y,Nt=xe):IC(E);for(;L!==null;)Nt=L,LC(L),L=L.sibling;Nt=E,Kv=pe,fs=Te}DC(d)}else(E.subtreeFlags&8772)!==0&&L!==null?(L.return=E,Nt=L):DC(d)}}function DC(d){for(;Nt!==null;){var p=Nt;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:fs||Yv(5,p);break;case 1:var N=p.stateNode;if(p.flags&4&&!fs)if(v===null)N.componentDidMount();else{var E=p.elementType===p.type?v.memoizedProps:Uo(p.type,v.memoizedProps);N.componentDidUpdate(E,v.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var L=p.updateQueue;L!==null&&Xc(p,L,N);break;case 3:var Y=p.updateQueue;if(Y!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}Xc(p,Y,v)}break;case 5:var pe=p.stateNode;if(v===null&&p.flags&4){v=pe;var xe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&v.focus();break;case"img":xe.src&&(v.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Te=p.alternate;if(Te!==null){var Ze=Te.memoizedState;if(Ze!==null){var tt=Ze.dehydrated;tt!==null&&ba(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fs||p.flags&512&&mb(p)}catch(Xe){zr(p,p.return,Xe)}}if(p===d){Nt=null;break}if(v=p.sibling,v!==null){v.return=p.return,Nt=v;break}Nt=p.return}}function OC(d){for(;Nt!==null;){var p=Nt;if(p===d){Nt=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Nt=v;break}Nt=p.return}}function IC(d){for(;Nt!==null;){var p=Nt;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Yv(4,p)}catch(xe){zr(p,v,xe)}break;case 1:var N=p.stateNode;if(typeof N.componentDidMount=="function"){var E=p.return;try{N.componentDidMount()}catch(xe){zr(p,E,xe)}}var L=p.return;try{mb(p)}catch(xe){zr(p,L,xe)}break;case 5:var Y=p.return;try{mb(p)}catch(xe){zr(p,Y,xe)}}}catch(xe){zr(p,p.return,xe)}if(p===d){Nt=null;break}var pe=p.sibling;if(pe!==null){pe.return=p.return,Nt=pe;break}Nt=p.return}}var pF=Math.ceil,Xv=A.ReactCurrentDispatcher,yb=A.ReactCurrentOwner,so=A.ReactCurrentBatchConfig,Dn=0,Di=null,ui=null,Ji=0,Aa=0,kp=Ca(0),Si=0,yg=null,Yf=0,Jv=0,xb=0,xg=null,na=null,bb=0,Ep=1/0,Qc=null,Zv=!1,wb=null,vd=null,Qv=!1,yd=null,e1=0,bg=0,Sb=null,t1=-1,n1=0;function Ls(){return(Dn&6)!==0?vr():t1!==-1?t1:t1=vr()}function xd(d){return(d.mode&1)===0?1:(Dn&2)!==0&&Ji!==0?Ji&-Ji:Kn.transition!==null?(n1===0&&(n1=Nf()),n1):(d=Tn,d!==0||(d=window.event,d=d===void 0?16:Ef(d.type)),d)}function qo(d,p,v,N){if(50<bg)throw bg=0,Sb=null,Error(n(185));Pl(d,v,N),((Dn&2)===0||d!==Di)&&(d===Di&&((Dn&2)===0&&(Jv|=v),Si===4&&bd(d,Ji)),ra(d,N),v===1&&Dn===0&&(p.mode&1)===0&&(Ep=vr()+500,Hf&&I()))}function ra(d,p){var v=d.callbackNode;rs(d,p);var N=ns(d,d===Di?Ji:0);if(N===0)v!==null&&_c(v),d.callbackNode=null,d.callbackPriority=0;else if(p=N&-N,d.callbackPriority!==p){if(v!=null&&_c(v),p===1)d.tag===0?$(FC.bind(null,d)):j(FC.bind(null,d)),J2(function(){(Dn&6)===0&&I()}),v=null;else{switch(Iu(N)){case 1:v=Nl;break;case 4:v=_f;break;case 16:v=Tu;break;case 536870912:v=rp;break;default:v=Tu}v=GC(v,MC.bind(null,d))}d.callbackPriority=p,d.callbackNode=v}}function MC(d,p){if(t1=-1,n1=0,(Dn&6)!==0)throw Error(n(327));var v=d.callbackNode;if($p()&&d.callbackNode!==v)return null;var N=ns(d,d===Di?Ji:0);if(N===0)return null;if((N&30)!==0||(N&d.expiredLanes)!==0||p)p=r1(d,N);else{p=N;var E=Dn;Dn|=2;var L=VC();(Di!==d||Ji!==p)&&(Qc=null,Ep=vr()+500,Jf(d,p));do try{vF();break}catch(pe){BC(d,pe)}while(!0);wi(),Xv.current=L,Dn=E,ui!==null?p=0:(Di=null,Ji=0,p=Si)}if(p!==0){if(p===2&&(E=Pc(d),E!==0&&(N=E,p=_b(d,E))),p===1)throw v=yg,Jf(d,0),bd(d,N),ra(d,vr()),v;if(p===6)bd(d,N);else{if(E=d.current.alternate,(N&30)===0&&!mF(E)&&(p=r1(d,N),p===2&&(L=Pc(d),L!==0&&(N=L,p=_b(d,L))),p===1))throw v=yg,Jf(d,0),bd(d,N),ra(d,vr()),v;switch(d.finishedWork=E,d.finishedLanes=N,p){case 0:case 1:throw Error(n(345));case 2:Zf(d,na,Qc);break;case 3:if(bd(d,N),(N&130023424)===N&&(p=bb+500-vr(),10<p)){if(ns(d,0)!==0)break;if(E=d.suspendedLanes,(E&N)!==N){Ls(),d.pingedLanes|=d.suspendedLanes&E;break}d.timeoutHandle=ag(Zf.bind(null,d,na,Qc),p);break}Zf(d,na,Qc);break;case 4:if(bd(d,N),(N&4194240)===N)break;for(p=d.eventTimes,E=-1;0<N;){var Y=31-Cs(N);L=1<<Y,Y=p[Y],Y>E&&(E=Y),N&=~L}if(N=E,N=vr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*pF(N/1960))-N,10<N){d.timeoutHandle=ag(Zf.bind(null,d,na,Qc),N);break}Zf(d,na,Qc);break;case 5:Zf(d,na,Qc);break;default:throw Error(n(329))}}}return ra(d,vr()),d.callbackNode===v?MC.bind(null,d):null}function _b(d,p){var v=xg;return d.current.memoizedState.isDehydrated&&(Jf(d,p).flags|=256),d=r1(d,p),d!==2&&(p=na,na=v,p!==null&&Cb(p)),d}function Cb(d){na===null?na=d:na.push.apply(na,d)}function mF(d){for(var p=d;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var N=0;N<v.length;N++){var E=v[N],L=E.getSnapshot;E=E.value;try{if(!Ln(L(),E))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function bd(d,p){for(p&=~xb,p&=~Jv,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var v=31-Cs(p),N=1<<v;d[v]=-1,p&=~N}}function FC(d){if((Dn&6)!==0)throw Error(n(327));$p();var p=ns(d,0);if((p&1)===0)return ra(d,vr()),null;var v=r1(d,p);if(d.tag!==0&&v===2){var N=Pc(d);N!==0&&(p=N,v=_b(d,N))}if(v===1)throw v=yg,Jf(d,0),bd(d,p),ra(d,vr()),v;if(v===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Zf(d,na,Qc),ra(d,vr()),null}function Nb(d,p){var v=Dn;Dn|=1;try{return d(p)}finally{Dn=v,Dn===0&&(Ep=vr()+500,Hf&&I())}}function Xf(d){yd!==null&&yd.tag===0&&(Dn&6)===0&&$p();var p=Dn;Dn|=1;var v=so.transition,N=Tn;try{if(so.transition=null,Tn=1,d)return d()}finally{Tn=N,so.transition=v,Dn=p,(Dn&6)===0&&I()}}function jb(){Aa=kp.current,Wn(kp)}function Jf(d,p){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==-1&&(d.timeoutHandle=-1,Dv(v)),ui!==null)for(v=ui.return;v!==null;){var N=v;switch(we(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&gp();break;case 3:no(),Wn(ls),Wn(bi),hg();break;case 5:dg(N);break;case 4:no();break;case 13:Wn(rr);break;case 19:Wn(rr);break;case 10:us(N.type._context);break;case 22:case 23:jb()}v=v.return}if(Di=d,ui=d=wd(d.current,null),Ji=Aa=p,Si=0,yg=null,xb=Jv=Yf=0,na=xg=null,ks!==null){for(p=0;p<ks.length;p++)if(v=ks[p],N=v.interleaved,N!==null){v.interleaved=null;var E=N.next,L=v.pending;if(L!==null){var Y=L.next;L.next=E,N.next=Y}v.pending=N}ks=null}return d}function BC(d,p){do{var v=ui;try{if(wi(),yp.current=Wv,hd){for(var N=lr.memoizedState;N!==null;){var E=N.queue;E!==null&&(E.pending=null),N=N.next}hd=!1}if(ro=0,Or=Vr=lr=null,Vo=!1,pd=0,yb.current=null,v===null||v.return===null){Si=1,yg=p,ui=null;break}e:{var L=d,Y=v.return,pe=v,xe=p;if(p=Ji,pe.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Te=xe,Ze=pe,tt=Ze.tag;if((Ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Xe=Ze.alternate;Xe?(Ze.updateQueue=Xe.updateQueue,Ze.memoizedState=Xe.memoizedState,Ze.lanes=Xe.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var bt=dC(Y);if(bt!==null){bt.flags&=-257,fC(bt,Y,pe,L,p),bt.mode&1&&uC(L,Te,p),p=bt,xe=Te;var At=p.updateQueue;if(At===null){var Rt=new Set;Rt.add(xe),p.updateQueue=Rt}else At.add(xe);break e}else{if((p&1)===0){uC(L,Te,p),Pb();break e}xe=Error(n(426))}}else if(Fe&&pe.mode&1){var Jr=dC(Y);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),fC(Jr,Y,pe,L,p),Hn(Pp(xe,pe));break e}}L=xe=Pp(xe,pe),Si!==4&&(Si=2),xg===null?xg=[L]:xg.push(L),L=Y;do{switch(L.tag){case 3:L.flags|=65536,p&=-p,L.lanes|=p;var ke=lC(L,xe,p);ea(L,ke);break e;case 1:pe=xe;var Ce=L.type,Ee=L.stateNode;if((L.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(vd===null||!vd.has(Ee)))){L.flags|=65536,p&=-p,L.lanes|=p;var at=cC(L,pe,p);ea(L,at);break e}}L=L.return}while(L!==null)}UC(v)}catch(Tt){p=Tt,ui===v&&v!==null&&(ui=v=v.return);continue}break}while(!0)}function VC(){var d=Xv.current;return Xv.current=Wv,d===null?Wv:d}function Pb(){(Si===0||Si===3||Si===2)&&(Si=4),Di===null||(Yf&268435455)===0&&(Jv&268435455)===0||bd(Di,Ji)}function r1(d,p){var v=Dn;Dn|=2;var N=VC();(Di!==d||Ji!==p)&&(Qc=null,Jf(d,p));do try{gF();break}catch(E){BC(d,E)}while(!0);if(wi(),Dn=v,Xv.current=N,ui!==null)throw Error(n(261));return Di=null,Ji=0,Si}function gF(){for(;ui!==null;)zC(ui)}function vF(){for(;ui!==null&&!Ru();)zC(ui)}function zC(d){var p=qC(d.alternate,d,Aa);d.memoizedProps=d.pendingProps,p===null?UC(d):ui=p,yb.current=null}function UC(d){var p=d;do{var v=p.alternate;if(d=p.return,(p.flags&32768)===0){if(v=cF(v,p,Aa),v!==null){ui=v;return}}else{if(v=uF(v,p),v!==null){v.flags&=32767,ui=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Si=6,ui=null;return}}if(p=p.sibling,p!==null){ui=p;return}ui=p=d}while(p!==null);Si===0&&(Si=5)}function Zf(d,p,v){var N=Tn,E=so.transition;try{so.transition=null,Tn=1,yF(d,p,v,N)}finally{so.transition=E,Tn=N}return null}function yF(d,p,v,N){do $p();while(yd!==null);if((Dn&6)!==0)throw Error(n(327));v=d.finishedWork;var E=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var L=v.lanes|v.childLanes;if(ng(d,L),d===Di&&(ui=Di=null,Ji=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Qv||(Qv=!0,GC(Tu,function(){return $p(),null})),L=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||L){L=so.transition,so.transition=null;var Y=Tn;Tn=1;var pe=Dn;Dn|=4,yb.current=null,fF(d,v),TC(v,d),Bc(Hc),Vu=!!Uf,Hc=Uf=null,d.current=v,hF(v),np(),Dn=pe,Tn=Y,so.transition=L}else d.current=v;if(Qv&&(Qv=!1,yd=d,e1=E),L=d.pendingLanes,L===0&&(vd=null),Lu(v.stateNode),ra(d,vr()),p!==null)for(N=d.onRecoverableError,v=0;v<p.length;v++)E=p[v],N(E.value,{componentStack:E.stack,digest:E.digest});if(Zv)throw Zv=!1,d=wb,wb=null,d;return(e1&1)!==0&&d.tag!==0&&$p(),L=d.pendingLanes,(L&1)!==0?d===Sb?bg++:(bg=0,Sb=d):bg=0,I(),null}function $p(){if(yd!==null){var d=Iu(e1),p=so.transition,v=Tn;try{if(so.transition=null,Tn=16>d?16:d,yd===null)var N=!1;else{if(d=yd,yd=null,e1=0,(Dn&6)!==0)throw Error(n(331));var E=Dn;for(Dn|=4,Nt=d.current;Nt!==null;){var L=Nt,Y=L.child;if((Nt.flags&16)!==0){var pe=L.deletions;if(pe!==null){for(var xe=0;xe<pe.length;xe++){var Te=pe[xe];for(Nt=Te;Nt!==null;){var Ze=Nt;switch(Ze.tag){case 0:case 11:case 15:vg(8,Ze,L)}var tt=Ze.child;if(tt!==null)tt.return=Ze,Nt=tt;else for(;Nt!==null;){Ze=Nt;var Xe=Ze.sibling,bt=Ze.return;if(AC(Ze),Ze===Te){Nt=null;break}if(Xe!==null){Xe.return=bt,Nt=Xe;break}Nt=bt}}}var At=L.alternate;if(At!==null){var Rt=At.child;if(Rt!==null){At.child=null;do{var Jr=Rt.sibling;Rt.sibling=null,Rt=Jr}while(Rt!==null)}}Nt=L}}if((L.subtreeFlags&2064)!==0&&Y!==null)Y.return=L,Nt=Y;else e:for(;Nt!==null;){if(L=Nt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:vg(9,L,L.return)}var ke=L.sibling;if(ke!==null){ke.return=L.return,Nt=ke;break e}Nt=L.return}}var Ce=d.current;for(Nt=Ce;Nt!==null;){Y=Nt;var Ee=Y.child;if((Y.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=Y,Nt=Ee;else e:for(Y=Ce;Nt!==null;){if(pe=Nt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:Yv(9,pe)}}catch(Tt){zr(pe,pe.return,Tt)}if(pe===Y){Nt=null;break e}var at=pe.sibling;if(at!==null){at.return=pe.return,Nt=at;break e}Nt=pe.return}}if(Dn=E,I(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Cc,d)}catch{}N=!0}return N}finally{Tn=v,so.transition=p}}return!1}function WC(d,p,v){p=Pp(v,p),p=lC(d,p,1),d=Qs(d,p,1),p=Ls(),d!==null&&(Pl(d,1,p),ra(d,p))}function zr(d,p,v){if(d.tag===3)WC(d,d,v);else for(;p!==null;){if(p.tag===3){WC(p,d,v);break}else if(p.tag===1){var N=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(vd===null||!vd.has(N))){d=Pp(v,d),d=cC(p,d,1),p=Qs(p,d,1),d=Ls(),p!==null&&(Pl(p,1,d),ra(p,d));break}}p=p.return}}function xF(d,p,v){var N=d.pingCache;N!==null&&N.delete(p),p=Ls(),d.pingedLanes|=d.suspendedLanes&v,Di===d&&(Ji&v)===v&&(Si===4||Si===3&&(Ji&130023424)===Ji&&500>vr()-bb?Jf(d,0):xb|=v),ra(d,p)}function HC(d,p){p===0&&((d.mode&1)===0?p=1:(p=jl,jl<<=1,(jl&130023424)===0&&(jl=4194304)));var v=Ls();d=Fn(d,p),d!==null&&(Pl(d,p,v),ra(d,v))}function bF(d){var p=d.memoizedState,v=0;p!==null&&(v=p.retryLane),HC(d,v)}function wF(d,p){var v=0;switch(d.tag){case 13:var N=d.stateNode,E=d.memoizedState;E!==null&&(v=E.retryLane);break;case 19:N=d.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(p),HC(d,v)}var qC;qC=function(d,p,v){if(d!==null)if(d.memoizedProps!==p.pendingProps||ls.current)ta=!0;else{if((d.lanes&v)===0&&(p.flags&128)===0)return ta=!1,lF(d,p,v);ta=(d.flags&131072)!==0}else ta=!1,Fe&&(p.flags&1048576)!==0&&Ge(p,te,p.index);switch(p.lanes=0,p.tag){case 2:var N=p.type;Gv(d,p),d=p.pendingProps;var E=cd(p,bi.current);Sr(p,v),E=qf(null,p,N,d,E,v);var L=io();return p.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,cs(N)?(L=!0,Kc(p)):L=!1,p.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,vp(p),E.updater=Hv,p.stateNode=E,E._reactInternals=p,ib(p,N,d,v),p=lb(null,p,N,!0,L,v)):(p.tag=0,Fe&&L&&Oe(p),Ts(null,p,E,v),p=p.child),p;case 16:N=p.elementType;e:{switch(Gv(d,p),d=p.pendingProps,E=N._init,N=E(N._payload),p.type=N,E=p.tag=_F(N),d=Uo(N,d),E){case 0:p=ob(null,p,N,d,v);break e;case 1:p=yC(null,p,N,d,v);break e;case 11:p=hC(null,p,N,d,v);break e;case 14:p=pC(null,p,N,Uo(N.type,d),v);break e}throw Error(n(306,N,""))}return p;case 0:return N=p.type,E=p.pendingProps,E=p.elementType===N?E:Uo(N,E),ob(d,p,N,E,v);case 1:return N=p.type,E=p.pendingProps,E=p.elementType===N?E:Uo(N,E),yC(d,p,N,E,v);case 3:e:{if(xC(p),d===null)throw Error(n(387));N=p.pendingProps,L=p.memoizedState,E=L.element,ug(d,p),Fo(p,N,null,v);var Y=p.memoizedState;if(N=Y.element,L.isDehydrated)if(L={element:N,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){E=Pp(Error(n(423)),p),p=bC(d,p,N,v,E);break e}else if(N!==E){E=Pp(Error(n(424)),p),p=bC(d,p,N,v,E);break e}else for(Ve=Ki(p.stateNode.containerInfo.firstChild),Se=p,Fe=!0,He=null,v=Mn(p,null,N,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(dn(),N===E){p=Zc(d,p,v);break e}Ts(d,p,N,v)}p=p.child}return p;case 5:return Fv(p),d===null&&ft(p),N=p.type,E=p.pendingProps,L=d!==null?d.memoizedProps:null,Y=E.children,sg(N,E)?Y=null:L!==null&&sg(N,L)&&(p.flags|=32),vC(d,p),Ts(d,p,Y,v),p.child;case 6:return d===null&&ft(p),null;case 13:return wC(d,p,v);case 4:return fd(p,p.stateNode.containerInfo),N=p.pendingProps,d===null?p.child=Kr(p,null,N,v):Ts(d,p,N,v),p.child;case 11:return N=p.type,E=p.pendingProps,E=p.elementType===N?E:Uo(N,E),hC(d,p,N,E,v);case 7:return Ts(d,p,p.pendingProps,v),p.child;case 8:return Ts(d,p,p.pendingProps.children,v),p.child;case 12:return Ts(d,p,p.pendingProps.children,v),p.child;case 10:e:{if(N=p.type._context,E=p.pendingProps,L=p.memoizedProps,Y=E.value,Gn(Ti,N._currentValue),N._currentValue=Y,L!==null)if(Ln(L.value,Y)){if(L.children===E.children&&!ls.current){p=Zc(d,p,v);break e}}else for(L=p.child,L!==null&&(L.return=p);L!==null;){var pe=L.dependencies;if(pe!==null){Y=L.child;for(var xe=pe.firstContext;xe!==null;){if(xe.context===N){if(L.tag===1){xe=Zs(-1,v&-v),xe.tag=2;var Te=L.updateQueue;if(Te!==null){Te=Te.shared;var Ze=Te.pending;Ze===null?xe.next=xe:(xe.next=Ze.next,Ze.next=xe),Te.pending=xe}}L.lanes|=v,xe=L.alternate,xe!==null&&(xe.lanes|=v),Js(L.return,v,p),pe.lanes|=v;break}xe=xe.next}}else if(L.tag===10)Y=L.type===p.type?null:L.child;else if(L.tag===18){if(Y=L.return,Y===null)throw Error(n(341));Y.lanes|=v,pe=Y.alternate,pe!==null&&(pe.lanes|=v),Js(Y,v,p),Y=L.sibling}else Y=L.child;if(Y!==null)Y.return=L;else for(Y=L;Y!==null;){if(Y===p){Y=null;break}if(L=Y.sibling,L!==null){L.return=Y.return,Y=L;break}Y=Y.return}L=Y}Ts(d,p,E.children,v),p=p.child}return p;case 9:return E=p.type,N=p.pendingProps.children,Sr(p,v),E=Br(E),N=N(E),p.flags|=1,Ts(d,p,N,v),p.child;case 14:return N=p.type,E=Uo(N,p.pendingProps),E=Uo(N.type,E),pC(d,p,N,E,v);case 15:return mC(d,p,p.type,p.pendingProps,v);case 17:return N=p.type,E=p.pendingProps,E=p.elementType===N?E:Uo(N,E),Gv(d,p),p.tag=1,cs(N)?(d=!0,Kc(p)):d=!1,Sr(p,v),aC(p,N,E),ib(p,N,E,v),lb(null,p,N,!0,d,v);case 19:return _C(d,p,v);case 22:return gC(d,p,v)}throw Error(n(156,p.tag))};function GC(d,p){return Sc(d,p)}function SF(d,p,v,N){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ao(d,p,v,N){return new SF(d,p,v,N)}function Ab(d){return d=d.prototype,!(!d||!d.isReactComponent)}function _F(d){if(typeof d=="function")return Ab(d)?1:0;if(d!=null){if(d=d.$$typeof,d===O)return 11;if(d===ae)return 14}return 2}function wd(d,p){var v=d.alternate;return v===null?(v=ao(d.tag,p,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=p,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,p=d.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function i1(d,p,v,N,E,L){var Y=2;if(N=d,typeof d=="function")Ab(d)&&(Y=1);else if(typeof d=="string")Y=5;else e:switch(d){case T:return Qf(v.children,E,L,p);case M:Y=8,E|=8;break;case U:return d=ao(12,v,p,E|2),d.elementType=U,d.lanes=L,d;case H:return d=ao(13,v,p,E),d.elementType=H,d.lanes=L,d;case V:return d=ao(19,v,p,E),d.elementType=V,d.lanes=L,d;case W:return s1(v,E,L,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case ee:Y=10;break e;case F:Y=9;break e;case O:Y=11;break e;case ae:Y=14;break e;case J:Y=16,N=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=ao(Y,v,p,E),p.elementType=d,p.type=N,p.lanes=L,p}function Qf(d,p,v,N){return d=ao(7,d,N,p),d.lanes=v,d}function s1(d,p,v,N){return d=ao(22,d,N,p),d.elementType=W,d.lanes=v,d.stateNode={isHidden:!1},d}function kb(d,p,v){return d=ao(6,d,null,p),d.lanes=v,d}function Eb(d,p,v){return p=ao(4,d.children!==null?d.children:[],d.key,p),p.lanes=v,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function CF(d,p,v,N,E){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=N,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function $b(d,p,v,N,E,L,Y,pe,xe){return d=new CF(d,p,v,pe,xe),p===1?(p=1,L===!0&&(p|=8)):p=0,L=ao(3,null,null,p),d.current=L,L.stateNode=d,L.memoizedState={element:N,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(L),d}function NF(d,p,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:N==null?null:""+N,children:d,containerInfo:p,implementation:v}}function KC(d){if(!d)return Vl;d=d._reactInternals;e:{if(yi(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(cs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var v=d.type;if(cs(v))return cg(d,v,p)}return p}function YC(d,p,v,N,E,L,Y,pe,xe){return d=$b(v,N,!0,d,E,L,Y,pe,xe),d.context=KC(null),v=d.current,N=Ls(),E=xd(v),L=Zs(N,E),L.callback=p??null,Qs(v,L,E),d.current.lanes=E,Pl(d,E,N),ra(d,N),d}function a1(d,p,v,N){var E=p.current,L=Ls(),Y=xd(E);return v=KC(v),p.context===null?p.context=v:p.pendingContext=v,p=Zs(L,Y),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=Qs(E,p,Y),d!==null&&(qo(d,E,Y,L),Yc(d,E,Y)),Y}function o1(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function XC(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<p?v:p}}function Rb(d,p){XC(d,p),(d=d.alternate)&&XC(d,p)}function jF(){return null}var JC=typeof reportError=="function"?reportError:function(d){console.error(d)};function Tb(d){this._internalRoot=d}l1.prototype.render=Tb.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));a1(d,p,null,null)},l1.prototype.unmount=Tb.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;Xf(function(){a1(null,d,null,null)}),p[Ri]=null}};function l1(d){this._internalRoot=d}l1.prototype.unstable_scheduleHydration=function(d){if(d){var p=Ha();d={blockedOn:null,target:d,priority:p};for(var v=0;v<Ga.length&&p!==0&&p<Ga[v].priority;v++);Ga.splice(v,0,d),v===0&&Fu(d)}};function Lb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function c1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function ZC(){}function PF(d,p,v,N,E){if(E){if(typeof N=="function"){var L=N;N=function(){var Te=o1(Y);L.call(Te)}}var Y=YC(p,N,d,0,null,!1,!1,"",ZC);return d._reactRootContainer=Y,d[Ri]=Y.current,Uc(d.nodeType===8?d.parentNode:d),Xf(),Y}for(;E=d.lastChild;)d.removeChild(E);if(typeof N=="function"){var pe=N;N=function(){var Te=o1(xe);pe.call(Te)}}var xe=$b(d,0,!1,null,null,!1,!1,"",ZC);return d._reactRootContainer=xe,d[Ri]=xe.current,Uc(d.nodeType===8?d.parentNode:d),Xf(function(){a1(p,xe,v,N)}),xe}function u1(d,p,v,N,E){var L=v._reactRootContainer;if(L){var Y=L;if(typeof E=="function"){var pe=E;E=function(){var xe=o1(Y);pe.call(xe)}}a1(p,Y,d,E)}else Y=PF(v,p,d,E,N);return o1(Y)}ap=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var v=jc(p.pendingLanes);v!==0&&(Ou(p,v|1),ra(p,vr()),(Dn&6)===0&&(Ep=vr()+500,I()))}break;case 13:Xf(function(){var N=Fn(d,1);if(N!==null){var E=Ls();qo(N,d,1,E)}}),Rb(d,1)}},Pf=function(d){if(d.tag===13){var p=Fn(d,134217728);if(p!==null){var v=Ls();qo(p,d,134217728,v)}Rb(d,134217728)}},op=function(d){if(d.tag===13){var p=xd(d),v=Fn(d,p);if(v!==null){var N=Ls();qo(v,d,p,N)}Rb(d,p)}},Ha=function(){return Tn},Ac=function(d,p){var v=Tn;try{return Tn=d,p()}finally{Tn=v}},on=function(d,p,v){switch(p){case"input":if(Dt(d,v),p=v.name,v.type==="radio"&&p!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var N=v[p];if(N!==d&&N.form===d.form){var E=Wf(N);if(!E)throw Error(n(90));qe(N),Dt(N,E)}}}break;case"textarea":We(d,v);break;case"select":p=v.value,p!=null&&me(d,!!v.multiple,p,!1)}},Sl=Nb,li=Xf;var AF={usingClientEntryPoint:!1,Events:[ld,qc,Wf,Vt,Nn,Nb]},wg={findFiberByHostInstance:Bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kF={bundleType:wg.bundleType,version:wg.version,rendererPackageName:wg.rendererPackageName,rendererConfig:wg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Cl(d),d===null?null:d.stateNode},findFiberByHostInstance:wg.findFiberByHostInstance||jF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d1.isDisabled&&d1.supportsFiber)try{Cc=d1.inject(kF),Hs=d1}catch{}}return ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AF,ia.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lb(p))throw Error(n(200));return NF(d,p,null,v)},ia.createRoot=function(d,p){if(!Lb(d))throw Error(n(299));var v=!1,N="",E=JC;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&(E=p.onRecoverableError)),p=$b(d,1,!1,null,null,v,!1,N,E),d[Ri]=p.current,Uc(d.nodeType===8?d.parentNode:d),new Tb(p)},ia.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Cl(p),d=d===null?null:d.stateNode,d},ia.flushSync=function(d){return Xf(d)},ia.hydrate=function(d,p,v){if(!c1(p))throw Error(n(200));return u1(null,d,p,!0,v)},ia.hydrateRoot=function(d,p,v){if(!Lb(d))throw Error(n(405));var N=v!=null&&v.hydratedSources||null,E=!1,L="",Y=JC;if(v!=null&&(v.unstable_strictMode===!0&&(E=!0),v.identifierPrefix!==void 0&&(L=v.identifierPrefix),v.onRecoverableError!==void 0&&(Y=v.onRecoverableError)),p=YC(p,null,d,1,v??null,E,!1,L,Y),d[Ri]=p.current,Uc(d),N)for(d=0;d<N.length;d++)v=N[d],E=v._getVersion,E=E(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,E]:p.mutableSourceEagerHydrationData.push(v,E);return new l1(p)},ia.render=function(d,p,v){if(!c1(p))throw Error(n(200));return u1(null,d,p,!1,v)},ia.unmountComponentAtNode=function(d){if(!c1(d))throw Error(n(40));return d._reactRootContainer?(Xf(function(){u1(null,null,d,!1,function(){d._reactRootContainer=null,d[Ri]=null})}),!0):!1},ia.unstable_batchedUpdates=Nb,ia.unstable_renderSubtreeIntoContainer=function(d,p,v,N){if(!c1(v))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return u1(d,p,v,!1,N)},ia.version="18.3.1-next-f1338f8080-20240426",ia}var aN;function mk(){if(aN)return Ib.exports;aN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ib.exports=FF(),Ib.exports}var oN;function BF(){if(oN)return f1;oN=1;var e=mk();return f1.createRoot=e.createRoot,f1.hydrateRoot=e.hydrateRoot,f1}var VF=BF();const zF=Vh(VF);var zh=mk();const UF=Vh(zh);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(this,arguments)}var Md;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Md||(Md={}));const lN="popstate";function WF(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return m5("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xy(i)}return qF(t,n,null,e)}function ii(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HF(){return Math.random().toString(36).substr(2,8)}function cN(e,t){return{usr:e.state,key:e.key,idx:t}}function m5(e,t,n,r){return n===void 0&&(n=null),y0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bm(t):t,{state:n,key:t&&t.key||r||HF()})}function xy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Md.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(y0({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=Md.Pop;let S=f(),_=S==null?null:S-u;u=S,c&&c({action:o,location:y.location,delta:_})}function g(S,_){o=Md.Push;let C=m5(y.location,S,_);u=f()+1;let P=cN(C,u),A=y.createHref(C);try{a.pushState(P,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(A)}s&&c&&c({action:o,location:y.location,delta:1})}function m(S,_){o=Md.Replace;let C=m5(y.location,S,_);u=f();let P=cN(C,u),A=y.createHref(C);a.replaceState(P,"",A),s&&c&&c({action:o,location:y.location,delta:0})}function x(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof S=="string"?S:xy(S);return C=C.replace(/ $/,"%20"),ii(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let y={get action(){return o},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lN,h),c=S,()=>{i.removeEventListener(lN,h),c=null}},createHref(S){return t(i,S)},createURL:x,encodeLocation(S){let _=x(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:m,go(S){return a.go(S)}};return y}var uN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uN||(uN={}));function GF(e,t,n){return n===void 0&&(n="/"),KF(e,t,n)}function KF(e,t,n,r){let i=typeof t=="string"?Bm(t):t,s=PS(i.pathname||"/",n);if(s==null)return null;let a=vk(e);YF(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=oB(s);o=iB(a[c],u)}return o}function vk(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ii(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ud([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ii(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vk(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:nB(u,s.index),routesMeta:f})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of yk(s.path))i(s,a,c)}),t}function yk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=yk(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function YF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XF=/^:[\w-]+$/,JF=3,ZF=2,QF=1,eB=10,tB=-2,dN=e=>e==="*";function nB(e,t){let n=e.split("/"),r=n.length;return n.some(dN)&&(r+=tB),t&&(r+=ZF),n.filter(i=>!dN(i)).reduce((i,s)=>i+(XF.test(s)?JF:s===""?QF:eB),r)}function rB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function iB(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=sB({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ud([s,h.pathname]),pathnameBase:dB(Ud([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Ud([s,h.pathnameBase]))}return a}function sB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aB(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[h];return m&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function aB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function PS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lB(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Bm(e):e;return{pathname:n?n.startsWith("/")?n:cB(n,t):t,search:fB(r),hash:hB(i)}}function cB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bb(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function AS(e,t){let n=uB(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kS(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Bm(e):(i=y0({},e),ii(!i.pathname||!i.pathname.includes("?"),Bb("?","pathname","search",i)),ii(!i.pathname||!i.pathname.includes("#"),Bb("#","pathname","hash",i)),ii(!i.search||!i.search.includes("#"),Bb("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?t[h]:"/"}let c=lB(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ud=e=>e.join("/").replace(/\/\/+/g,"/"),dB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xk=["post","put","patch","delete"];new Set(xk);const mB=["get",...xk];new Set(mB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(this,arguments)}const ES=w.createContext(null),gB=w.createContext(null),hf=w.createContext(null),$x=w.createContext(null),mc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),bk=w.createContext(null);function vB(e,t){let{relative:n}=t===void 0?{}:t;Vm()||ii(!1);let{basename:r,navigator:i}=w.useContext(hf),{hash:s,pathname:a,search:o}=Sk(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Ud([r,a])),i.createHref({pathname:c,search:o,hash:s})}function Vm(){return w.useContext($x)!=null}function ju(){return Vm()||ii(!1),w.useContext($x).location}function wk(e){w.useContext(hf).static||w.useLayoutEffect(e)}function Pu(){let{isDataRoute:e}=w.useContext(mc);return e?TB():yB()}function yB(){Vm()||ii(!1);let e=w.useContext(ES),{basename:t,future:n,navigator:r}=w.useContext(hf),{matches:i}=w.useContext(mc),{pathname:s}=ju(),a=JSON.stringify(AS(i,n.v7_relativeSplatPath)),o=w.useRef(!1);return wk(()=>{o.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=kS(u,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ud([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,a,s,e])}const xB=w.createContext(null);function bB(e){let t=w.useContext(mc).outlet;return t&&w.createElement(xB.Provider,{value:e},t)}function wB(){let{matches:e}=w.useContext(mc),t=e[e.length-1];return t?t.params:{}}function Sk(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(hf),{matches:i}=w.useContext(mc),{pathname:s}=ju(),a=JSON.stringify(AS(i,r.v7_relativeSplatPath));return w.useMemo(()=>kS(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function SB(e,t){return _B(e,t)}function _B(e,t,n,r){Vm()||ii(!1);let{navigator:i}=w.useContext(hf),{matches:s}=w.useContext(mc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ju(),f;if(t){var h;let S=typeof t=="string"?Bm(t):t;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||ii(!1),f=S}else f=u;let g=f.pathname||"/",m=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=GF(e,{pathname:m}),y=AB(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Ud([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ud([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return t&&y?w.createElement($x.Provider,{value:{location:x0({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Md.Pop}},y):y}function CB(){let e=RB(),t=pB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const NB=w.createElement(CB,null);class jB extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(mc.Provider,{value:this.props.routeContext},w.createElement(bk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PB(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(ES);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(mc.Provider,{value:t},r)}function AB(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||ii(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:m}=n,x=h.route.loader&&g[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let m,x=!1,y=null,S=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||NB,c&&(u<0&&g===0?(LB("route-fallback"),x=!0,S=null):u===g&&(x=!0,S=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,g+1)),C=()=>{let P;return m?P=y:x?P=S:h.route.Component?P=w.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=f,w.createElement(PB,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:P})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?w.createElement(jB,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var _k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_k||{}),Ck=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ck||{});function kB(e){let t=w.useContext(ES);return t||ii(!1),t}function EB(e){let t=w.useContext(gB);return t||ii(!1),t}function $B(e){let t=w.useContext(mc);return t||ii(!1),t}function Nk(e){let t=$B(),n=t.matches[t.matches.length-1];return n.route.id||ii(!1),n.route.id}function RB(){var e;let t=w.useContext(bk),n=EB(),r=Nk();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function TB(){let{router:e}=kB(_k.UseNavigateStable),t=Nk(Ck.UseNavigateStable),n=w.useRef(!1);return wk(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,x0({fromRouteId:t},s)))},[e,t])}const fN={};function LB(e,t,n){fN[e]||(fN[e]=!0)}function DB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function by(e){let{to:t,replace:n,state:r,relative:i}=e;Vm()||ii(!1);let{future:s,static:a}=w.useContext(hf),{matches:o}=w.useContext(mc),{pathname:c}=ju(),u=Pu(),f=kS(t,AS(o,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function jk(e){return bB(e.context)}function bn(e){ii(!1)}function OB(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Md.Pop,navigator:s,static:a=!1,future:o}=e;Vm()&&ii(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:a,future:x0({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=Bm(r));let{pathname:f="/",search:h="",hash:g="",state:m=null,key:x="default"}=r,y=w.useMemo(()=>{let S=PS(f,c);return S==null?null:{location:{pathname:S,search:h,hash:g,state:m,key:x},navigationType:i}},[c,f,h,g,m,x,i]);return y==null?null:w.createElement(hf.Provider,{value:u},w.createElement($x.Provider,{children:n,value:y}))}function IB(e){let{children:t,location:n}=e;return SB(g5(t),n)}new Promise(()=>{});function g5(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,g5(r.props.children,s));return}r.type!==bn&&ii(!1),!r.props.index||!r.props.children||ii(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=g5(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v5.apply(this,arguments)}function MB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BB(e,t){return e.button===0&&(!t||t==="_self")&&!FB(e)}const VB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zB="6";try{window.__reactRouterVersion=zB}catch{}const UB="startTransition",hN=jS[UB];function WB(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=WF({window:i,v5Compat:!0}));let a=s.current,[o,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=w.useCallback(h=>{u&&hN?hN(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.useEffect(()=>DB(r),[r]),w.createElement(OB,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const HB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,g=MB(t,VB),{basename:m}=w.useContext(hf),x,y=!1;if(typeof u=="string"&&qB.test(u)&&(x=u,HB))try{let P=new URL(window.location.href),A=u.startsWith("//")?new URL(P.protocol+u):new URL(u),R=PS(A.pathname,m);A.origin===P.origin&&R!=null?u=R+A.search+A.hash:y=!0}catch{}let S=vB(u,{relative:i}),_=GB(u,{replace:a,state:o,target:c,preventScrollReset:f,relative:i,viewTransition:h});function C(P){r&&r(P),P.defaultPrevented||_(P)}return w.createElement("a",v5({},g,{href:x||S,onClick:y||s?r:C,ref:n,target:c}))});var pN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pN||(pN={}));var mN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mN||(mN={}));function GB(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=Pu(),u=ju(),f=Sk(e,{relative:a});return w.useCallback(h=>{if(BB(h,n)){h.preventDefault();let g=r!==void 0?r:xy(u)===xy(f);c(e,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,f,r,i,n,e,s,a,o])}const Pk=w.createContext(null);var Vb,gN;function KB(){if(gN)return Vb;gN=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(_,C)=>{for(var P in C)e(_,P,{get:C[P],enumerable:!0})},s=(_,C,P,A)=>{if(C&&typeof C=="object"||typeof C=="function")for(let R of n(C))!r.call(_,R)&&R!==P&&e(_,R,{get:()=>C[R],enumerable:!(A=t(C,R))||A.enumerable});return _},a=_=>s(e({},"__esModule",{value:!0}),_),o=(_,C,P)=>new Promise((A,R)=>{var D=U=>{try{M(P.next(U))}catch(ee){R(ee)}},T=U=>{try{M(P.throw(U))}catch(ee){R(ee)}},M=U=>U.done?A(U.value):Promise.resolve(U.value).then(D,T);M((P=P.apply(_,C)).next())}),c={};i(c,{SessionContextProvider:()=>g,useSession:()=>y,useSessionContext:()=>m,useSupabaseClient:()=>x,useUser:()=>S}),Vb=a(c);var u=H0(),f=pk(),h=(0,u.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),g=({supabaseClient:_,initialSession:C=null,children:P})=>{const[A,R]=(0,u.useState)(C),[D,T]=(0,u.useState)(!C),[M,U]=(0,u.useState)();(0,u.useEffect)(()=>{!A&&C&&R(C)},[A,C]),(0,u.useEffect)(()=>{let F=!0;function O(){return o(this,null,function*(){const{data:{session:H},error:V}=yield _.auth.getSession();if(F){if(V){U(V),T(!1);return}R(H),T(!1)}})}return O(),()=>{F=!1}},[]),(0,u.useEffect)(()=>{const{data:{subscription:F}}=_.auth.onAuthStateChange((O,H)=>{H&&(O==="SIGNED_IN"||O==="TOKEN_REFRESHED"||O==="USER_UPDATED")&&R(H),O==="SIGNED_OUT"&&R(null)});return()=>{F.unsubscribe()}},[]);const ee=(0,u.useMemo)(()=>D?{isLoading:!0,session:null,error:null,supabaseClient:_}:M?{isLoading:!1,session:null,error:M,supabaseClient:_}:{isLoading:!1,session:A,error:null,supabaseClient:_},[D,A,M]);return(0,f.jsx)(h.Provider,{value:ee,children:P})},m=()=>{const _=(0,u.useContext)(h);if(_===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return _};function x(){const _=(0,u.useContext)(h);if(_===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return _.supabaseClient}var y=()=>{const _=(0,u.useContext)(h);if(_===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return _.session},S=()=>{var _,C;const P=(0,u.useContext)(h);if(P===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(C=(_=P.session)==null?void 0:_.user)!=null?C:null};return Vb}var qn=KB();const YB=1;let zb=0;function XB(){return zb=(zb+1)%Number.MAX_VALUE,zb.toString()}const Ds={state:{toasts:[]},listeners:[],getState:()=>Ds.state,setState:e=>{typeof e=="function"?Ds.state=e(Ds.state):Ds.state={...Ds.state,...e},Ds.listeners.forEach(t=>t(Ds.state))},subscribe:e=>(Ds.listeners.push(e),()=>{Ds.listeners=Ds.listeners.filter(t=>t!==e)})},JB=({...e})=>{const t=XB(),n=i=>Ds.setState(s=>({...s,toasts:s.toasts.map(a=>a.id===t?{...a,...i}:a)})),r=()=>Ds.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==t)}));return Ds.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,YB)})),{id:t,dismiss:r,update:n}};function Pn(){const[e,t]=w.useState(Ds.getState());return w.useEffect(()=>Ds.subscribe(r=>{t(r)}),[]),w.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:JB,toasts:e.toasts}}const vo=()=>{const e=qn.useSupabaseClient(),[t,n]=w.useState(!0),[r,i]=w.useState(null),[s,a]=w.useState(null),[o,c]=w.useState(null),{toast:u}=Pn(),f=w.useCallback(async y=>{if(!y||!e){c(null);return}try{const{data:S,error:_}=await e.from("users_profile").select("*").eq("user_id",y).single();if(_&&_.code!=="PGRST116")throw _;c(S)}catch(S){console.error("[loadUserProfile] ERROR:",S),c(null)}},[e]);w.useEffect(()=>{if(!e)return;(async()=>{const{data:{session:_}}=await e.auth.getSession();a(_);const C=_==null?void 0:_.user;i(C),C&&await f(C.id),n(!1)})();const{data:{subscription:S}}=e.auth.onAuthStateChange((_,C)=>{a(C);const P=(C==null?void 0:C.user)??null;i(P),_==="SIGNED_IN"||_==="USER_UPDATED"?f(P.id):_==="SIGNED_OUT"&&c(null)});return()=>{S==null||S.unsubscribe()}},[e,f]);const h=w.useCallback(async(y,S,_={})=>{if(!e)return{success:!1,error:"Supabase client not ready"};const{data:C,error:P}=await e.auth.signUp({email:y,password:S,options:{data:_}});return u(P?{variant:"destructive",title:"Error de registro",description:P.message}:{title:"Registro exitoso",description:"Por favor, revisa tu correo para confirmar."}),{success:!P,data:C,error:P}},[e,u]),g=w.useCallback(async(y,S)=>{if(!e)return{success:!1,error:"Supabase client not ready"};const{data:_,error:C}=await e.auth.signInWithPassword({email:y,password:S});return C&&u({variant:"destructive",title:"Error de inicio de sesión",description:C.message}),{success:!C,data:_,error:C}},[e,u]),m=w.useCallback(async()=>{if(!e)return{success:!1,error:"Supabase client not ready"};const{error:y}=await e.auth.signOut();return u(y?{variant:"destructive",title:"Error al cerrar sesión",description:y.message}:{title:"Has cerrado sesión"}),{success:!y}},[e,u]),x=w.useCallback(async y=>{if(!r||!e)return{success:!1,error:"No user or client ready"};try{const{data:S,error:_}=await e.from("users_profile").update(y).eq("user_id",r.id).select().single();if(_)throw _;return c(S),u({title:"Perfil actualizado correctamente"}),{success:!0,data:S}}catch(S){return u({variant:"destructive",title:"Error al actualizar perfil",description:S.message}),{success:!1,error:S}}},[r,e,u]);return w.useMemo(()=>({user:r,session:s,userProfile:o,loading:t,isAuthenticated:!!r,userRole:(o==null?void 0:o.role)||null,signUp:h,signIn:g,signOut:m,updateProfile:x}),[r,s,o,t,h,g,m,x])};var ZB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lt=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...c},u)=>w.createElement("svg",{ref:u,...ZB,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${QB(e)}`,...c},[...t.map(([f,h])=>w.createElement(f,h)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},eV=lt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Wr=lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ni=lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ak=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tV=lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),wy=lt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),nV=lt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),rV=lt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kk=lt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),uc=lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),iV=lt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),Rx=lt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),sV=lt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),$S=lt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),aV=lt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vn=lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Tx=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),oV=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),RS=lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Lx=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vN=lt("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]),b0=lt("CircleSlash",[["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ek=lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),lV=lt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),si=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yN=lt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),cV=lt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),$k=lt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Au=lt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),zm=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),uV=lt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Dx=lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rk=lt("FileBadge",[["path",{d:"M4 7V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-6",key:"qtddq0"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",key:"u0c8gj"}],["path",{d:"M7 16.5 8 22l-3-1-3 1 1-5.5",key:"5gm2nr"}]]),y5=lt("FileCheck2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]]),dV=lt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),fV=lt("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),hV=lt("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]),Tk=lt("FileStack",[["path",{d:"M16 2v5h5",key:"kt2in0"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17l4 4z",key:"1km23n"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]),mo=lt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Lk=lt("FileWarning",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pV=lt("FileX",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9.5",x2:"14.5",y1:"12.5",y2:"17.5",key:"izs6du"}],["line",{x1:"14.5",x2:"9.5",y1:"12.5",y2:"17.5",key:"1lehlj"}]]),q0=lt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),mV=lt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),jm=lt("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),xN=lt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),gV=lt("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),sc=lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Dk=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),vV=lt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),jn=lt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x5=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ok=lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),w0=lt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Ox=lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),gc=lt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),yV=lt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ix=lt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),bN=lt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),xV=lt("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Ik=lt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Sy=lt("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),TS=lt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),bV=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),wV=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_y=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Mk=lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Fk=lt("SearchCheck",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),G0=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Bk=lt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),SV=lt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),_V=lt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tm=lt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),CV=lt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),LS=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wN=lt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Vk=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),S0=lt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),zk=lt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),jh=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Uk=lt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),DS=lt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),_0=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),C0=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),NV=lt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Qi=lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),yo=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jV=lt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),PV=()=>l.jsxs("div",{className:"flex flex-col justify-center items-center h-screen w-screen bg-background text-foreground",children:[l.jsx(jn,{className:"h-10 w-10 animate-spin text-primary mb-4"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Cargando aplicación..."})]}),AV=({children:e})=>{const t=vo();return t.loading?l.jsx(PV,{}):l.jsx(Pk.Provider,{value:t,children:e})},Wk=w.createContext(null),Pi=()=>{const e=w.useContext(Pk);if(e===void 0)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e};function kV(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let b5=1;class EV{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:b5++,a=this.toasts.find(c=>c.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:o,title:r}):c):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],Re.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(RV(u)&&!u.ok){s=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof h=="object"&&!Re.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...x})}else if(u instanceof Error){s=!1;const h=typeof n.error=="function"?await n.error(u):n.error,g=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!Re.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...x})}else if(n.success!==void 0){s=!1;const h=typeof n.success=="function"?await n.success(u):n.success,g=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!Re.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:g,...x})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,m=typeof f=="object"&&!Re.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...m})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>o.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||b5++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const uo=new EV,$V=(e,t)=>{const n=(t==null?void 0:t.id)||b5++;return uo.addToast({title:e,...t,id:n}),n},RV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TV=$V,LV=()=>uo.toasts,DV=()=>uo.getActiveToasts(),OV=Object.assign(TV,{success:uo.success,info:uo.info,warning:uo.warning,error:uo.error,custom:uo.custom,message:uo.message,promise:uo.promise,dismiss:uo.dismiss,loading:uo.loading},{getHistory:LV,getToasts:DV});kV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Hk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Hk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qk(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Hk(e))&&(r&&(r+=" "),r+=t);return r}function IV(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Gk(t))&&(r&&(r+=" "),r+=n);return r}function Gk(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Gk(e[r]))&&(n&&(n+=" "),n+=t);return n}var OS="-";function MV(e){var t=BV(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(o){var c=o.split(OS);return c[0]===""&&c.length!==1&&c.shift(),Kk(c,t)||FV(o)}function a(o,c){var u=n[o]||[];return c&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:s,getConflictingClassGroupIds:a}}function Kk(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?Kk(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var s=e.join(OS);return(a=t.validators.find(function(o){var c=o.validator;return c(s)}))==null?void 0:a.classGroupId}}var SN=/^\[(.+)\]$/;function FV(e){if(SN.test(e)){var t=SN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function BV(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=zV(Object.entries(e.classGroups),n);return i.forEach(function(s){var a=s[0],o=s[1];w5(o,r,a,t)}),r}function w5(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:_N(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(VV(i)){w5(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(a){var o=a[0],c=a[1];w5(c,_N(t,o),n,r)})})}function _N(e,t){var n=e;return t.split(OS).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function VV(e){return e.isThemeGetter}function zV(e,t){return t?e.map(function(n){var r=n[0],i=n[1],s=i.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(o){var c=o[0],u=o[1];return[t+c,u]})):a});return[r,s]}):e}function UV(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(s,a){n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set:function(a,o){n.has(a)?n.set(a,o):i(a,o)}}}var Yk="!";function WV(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(a){for(var o=[],c=0,u=0,f,h=0;h<a.length;h++){var g=a[h];if(c===0){if(g===r&&(n||a.slice(h,h+i)===t)){o.push(a.slice(u,h)),u=h+i;continue}if(g==="/"){f=h;continue}}g==="["?c++:g==="]"&&c--}var m=o.length===0?a:a.substring(u),x=m.startsWith(Yk),y=x?m.substring(1):m,S=f&&f>u?f-u:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:S}}}function HV(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function qV(e){return{cache:UV(e.cacheSize),splitModifiers:WV(e),...MV(e)}}var GV=/\s+/;function KV(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(GV).map(function(a){var o=n(a),c=o.modifiers,u=o.hasImportantModifier,f=o.baseClassName,h=o.maybePostfixModifierPosition,g=r(h?f.substring(0,h):f),m=!!h;if(!g){if(!h)return{isTailwindClass:!1,originalClassName:a};if(g=r(f),!g)return{isTailwindClass:!1,originalClassName:a};m=!1}var x=HV(c).join(":"),y=u?x+Yk:x;return{isTailwindClass:!0,modifierId:y,classGroupId:g,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var o=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,f=o+c;return s.has(f)?!1:(s.add(f),i(c,u).forEach(function(h){return s.add(o+h)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function YV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,a=o;function o(u){var f=t[0],h=t.slice(1),g=h.reduce(function(m,x){return x(m)},f());return r=qV(g),i=r.cache.get,s=r.cache.set,a=c,c(u)}function c(u){var f=i(u);if(f)return f;var h=KV(u,r);return s(u,h),h}return function(){return a(IV.apply(null,arguments))}}function _r(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Xk=/^\[(?:([a-z-]+):)?(.+)\]$/i,XV=/^\d+\/\d+$/,JV=new Set(["px","full","screen"]),ZV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ez=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Go(e){return vh(e)||JV.has(e)||XV.test(e)||S5(e)}function S5(e){return Uh(e,"length",az)}function tz(e){return Uh(e,"size",Jk)}function nz(e){return Uh(e,"position",Jk)}function rz(e){return Uh(e,"url",oz)}function h1(e){return Uh(e,"number",vh)}function vh(e){return!Number.isNaN(Number(e))}function iz(e){return e.endsWith("%")&&vh(e.slice(0,-1))}function _g(e){return CN(e)||Uh(e,"number",CN)}function Cn(e){return Xk.test(e)}function Cg(){return!0}function _d(e){return ZV.test(e)}function sz(e){return Uh(e,"",lz)}function Uh(e,t,n){var r=Xk.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function az(e){return QV.test(e)}function Jk(){return!1}function oz(e){return e.startsWith("url(")}function CN(e){return Number.isInteger(Number(e))}function lz(e){return ez.test(e)}function cz(){var e=_r("colors"),t=_r("spacing"),n=_r("blur"),r=_r("brightness"),i=_r("borderColor"),s=_r("borderRadius"),a=_r("borderSpacing"),o=_r("borderWidth"),c=_r("contrast"),u=_r("grayscale"),f=_r("hueRotate"),h=_r("invert"),g=_r("gap"),m=_r("gradientColorStops"),x=_r("gradientColorStopPositions"),y=_r("inset"),S=_r("margin"),_=_r("opacity"),C=_r("padding"),P=_r("saturate"),A=_r("scale"),R=_r("sepia"),D=_r("skew"),T=_r("space"),M=_r("translate"),U=function(){return["auto","contain","none"]},ee=function(){return["auto","hidden","clip","visible","scroll"]},F=function(){return["auto",Cn,t]},O=function(){return[Cn,t]},H=function(){return["",Go]},V=function(){return["auto",vh,Cn]},ae=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},J=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},z=function(){return["start","end","center","between","around","evenly","stretch"]},ne=function(){return["","0",Cn]},se=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},X=function(){return[vh,h1]},B=function(){return[vh,Cn]};return{cacheSize:500,theme:{colors:[Cg],spacing:[Go],blur:["none","",_d,Cn],brightness:X(),borderColor:[e],borderRadius:["none","","full",_d,Cn],borderSpacing:O(),borderWidth:H(),contrast:X(),grayscale:ne(),hueRotate:B(),invert:ne(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[iz,S5],inset:F(),margin:F(),opacity:X(),padding:O(),saturate:X(),scale:X(),sepia:ne(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Cn]}],container:["container"],columns:[{columns:[_d]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ae(),[Cn])}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_g]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cn]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",_g]}],"grid-cols":[{"grid-cols":[Cg]}],"col-start-end":[{col:["auto",{span:["full",_g]},Cn]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Cg]}],"row-start-end":[{row:["auto",{span:[_g]},Cn]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cn]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(z())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(z(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Cn,t]}],"min-w":[{"min-w":["min","max","fit",Cn,Go]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[_d]},_d,Cn]}],h:[{h:[Cn,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Cn,Go]}],"max-h":[{"max-h":[Cn,t,"min","max","fit"]}],"font-size":[{text:["base",_d,S5]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",h1]}],"font-family":[{font:[Cg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cn]}],"line-clamp":[{"line-clamp":["none",vh,h1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,Go]}],"list-image":[{"list-image":["none",Cn]}],"list-style-type":[{list:["none","disc","decimal",Cn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(J(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Go]}],"underline-offset":[{"underline-offset":["auto",Cn,Go]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ae(),[nz])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(J(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(J())}],"outline-offset":[{"outline-offset":[Cn,Go]}],"outline-w":[{outline:[Go]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Go]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_d,sz]}],"shadow-color":[{shadow:[Cg]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_d,Cn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[P]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cn]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Cn]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[_g,Cn]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Go,h1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var uz=YV(cz);function Je(...e){return uz(qk(e))}const dz={new_auction_bid:"Subasta",outbid:"Subasta",auction_won:"Subasta",auction_lost:"Subasta",auction_status_update:"Subasta",payment_required:"Pagos",pending_payment:"Pagos",vin_check_completed:"Pagos",new_inspection:"Inspecciones",inspection_status_update:"Inspecciones",new_user:"General",document_missing:"Alertas",vin_check_failed:"Alertas"};function ey(e){return e&&dz[e]||"General"}const fz={pending_payment:"Pendiente de Pago",scheduled:"Programada",completed:"Completada",cancelled:"Cancelada",processing:"Procesando",approved:"Aprobado",rejected:"Rechazado",won:"Ganada",in_transit:"En Tránsito"};function hz(e){return e?fz[e.toLowerCase()]||e:"N/A"}function Cy(e){if(!e)return"";const t=e.metadata||{};let n=e.message;if(e.type==="inspection_status_update"&&t.status)n=`Tu inspección para Stock# ${t.stock_number||""} cambió a: ${hz(t.status)}`;else if(e.type==="new_inspection"&&t.stock_number)n=`${e.message} Stock# ${t.stock_number}`;else if(e.type==="vin_check_completed"&&t.vin)n=`La verificación para el VIN ${t.vin.substring(0,17)} está lista.`;else if(e.type==="vin_check_failed"&&t.vin)n=`Falló la verificación para el VIN ${t.vin}.`;else if(e.type==="vin_check_processing"&&t.vin)n=`Estamos procesando la verificación para el VIN ${t.vin.substring(0,17)}`;else if(e.type==="new_vin_check"&&t.vin){if(n=`${e.message} VIN: ${t.vin}`,e.type==="new_auction_bid"&&t.lot_number){const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.amount||0);n=`Nueva puja de ${t.user_name||"un usuario"} por ${r} en el lote #${t.lot_number}.`}}else e.type==="outbid"&&t.lot_number?n=`Tu puja para el lote ${t.lot_number} fue superada. ¡Haz una nueva oferta!`:e.type==="auction_won"&&t.lot_number?n=`¡Felicidades! Has ganado la subasta para el lote ${t.lot_number}.`:e.type==="auction_lost"&&t.lot_number&&(n=`No ganaste la subasta para el lote ${t.lot_number}. Motivo: ${t.reason||"Puja superada"}.`);return n}const Zk=({children:e})=>{const t=qn.useSupabaseClient(),{user:n,userRole:r}=Pi(),[i,s]=w.useState([]);w.useEffect(()=>{(async()=>{if(!n){s([]);return}const{data:m}=await t.from("notifications").select("*").or(`user_id.eq.${n.id},target_role.eq.${r}`).order("created_at",{ascending:!1});s(m||[])})()},[n,r]);const a=Pu(),o=w.useCallback(g=>{const m=g.new,x=Cy(m);OV(m.type.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()),{description:x,action:{label:"Ver",onClick:()=>a(m.link||"/notifications")}}),s(y=>[m,...y])},[a]);w.useEffect(()=>{if(!n||!r)return;console.log(`Rol de usuario actual: ${r}`);let g;["admin","support","validation","finance"].includes(r)?g=`or=(target_role.eq.${r},user_id.eq.${n.id})`:g=`user_id=eq.${n.id}`;const x={config:{websocket:!0}};console.log(`Aplicando filtro de notificación: ${g}`);const y=t.channel(`notifications_channel_${n.id}`,x).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:g},o).subscribe(S=>{S==="SUBSCRIBED"&&console.log(`Canal de notificaciones conectado (WebSocket) con filtro: ${g}`)});return()=>{y&&t.removeChannel(y)}},[n,r,o]);const c=w.useMemo(()=>i.filter(g=>!g.is_read).length,[i]),h={notifications:i,unreadCount:c,updateNotificationStatus:async(g,m)=>{s(x=>x.map(y=>y.id===g?{...y,is_read:m}:y)),await t.from("notifications").update({is_read:m}).eq("id",g)},markAllAsRead:async()=>{s(m=>m.map(x=>({...x,is_read:!0})));const g=i.filter(m=>!m.is_read).map(m=>m.id);g.length>0&&await t.from("notifications").update({is_read:!0}).in("id",g)}};return l.jsx(Wk.Provider,{value:h,children:e})};function rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function NN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mx(...e){return t=>{let n=!1;const r=e.map(i=>{const s=NN(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():NN(e[i],null)}}}}function tn(...e){return w.useCallback(Mx(...e),e)}function pz(e,t){const n=w.createContext(t),r=s=>{const{children:a,...o}=s,c=w.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=w.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Ui(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];const u=h=>{var _;const{scope:g,children:m,...x}=h,y=((_=g==null?void 0:g[e])==null?void 0:_[c])||o,S=w.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:S,children:m})};u.displayName=s+"Provider";function f(h,g){var y;const m=((y=g==null?void 0:g[e])==null?void 0:y[c])||o,x=w.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,mz(i,...t)]}function mz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Zd(e){const t=gz(e),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,o=w.Children.toArray(s),c=o.find(vz);if(c){const u=c.props.children,f=o.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...a,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return l.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Qk=Zd("Slot");function gz(e){const t=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=xz(i),o=yz(s,i.props);return i.type!==w.Fragment&&(o.ref=r?Mx(r,a):a),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eE=Symbol("radix.slottable");function tE(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eE,t}function vz(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eE}function yz(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function xz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=bz.reduce((e,t)=>{const n=Zd(`Primitive.${t}`),r=w.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function IS(e,t){e&&zh.flushSync(()=>e.dispatchEvent(t))}function Fs(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wz(e,t=globalThis==null?void 0:globalThis.document){const n=Fs(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Sz="DismissableLayer",_5="dismissableLayer.update",_z="dismissableLayer.pointerDownOutside",Cz="dismissableLayer.focusOutside",jN,nE=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wh=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=w.useContext(nE),[f,h]=w.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),x=tn(t,T=>h(T)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(S),C=f?y.indexOf(f):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=_,R=jz(T=>{const M=T.target,U=[...u.branches].some(ee=>ee.contains(M));!A||U||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},g),D=Pz(T=>{const M=T.target;[...u.branches].some(ee=>ee.contains(M))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},g);return wz(T=>{C===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},g),w.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),PN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=jN)}},[f,g,n,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),PN())},[f,u]),w.useEffect(()=>{const T=()=>m({});return document.addEventListener(_5,T),()=>document.removeEventListener(_5,T)},[]),l.jsx(jt.div,{...c,ref:x,style:{pointerEvents:P?A?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,R.onPointerDownCapture)})});Wh.displayName=Sz;var Nz="DismissableLayerBranch",rE=w.forwardRef((e,t)=>{const n=w.useContext(nE),r=w.useRef(null),i=tn(t,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(jt.div,{...e,ref:i})});rE.displayName=Nz;function jz(e,t=globalThis==null?void 0:globalThis.document){const n=Fs(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){iE(_z,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pz(e,t=globalThis==null?void 0:globalThis.document){const n=Fs(e),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&iE(Cz,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function PN(){const e=new CustomEvent(_5);document.dispatchEvent(e)}function iE(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?IS(i,s):i.dispatchEvent(s)}var Az=Wh,kz=rE,mi=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Ez=jS[" useId ".trim().toString()]||(()=>{}),$z=0;function ol(e){const[t,n]=w.useState(Ez());return mi(()=>{n(r=>r??String($z++))},[e]),t?`radix-${t}`:""}const Rz=["top","right","bottom","left"],Qd=Math.min,Oa=Math.max,Ny=Math.round,p1=Math.floor,ac=e=>({x:e,y:e}),Tz={left:"right",right:"left",bottom:"top",top:"bottom"},Lz={start:"end",end:"start"};function C5(e,t,n){return Oa(e,Qd(t,n))}function xu(e,t){return typeof e=="function"?e(t):e}function bu(e){return e.split("-")[0]}function Um(e){return e.split("-")[1]}function MS(e){return e==="x"?"y":"x"}function FS(e){return e==="y"?"height":"width"}function tc(e){return["top","bottom"].includes(bu(e))?"y":"x"}function BS(e){return MS(tc(e))}function Dz(e,t,n){n===void 0&&(n=!1);const r=Um(e),i=BS(e),s=FS(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=jy(a)),[a,jy(a)]}function Oz(e){const t=jy(e);return[N5(e),t,N5(t)]}function N5(e){return e.replace(/start|end/g,t=>Lz[t])}function Iz(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function Mz(e,t,n,r){const i=Um(e);let s=Iz(bu(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(N5)))),s}function jy(e){return e.replace(/left|right|bottom|top/g,t=>Tz[t])}function Fz(e){return{top:0,right:0,bottom:0,left:0,...e}}function sE(e){return typeof e!="number"?Fz(e):{top:e,right:e,bottom:e,left:e}}function Py(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function AN(e,t,n){let{reference:r,floating:i}=e;const s=tc(t),a=BS(t),o=FS(a),c=bu(t),u=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let m;switch(c){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Um(t)){case"start":m[a]-=g*(n&&u?-1:1);break;case"end":m[a]+=g*(n&&u?-1:1);break}return m}const Bz=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=AN(u,r,c),g=r,m={},x=0;for(let y=0;y<o.length;y++){const{name:S,fn:_}=o[y],{x:C,y:P,data:A,reset:R}=await _({x:f,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});f=C??f,h=P??h,m={...m,[S]:{...m[S],...A}},R&&x<=50&&(x++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(u=R.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:f,y:h}=AN(u,g,c)),y=-1)}return{x:f,y:h,placement:g,strategy:i,middlewareData:m}};async function N0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:m=0}=xu(t,e),x=sE(m),S=o[g?h==="floating"?"reference":"floating":h],_=Py(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),C=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},R=Py(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:C,offsetParent:P,strategy:c}):C);return{top:(_.top-R.top+x.top)/A.y,bottom:(R.bottom-_.bottom+x.bottom)/A.y,left:(_.left-R.left+x.left)/A.x,right:(R.right-_.right+x.right)/A.x}}const Vz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:f=0}=xu(e,t)||{};if(u==null)return{};const h=sE(f),g={x:n,y:r},m=BS(i),x=FS(m),y=await a.getDimensions(u),S=m==="y",_=S?"top":"left",C=S?"bottom":"right",P=S?"clientHeight":"clientWidth",A=s.reference[x]+s.reference[m]-g[m]-s.floating[x],R=g[m]-s.reference[m],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=D?D[P]:0;(!T||!await(a.isElement==null?void 0:a.isElement(D)))&&(T=o.floating[P]||s.floating[x]);const M=A/2-R/2,U=T/2-y[x]/2-1,ee=Qd(h[_],U),F=Qd(h[C],U),O=ee,H=T-y[x]-F,V=T/2-y[x]/2+M,ae=C5(O,V,H),J=!c.arrow&&Um(i)!=null&&V!==ae&&s.reference[x]/2-(V<O?ee:F)-y[x]/2<0,W=J?V<O?V-O:V-H:0;return{[m]:g[m]+W,data:{[m]:ae,centerOffset:V-ae-W,...J&&{alignmentOffset:W}},reset:J}}}),zz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...S}=xu(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=bu(i),C=tc(o),P=bu(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=g||(P||!y?[jy(o)]:Oz(o)),D=x!=="none";!g&&D&&R.push(...Mz(o,y,x,A));const T=[o,...R],M=await N0(t,S),U=[];let ee=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&U.push(M[_]),h){const V=Dz(i,a,A);U.push(M[V[0]],M[V[1]])}if(ee=[...ee,{placement:i,overflows:U}],!U.every(V=>V<=0)){var F,O;const V=(((F=s.flip)==null?void 0:F.index)||0)+1,ae=T[V];if(ae&&(!(h==="alignment"?C!==tc(ae):!1)||ee.every(z=>z.overflows[0]>0&&tc(z.placement)===C)))return{data:{index:V,overflows:ee},reset:{placement:ae}};let J=(O=ee.filter(W=>W.overflows[0]<=0).sort((W,z)=>W.overflows[1]-z.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(m){case"bestFit":{var H;const W=(H=ee.filter(z=>{if(D){const ne=tc(z.placement);return ne===C||ne==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ne=>ne>0).reduce((ne,se)=>ne+se,0)]).sort((z,ne)=>z[1]-ne[1])[0])==null?void 0:H[0];W&&(J=W);break}case"initialPlacement":J=o;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function kN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function EN(e){return Rz.some(t=>e[t]>=0)}const Uz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=xu(e,t);switch(r){case"referenceHidden":{const s=await N0(t,{...i,elementContext:"reference"}),a=kN(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:EN(a)}}}case"escaped":{const s=await N0(t,{...i,altBoundary:!0}),a=kN(s,n.floating);return{data:{escapedOffsets:a,escaped:EN(a)}}}default:return{}}}}};async function Wz(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=bu(n),o=Um(n),c=tc(n)==="y",u=["left","top"].includes(a)?-1:1,f=s&&c?-1:1,h=xu(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(m=o==="end"?x*-1:x),c?{x:m*f,y:g*u}:{x:g*u,y:m*f}}const Hz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await Wz(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},qz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:S=>{let{x:_,y:C}=S;return{x:_,y:C}}},...c}=xu(e,t),u={x:n,y:r},f=await N0(t,c),h=tc(bu(i)),g=MS(h);let m=u[g],x=u[h];if(s){const S=g==="y"?"top":"left",_=g==="y"?"bottom":"right",C=m+f[S],P=m-f[_];m=C5(C,m,P)}if(a){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",C=x+f[S],P=x-f[_];x=C5(C,x,P)}const y=o.fn({...t,[g]:m,[h]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:s,[h]:a}}}}}},Gz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=xu(e,t),f={x:n,y:r},h=tc(i),g=MS(h);let m=f[g],x=f[h];const y=xu(o,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const P=g==="y"?"height":"width",A=s.reference[g]-s.floating[P]+S.mainAxis,R=s.reference[g]+s.reference[P]-S.mainAxis;m<A?m=A:m>R&&(m=R)}if(u){var _,C;const P=g==="y"?"width":"height",A=["top","left"].includes(bu(i)),R=s.reference[h]-s.floating[P]+(A&&((_=a.offset)==null?void 0:_[h])||0)+(A?0:S.crossAxis),D=s.reference[h]+s.reference[P]+(A?0:((C=a.offset)==null?void 0:C[h])||0)-(A?S.crossAxis:0);x<R?x=R:x>D&&(x=D)}return{[g]:m,[h]:x}}}},Kz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=xu(e,t),f=await N0(t,u),h=bu(i),g=Um(i),m=tc(i)==="y",{width:x,height:y}=s.floating;let S,_;h==="top"||h==="bottom"?(S=h,_=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=h,S=g==="end"?"top":"bottom");const C=y-f.top-f.bottom,P=x-f.left-f.right,A=Qd(y-f[S],C),R=Qd(x-f[_],P),D=!t.middlewareData.shift;let T=A,M=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=C),D&&!g){const ee=Oa(f.left,0),F=Oa(f.right,0),O=Oa(f.top,0),H=Oa(f.bottom,0);m?M=x-2*(ee!==0||F!==0?ee+F:Oa(f.left,f.right)):T=y-2*(O!==0||H!==0?O+H:Oa(f.top,f.bottom))}await c({...t,availableWidth:M,availableHeight:T});const U=await a.getDimensions(o.floating);return x!==U.width||y!==U.height?{reset:{rects:!0}}:{}}}};function Fx(){return typeof window<"u"}function Wm(e){return aE(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vc(e){var t;return(t=(aE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aE(e){return Fx()?e instanceof Node||e instanceof Ma(e).Node:!1}function dl(e){return Fx()?e instanceof Element||e instanceof Ma(e).Element:!1}function dc(e){return Fx()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function $N(e){return!Fx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}function K0(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Yz(e){return["table","td","th"].includes(Wm(e))}function Bx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function VS(e){const t=zS(),n=dl(e)?fl(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Xz(e){let t=ef(e);for(;dc(t)&&!Pm(t);){if(VS(t))return t;if(Bx(t))return null;t=ef(t)}return null}function zS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pm(e){return["html","body","#document"].includes(Wm(e))}function fl(e){return Ma(e).getComputedStyle(e)}function Vx(e){return dl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ef(e){if(Wm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$N(e)&&e.host||vc(e);return $N(t)?t.host:t}function oE(e){const t=ef(e);return Pm(t)?e.ownerDocument?e.ownerDocument.body:e.body:dc(t)&&K0(t)?t:oE(t)}function j0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=oE(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Ma(i);if(s){const o=j5(a);return t.concat(a,a.visualViewport||[],K0(i)?i:[],o&&n?j0(o):[])}return t.concat(i,j0(i,[],n))}function j5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lE(e){const t=fl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=dc(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Ny(n)!==s||Ny(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function US(e){return dl(e)?e:e.contextElement}function pm(e){const t=US(e);if(!dc(t))return ac(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=lE(t);let a=(s?Ny(n.width):n.width)/r,o=(s?Ny(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Jz=ac(0);function cE(e){const t=Ma(e);return!zS()||!t.visualViewport?Jz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ma(e)?!1:t}function Ph(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=US(e);let a=ac(1);t&&(r?dl(r)&&(a=pm(r)):a=pm(e));const o=Zz(s,n,r)?cE(s):ac(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(s){const g=Ma(s),m=r&&dl(r)?Ma(r):r;let x=g,y=j5(x);for(;y&&r&&m!==x;){const S=pm(y),_=y.getBoundingClientRect(),C=fl(y),P=_.left+(y.clientLeft+parseFloat(C.paddingLeft))*S.x,A=_.top+(y.clientTop+parseFloat(C.paddingTop))*S.y;c*=S.x,u*=S.y,f*=S.x,h*=S.y,c+=P,u+=A,x=Ma(y),y=j5(x)}}return Py({width:f,height:h,x:c,y:u})}function WS(e,t){const n=Vx(e).scrollLeft;return t?t.left+n:Ph(vc(e)).left+n}function uE(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:WS(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Qz(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=vc(r),o=t?Bx(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ac(1);const f=ac(0),h=dc(r);if((h||!h&&!s)&&((Wm(r)!=="body"||K0(a))&&(c=Vx(r)),dc(r))){const m=Ph(r);u=pm(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const g=a&&!h&&!s?uE(a,c,!0):ac(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-c.scrollTop*u.y+f.y+g.y}}function eU(e){return Array.from(e.getClientRects())}function tU(e){const t=vc(e),n=Vx(e),r=e.ownerDocument.body,i=Oa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Oa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+WS(e);const o=-n.scrollTop;return fl(r).direction==="rtl"&&(a+=Oa(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function nU(e,t){const n=Ma(e),r=vc(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=zS();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function rU(e,t){const n=Ph(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=dc(e)?pm(e):ac(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function RN(e,t,n){let r;if(t==="viewport")r=nU(e,n);else if(t==="document")r=tU(vc(e));else if(dl(t))r=rU(t,n);else{const i=cE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Py(r)}function dE(e,t){const n=ef(e);return n===t||!dl(n)||Pm(n)?!1:fl(n).position==="fixed"||dE(n,t)}function iU(e,t){const n=t.get(e);if(n)return n;let r=j0(e,[],!1).filter(o=>dl(o)&&Wm(o)!=="body"),i=null;const s=fl(e).position==="fixed";let a=s?ef(e):e;for(;dl(a)&&!Pm(a);){const o=fl(a),c=VS(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||K0(a)&&!c&&dE(e,a))?r=r.filter(f=>f!==a):i=o,a=ef(a)}return t.set(e,r),r}function sU(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Bx(t)?[]:iU(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,f)=>{const h=RN(t,f,i);return u.top=Oa(h.top,u.top),u.right=Qd(h.right,u.right),u.bottom=Qd(h.bottom,u.bottom),u.left=Oa(h.left,u.left),u},RN(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function aU(e){const{width:t,height:n}=lE(e);return{width:t,height:n}}function oU(e,t,n){const r=dc(t),i=vc(t),s=n==="fixed",a=Ph(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=ac(0);function u(){c.x=WS(i)}if(r||!r&&!s)if((Wm(t)!=="body"||K0(i))&&(o=Vx(t)),r){const m=Ph(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?uE(i,o):ac(0),h=a.left+o.scrollLeft-c.x-f.x,g=a.top+o.scrollTop-c.y-f.y;return{x:h,y:g,width:a.width,height:a.height}}function Ub(e){return fl(e).position==="static"}function TN(e,t){if(!dc(e)||fl(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vc(e)===n&&(n=n.ownerDocument.body),n}function fE(e,t){const n=Ma(e);if(Bx(e))return n;if(!dc(e)){let i=ef(e);for(;i&&!Pm(i);){if(dl(i)&&!Ub(i))return i;i=ef(i)}return n}let r=TN(e,t);for(;r&&Yz(r)&&Ub(r);)r=TN(r,t);return r&&Pm(r)&&Ub(r)&&!VS(r)?n:r||Xz(e)||n}const lU=async function(e){const t=this.getOffsetParent||fE,n=this.getDimensions,r=await n(e.floating);return{reference:oU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cU(e){return fl(e).direction==="rtl"}const uU={convertOffsetParentRelativeRectToViewportRelativeRect:Qz,getDocumentElement:vc,getClippingRect:sU,getOffsetParent:fE,getElementRects:lU,getClientRects:eU,getDimensions:aU,getScale:pm,isElement:dl,isRTL:cU};function hE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dU(e,t){let n=null,r;const i=vc(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:h,width:g,height:m}=u;if(o||t(),!g||!m)return;const x=p1(h),y=p1(i.clientWidth-(f+g)),S=p1(i.clientHeight-(h+m)),_=p1(f),P={rootMargin:-x+"px "+-y+"px "+-S+"px "+-_+"px",threshold:Oa(0,Qd(1,c))||1};let A=!0;function R(D){const T=D[0].intersectionRatio;if(T!==c){if(!A)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!hE(u,e.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(R,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,P)}n.observe(e)}return a(!0),s}function fU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=US(e),f=i||s?[...u?j0(u):[],...j0(t)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=u&&o?dU(u,n):null;let g=-1,m=null;a&&(m=new ResizeObserver(_=>{let[C]=_;C&&C.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=m)==null||P.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,y=c?Ph(e):null;c&&S();function S(){const _=Ph(e);y&&!hE(y,_)&&n(),y=_,x=requestAnimationFrame(S)}return n(),()=>{var _;f.forEach(C=>{i&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const hU=Hz,pU=qz,mU=zz,gU=Kz,vU=Uz,LN=Vz,yU=Gz,xU=(e,t,n)=>{const r=new Map,i={platform:uU,...n},s={...i.platform,_c:r};return Bz(e,t,{...i,platform:s})};var bU=typeof document<"u",wU=function(){},ty=bU?w.useLayoutEffect:wU;function Ay(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ay(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Ay(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function pE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DN(e,t){const n=pE(e);return Math.round(t*n)/n}function Wb(e){const t=w.useRef(e);return ty(()=>{t.current=e}),t}function SU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[f,h]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=w.useState(r);Ay(g,r)||m(r);const[x,y]=w.useState(null),[S,_]=w.useState(null),C=w.useCallback(z=>{z!==D.current&&(D.current=z,y(z))},[]),P=w.useCallback(z=>{z!==T.current&&(T.current=z,_(z))},[]),A=s||x,R=a||S,D=w.useRef(null),T=w.useRef(null),M=w.useRef(f),U=c!=null,ee=Wb(c),F=Wb(i),O=Wb(u),H=w.useCallback(()=>{if(!D.current||!T.current)return;const z={placement:t,strategy:n,middleware:g};F.current&&(z.platform=F.current),xU(D.current,T.current,z).then(ne=>{const se={...ne,isPositioned:O.current!==!1};V.current&&!Ay(M.current,se)&&(M.current=se,zh.flushSync(()=>{h(se)}))})},[g,t,n,F,O]);ty(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const V=w.useRef(!1);ty(()=>(V.current=!0,()=>{V.current=!1}),[]),ty(()=>{if(A&&(D.current=A),R&&(T.current=R),A&&R){if(ee.current)return ee.current(A,R,H);H()}},[A,R,H,ee,U]);const ae=w.useMemo(()=>({reference:D,floating:T,setReference:C,setFloating:P}),[C,P]),J=w.useMemo(()=>({reference:A,floating:R}),[A,R]),W=w.useMemo(()=>{const z={position:n,left:0,top:0};if(!J.floating)return z;const ne=DN(J.floating,f.x),se=DN(J.floating,f.y);return o?{...z,transform:"translate("+ne+"px, "+se+"px)",...pE(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:se}},[n,o,J.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:H,refs:ae,elements:J,floatingStyles:W}),[f,H,ae,J,W])}const _U=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?LN({element:r.current,padding:i}).fn(n):{}:r?LN({element:r,padding:i}).fn(n):{}}}},CU=(e,t)=>({...hU(e),options:[e,t]}),NU=(e,t)=>({...pU(e),options:[e,t]}),jU=(e,t)=>({...yU(e),options:[e,t]}),PU=(e,t)=>({...mU(e),options:[e,t]}),AU=(e,t)=>({...gU(e),options:[e,t]}),kU=(e,t)=>({...vU(e),options:[e,t]}),EU=(e,t)=>({..._U(e),options:[e,t]});var $U="Arrow",mE=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(jt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});mE.displayName=$U;var RU=mE;function Y0(e){const[t,n]=w.useState(void 0);return mi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var HS="Popper",[gE,pf]=Ui(HS),[TU,vE]=gE(HS),yE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return l.jsx(TU,{scope:t,anchor:r,onAnchorChange:i,children:n})};yE.displayName=HS;var xE="PopperAnchor",bE=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=vE(xE,n),a=w.useRef(null),o=tn(t,a);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(jt.div,{...i,ref:o})});bE.displayName=xE;var qS="PopperContent",[LU,DU]=gE(qS),wE=w.forwardRef((e,t)=>{var he,ge,be,Le,$e,qe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=e,S=vE(qS,n),[_,C]=w.useState(null),P=tn(t,Qe=>C(Qe)),[A,R]=w.useState(null),D=Y0(A),T=(D==null?void 0:D.width)??0,M=(D==null?void 0:D.height)??0,U=r+(s!=="center"?"-"+s:""),ee=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(u)?u:[u],O=F.length>0,H={padding:ee,boundary:F.filter(IU),altBoundary:O},{refs:V,floatingStyles:ae,placement:J,isPositioned:W,middlewareData:z}=SU({strategy:"fixed",placement:U,whileElementsMounted:(...Qe)=>fU(...Qe,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[CU({mainAxis:i+M,alignmentAxis:a}),c&&NU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?jU():void 0,...H}),c&&PU({...H}),AU({...H,apply:({elements:Qe,rects:yt,availableWidth:De,availableHeight:fe})=>{const{width:Dt,height:xt}=yt.reference,Ke=Qe.floating.style;Ke.setProperty("--radix-popper-available-width",`${De}px`),Ke.setProperty("--radix-popper-available-height",`${fe}px`),Ke.setProperty("--radix-popper-anchor-width",`${Dt}px`),Ke.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),A&&EU({element:A,padding:o}),MU({arrowWidth:T,arrowHeight:M}),g&&kU({strategy:"referenceHidden",...H})]}),[ne,se]=CE(J),X=Fs(x);mi(()=>{W&&(X==null||X())},[W,X]);const B=(he=z.arrow)==null?void 0:he.x,Q=(ge=z.arrow)==null?void 0:ge.y,re=((be=z.arrow)==null?void 0:be.centerOffset)!==0,[ce,ue]=w.useState();return mi(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:W?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Le=z.transformOrigin)==null?void 0:Le.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((qe=z.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(LU,{scope:n,placedSide:ne,onArrowChange:R,arrowX:B,arrowY:Q,shouldHideArrow:re,children:l.jsx(jt.div,{"data-side":ne,"data-align":se,...y,ref:P,style:{...y.style,animation:W?void 0:"none"}})})})});wE.displayName=qS;var SE="PopperArrow",OU={top:"bottom",right:"left",bottom:"top",left:"right"},_E=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=DU(SE,r),a=OU[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(RU,{...i,ref:n,style:{...i.style,display:"block"}})})});_E.displayName=SE;function IU(e){return e!==null}var MU=e=>({name:"transformOrigin",options:e,fn(t){var S,_,C;const{placement:n,rects:r,middlewareData:i}=t,a=((S=i.arrow)==null?void 0:S.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=CE(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(((_=i.arrow)==null?void 0:_.x)??0)+o/2,m=(((C=i.arrow)==null?void 0:C.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=a?h:`${g}px`,y=`${-c}px`):u==="top"?(x=a?h:`${g}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=a?h:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=a?h:`${m}px`),{data:{x,y}}}});function CE(e){const[t,n="center"]=e.split("-");return[t,n]}var GS=yE,X0=bE,zx=wE,Ux=_E,FU="Portal",Hm=w.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=w.useState(!1);mi(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?UF.createPortal(l.jsx(jt.div,{...r,ref:t}),a):null});Hm.displayName=FU;function BU(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Vs=e=>{const{present:t,children:n}=e,r=VU(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=tn(r.ref,zU(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Vs.displayName="Presence";function VU(e){const[t,n]=w.useState(),r=w.useRef(null),i=w.useRef(e),s=w.useRef("none"),a=e?"mounted":"unmounted",[o,c]=BU(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=m1(r.current);s.current=o==="mounted"?u:"none"},[o]),mi(()=>{const u=r.current,f=i.current;if(f!==e){const g=s.current,m=m1(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),mi(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=m=>{const y=m1(r.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=m=>{m.target===t&&(s.current=m1(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function m1(e){return(e==null?void 0:e.animationName)||"none"}function zU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UU=jS[" useInsertionEffect ".trim().toString()]||mi;function go({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=WU({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:i;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const h=f.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const u=w.useCallback(f=>{var h;if(o){const g=HU(f)?f(e):f;g!==e&&((h=a.current)==null||h.call(a,g))}else s(f)},[o,e,s,a]);return[c,u]}function WU({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),i=w.useRef(n),s=w.useRef(t);return UU(()=>{s.current=t},[t]),w.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function HU(e){return typeof e=="function"}var NE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qU="VisuallyHidden",Wx=w.forwardRef((e,t)=>l.jsx(jt.span,{...e,ref:t,style:{...NE,...e.style}}));Wx.displayName=qU;var GU=Wx,[Hx,Qye]=Ui("Tooltip",[pf]),KS=pf(),jE="TooltipProvider",KU=700,ON="tooltip.open",[YU,PE]=Hx(jE),AE=e=>{const{__scopeTooltip:t,delayDuration:n=KU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=w.useRef(!0),o=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(YU,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:w.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};AE.displayName=jE;var kE="Tooltip",[exe,qx]=Hx(kE),P5="TooltipTrigger",XU=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=qx(P5,n),s=PE(P5,n),a=KS(n),o=w.useRef(null),c=tn(t,o,i.onTriggerChange),u=w.useRef(!1),f=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(X0,{asChild:!0,...a,children:l.jsx(jt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:rt(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:rt(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:rt(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:rt(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:rt(e.onBlur,i.onClose),onClick:rt(e.onClick,i.onClose)})})});XU.displayName=P5;var JU="TooltipPortal",[txe,ZU]=Hx(JU,{forceMount:void 0}),Am="TooltipContent",EE=w.forwardRef((e,t)=>{const n=ZU(Am,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=qx(Am,e.__scopeTooltip);return l.jsx(Vs,{present:r||a.open,children:a.disableHoverableContent?l.jsx($E,{side:i,...s,ref:t}):l.jsx(QU,{side:i,...s,ref:t})})}),QU=w.forwardRef((e,t)=>{const n=qx(Am,e.__scopeTooltip),r=PE(Am,e.__scopeTooltip),i=w.useRef(null),s=tn(t,i),[a,o]=w.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:h}=r,g=w.useCallback(()=>{o(null),h(!1)},[h]),m=w.useCallback((x,y)=>{const S=x.currentTarget,_={x:x.clientX,y:x.clientY},C=iW(_,S.getBoundingClientRect()),P=sW(_,C),A=aW(y.getBoundingClientRect()),R=lW([...P,...A]);o(R),h(!0)},[h]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(c&&f){const x=S=>m(S,f),y=S=>m(S,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[c,f,m,g]),w.useEffect(()=>{if(a){const x=y=>{const S=y.target,_={x:y.clientX,y:y.clientY},C=(c==null?void 0:c.contains(S))||(f==null?void 0:f.contains(S)),P=!oW(_,a);C?g():P&&(g(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,a,u,g]),l.jsx($E,{...e,ref:s})}),[eW,tW]=Hx(kE,{isInside:!1}),nW=tE("TooltipContent"),$E=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=qx(Am,n),u=KS(n),{onClose:f}=c;return w.useEffect(()=>(document.addEventListener(ON,f),()=>document.removeEventListener(ON,f)),[f]),w.useEffect(()=>{if(c.trigger){const h=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),l.jsx(Wh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:l.jsxs(zx,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(nW,{children:r}),l.jsx(eW,{scope:n,isInside:!0,children:l.jsx(GU,{id:c.contentId,role:"tooltip",children:i||r})})]})})});EE.displayName=Am;var RE="TooltipArrow",rW=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=KS(n);return tW(RE,n).isInside?null:l.jsx(Ux,{...i,...r,ref:t})});rW.displayName=RE;function iW(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sW(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function aW(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function oW(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],c=t[a],u=o.x,f=o.y,h=c.x,g=c.y;f>r!=g>r&&n<(h-u)*(r-f)/(g-f)+u&&(i=!i)}return i}function lW(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cW(t)}function cW(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var uW=AE,TE=EE;const dW=uW,fW=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(TE,{ref:r,sideOffset:t,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));fW.displayName=TE.displayName;function J0(e){const t=e+"CollectionProvider",[n,r]=Ui(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:S,children:_}=y,C=Re.useRef(null),P=Re.useRef(new Map).current;return l.jsx(i,{scope:S,itemMap:P,collectionRef:C,children:_})};a.displayName=t;const o=e+"CollectionSlot",c=Zd(o),u=Re.forwardRef((y,S)=>{const{scope:_,children:C}=y,P=s(o,_),A=tn(S,P.collectionRef);return l.jsx(c,{ref:A,children:C})});u.displayName=o;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=Zd(f),m=Re.forwardRef((y,S)=>{const{scope:_,children:C,...P}=y,A=Re.useRef(null),R=tn(S,A),D=s(f,_);return Re.useEffect(()=>(D.itemMap.set(A,{ref:A,...P}),()=>void D.itemMap.delete(A))),l.jsx(g,{[h]:"",ref:R,children:C})});m.displayName=f;function x(y){const S=s(e+"CollectionConsumer",y);return Re.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const P=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((D,T)=>P.indexOf(D.ref.current)-P.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},x,r]}var YS="ToastProvider",[XS,hW,pW]=J0("Toast"),[LE,nxe]=Ui("Toast",[pW]),[mW,Gx]=LE(YS),DE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=w.useState(null),[u,f]=w.useState(0),h=w.useRef(!1),g=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${YS}\`. Expected non-empty \`string\`.`),l.jsx(XS.Provider,{scope:t,children:l.jsx(mW,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:w.useCallback(()=>f(m=>m+1),[]),onToastRemove:w.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:a})})};DE.displayName=YS;var OE="ToastViewport",gW=["F8"],A5="toast.viewportPause",k5="toast.viewportResume",IE=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=gW,label:i="Notifications ({hotkey})",...s}=e,a=Gx(OE,n),o=hW(n),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),g=tn(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;w.useEffect(()=>{const S=_=>{var P;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((P=h.current)==null||P.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),w.useEffect(()=>{const S=c.current,_=h.current;if(x&&S&&_){const C=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(A5);_.dispatchEvent(D),a.isClosePausedRef.current=!0}},P=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(k5);_.dispatchEvent(D),a.isClosePausedRef.current=!1}},A=D=>{!S.contains(D.relatedTarget)&&P()},R=()=>{S.contains(document.activeElement)||P()};return S.addEventListener("focusin",C),S.addEventListener("focusout",A),S.addEventListener("pointermove",C),S.addEventListener("pointerleave",R),window.addEventListener("blur",C),window.addEventListener("focus",P),()=>{S.removeEventListener("focusin",C),S.removeEventListener("focusout",A),S.removeEventListener("pointermove",C),S.removeEventListener("pointerleave",R),window.removeEventListener("blur",C),window.removeEventListener("focus",P)}}},[x,a.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:S})=>{const C=o().map(P=>{const A=P.ref.current,R=[A,...kW(A)];return S==="forwards"?R:R.reverse()});return(S==="forwards"?C.reverse():C).flat()},[o]);return w.useEffect(()=>{const S=h.current;if(S){const _=C=>{var R,D,T;const P=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!P){const M=document.activeElement,U=C.shiftKey;if(C.target===S&&U){(R=u.current)==null||R.focus();return}const O=y({tabbingDirection:U?"backwards":"forwards"}),H=O.findIndex(V=>V===M);Hb(O.slice(H+1))?C.preventDefault():U?(D=u.current)==null||D.focus():(T=f.current)==null||T.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[o,y]),l.jsxs(kz,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(E5,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});Hb(S)}}),l.jsx(XS.Slot,{scope:n,children:l.jsx(jt.ol,{tabIndex:-1,...s,ref:g})}),x&&l.jsx(E5,{ref:f,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});Hb(S)}})]})});IE.displayName=OE;var ME="ToastFocusProxy",E5=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Gx(ME,n);return l.jsx(Wx,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});E5.displayName=ME;var Z0="Toast",vW="toast.swipeStart",yW="toast.swipeMove",xW="toast.swipeCancel",bW="toast.swipeEnd",FE=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o,c]=go({prop:r,defaultProp:i??!0,onChange:s,caller:Z0});return l.jsx(Vs,{present:n||o,children:l.jsx(_W,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:Fs(e.onPause),onResume:Fs(e.onResume),onSwipeStart:rt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rt(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:rt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rt(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});FE.displayName=Z0;var[wW,SW]=LE(Z0,{onClose(){}}),_W=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:m,...x}=e,y=Gx(Z0,n),[S,_]=w.useState(null),C=tn(t,V=>_(V)),P=w.useRef(null),A=w.useRef(null),R=i||y.duration,D=w.useRef(0),T=w.useRef(R),M=w.useRef(0),{onToastAdd:U,onToastRemove:ee}=y,F=Fs(()=>{var ae;(S==null?void 0:S.contains(document.activeElement))&&((ae=y.viewport)==null||ae.focus()),a()}),O=w.useCallback(V=>{!V||V===1/0||(window.clearTimeout(M.current),D.current=new Date().getTime(),M.current=window.setTimeout(F,V))},[F]);w.useEffect(()=>{const V=y.viewport;if(V){const ae=()=>{O(T.current),u==null||u()},J=()=>{const W=new Date().getTime()-D.current;T.current=T.current-W,window.clearTimeout(M.current),c==null||c()};return V.addEventListener(A5,J),V.addEventListener(k5,ae),()=>{V.removeEventListener(A5,J),V.removeEventListener(k5,ae)}}},[y.viewport,R,c,u,O]),w.useEffect(()=>{s&&!y.isClosePausedRef.current&&O(R)},[s,R,y.isClosePausedRef,O]),w.useEffect(()=>(U(),()=>ee()),[U,ee]);const H=w.useMemo(()=>S?qE(S):null,[S]);return y.viewport?l.jsxs(l.Fragment,{children:[H&&l.jsx(CW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),l.jsx(wW,{scope:n,onClose:F,children:zh.createPortal(l.jsx(XS.ItemSlot,{scope:n,children:l.jsx(Az,{asChild:!0,onEscapeKeyDown:rt(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(jt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:rt(e.onKeyDown,V=>{V.key==="Escape"&&(o==null||o(V.nativeEvent),V.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:rt(e.onPointerDown,V=>{V.button===0&&(P.current={x:V.clientX,y:V.clientY})}),onPointerMove:rt(e.onPointerMove,V=>{if(!P.current)return;const ae=V.clientX-P.current.x,J=V.clientY-P.current.y,W=!!A.current,z=["left","right"].includes(y.swipeDirection),ne=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,se=z?ne(0,ae):0,X=z?0:ne(0,J),B=V.pointerType==="touch"?10:2,Q={x:se,y:X},re={originalEvent:V,delta:Q};W?(A.current=Q,g1(yW,h,re,{discrete:!1})):IN(Q,y.swipeDirection,B)?(A.current=Q,g1(vW,f,re,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(ae)>B||Math.abs(J)>B)&&(P.current=null)}),onPointerUp:rt(e.onPointerUp,V=>{const ae=A.current,J=V.target;if(J.hasPointerCapture(V.pointerId)&&J.releasePointerCapture(V.pointerId),A.current=null,P.current=null,ae){const W=V.currentTarget,z={originalEvent:V,delta:ae};IN(ae,y.swipeDirection,y.swipeThreshold)?g1(bW,m,z,{discrete:!0}):g1(xW,g,z,{discrete:!0}),W.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),CW=e=>{const{__scopeToast:t,children:n,...r}=e,i=Gx(Z0,t),[s,a]=w.useState(!1),[o,c]=w.useState(!1);return PW(()=>a(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Hm,{asChild:!0,children:l.jsx(Wx,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},NW="ToastTitle",BE=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(jt.div,{...r,ref:t})});BE.displayName=NW;var jW="ToastDescription",VE=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(jt.div,{...r,ref:t})});VE.displayName=jW;var zE="ToastAction",UE=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(HE,{altText:n,asChild:!0,children:l.jsx(JS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zE}\`. Expected non-empty \`string\`.`),null)});UE.displayName=zE;var WE="ToastClose",JS=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=SW(WE,n);return l.jsx(HE,{asChild:!0,children:l.jsx(jt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,i.onClose)})})});JS.displayName=WE;var HE=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function qE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),AW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...qE(r))}}),t}function g1(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?IS(i,s):i.dispatchEvent(s)}var IN=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function PW(e=()=>{}){const t=Fs(e);mi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function AW(e){return e.nodeType===e.ELEMENT_NODE}function kW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hb(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var EW=DE,GE=IE,KE=FE,YE=BE,XE=VE,JE=UE,ZE=JS;const MN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FN=qk,qm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return FN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=s==null?void 0:s[u];if(f===null)return null;const g=MN(f)||MN(h);return i[u][g]}),o=n&&Object.entries(n).reduce((u,f)=>{let[h,g]=f;return g===void 0||(u[h]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:g,...m}=f;return Object.entries(m).every(x=>{let[y,S]=x;return Array.isArray(S)?S.includes({...s,...o}[y]):{...s,...o}[y]===S})?[...u,h,g]:u},[]);return FN(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},$W=EW,QE=Re.forwardRef(({className:e,...t},n)=>l.jsx(GE,{ref:n,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));QE.displayName=GE.displayName;const RW=qm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),e7=Re.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(KE,{ref:r,className:Je(RW({variant:t}),e),...n}));e7.displayName=KE.displayName;const TW=Re.forwardRef(({className:e,...t},n)=>l.jsx(JE,{ref:n,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TW.displayName=JE.displayName;const t7=Re.forwardRef(({className:e,...t},n)=>l.jsx(ZE,{ref:n,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(yo,{className:"h-4 w-4"})}));t7.displayName=ZE.displayName;const n7=Re.forwardRef(({className:e,...t},n)=>l.jsx(YE,{ref:n,className:Je("text-sm font-semibold",e),...t}));n7.displayName=YE.displayName;const r7=Re.forwardRef(({className:e,...t},n)=>l.jsx(XE,{ref:n,className:Je("text-sm opacity-90",e),...t}));r7.displayName=XE.displayName;function LW(){const{toasts:e}=Pn();return l.jsxs($W,{children:[e.map(({id:t,title:n,description:r,action:i,dismiss:s,...a})=>l.jsxs(e7,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(n7,{children:n}),r&&l.jsx(r7,{children:r})]}),i,l.jsx(t7,{})]},t)),l.jsx(QE,{})]})}const Kx=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Yx=w.createContext({}),Xx=w.createContext(null),Jx=typeof document<"u",Zx=Jx?w.useLayoutEffect:w.useEffect,i7=w.createContext({strict:!1}),ZS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),DW="framerAppearId",s7="data-"+ZS(DW);function OW(e,t,n,r){const{visualElement:i}=w.useContext(Yx),s=w.useContext(i7),a=w.useContext(Xx),o=w.useContext(Kx).reducedMotion,c=w.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;w.useInsertionEffect(()=>{u&&u.update(n,a)});const f=w.useRef(!!(n[s7]&&!window.HandoffComplete));return Zx(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function om(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IW(e,t,n){return w.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):om(n)&&(n.current=r))},[t])}function P0(e){return typeof e=="string"||Array.isArray(e)}function Qx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const QS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e4=["initial",...QS];function e2(e){return Qx(e.animate)||e4.some(t=>P0(e[t]))}function a7(e){return!!(e2(e)||e.variants)}function MW(e,t){if(e2(e)){const{initial:n,animate:r}=e;return{initial:n===!1||P0(n)?n:void 0,animate:P0(r)?r:void 0}}return e.inherit!==!1?t:{}}function FW(e){const{initial:t,animate:n}=MW(e,w.useContext(Yx));return w.useMemo(()=>({initial:t,animate:n}),[BN(t),BN(n)])}function BN(e){return Array.isArray(e)?e.join(" "):e}const VN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},A0={};for(const e in VN)A0[e]={isEnabled:t=>VN[e].some(n=>!!t[n])};function BW(e){for(const t in e)A0[t]={...A0[t],...e[t]}}const t4=w.createContext({}),o7=w.createContext({}),VW=Symbol.for("motionComponentSymbol");function zW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&BW(e);function s(o,c){let u;const f={...w.useContext(Kx),...o,layoutId:UW(o)},{isStatic:h}=f,g=FW(o),m=r(o,h);if(!h&&Jx){g.visualElement=OW(i,m,f,t);const x=w.useContext(o7),y=w.useContext(i7).strict;g.visualElement&&(u=g.visualElement.loadFeatures(f,y,e,x))}return w.createElement(Yx.Provider,{value:g},u&&g.visualElement?w.createElement(u,{visualElement:g.visualElement,...f}):null,n(i,o,IW(m,g.visualElement,c),m,h,g.visualElement))}const a=w.forwardRef(s);return a[VW]=i,a}function UW({layoutId:e}){const t=w.useContext(t4).id;return t&&e!==void 0?t+"-"+e:e}function WW(e){function t(r,i={}){return zW(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const HW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n4(e){return typeof e!="string"||e.includes("-")?!1:!!(HW.indexOf(e)>-1||/[A-Z]/.test(e))}const ky={};function qW(e){Object.assign(ky,e)}const Q0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hh=new Set(Q0);function l7(e,{layout:t,layoutId:n}){return Hh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ky[e]||e==="opacity")}const zi=e=>!!(e&&e.getVelocity),GW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KW=Q0.length;function YW(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<KW;a++){const o=Q0[a];if(e[o]!==void 0){const c=GW[o]||o;s+=`${c}(${e[o]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const c7=e=>t=>typeof t=="string"&&t.startsWith(e),u7=c7("--"),$5=c7("var(--"),XW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,JW=(e,t)=>t&&typeof e=="number"?t.transform(e):e,tf=(e,t,n)=>Math.min(Math.max(n,e),t),qh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},e0={...qh,transform:e=>tf(0,1,e)},v1={...qh,default:1},t0=e=>Math.round(e*1e5)/1e5,t2=/(-)?([\d]*\.?[\d])+/g,d7=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ZW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ev(e){return typeof e=="string"}const tv=e=>({test:t=>ev(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ed=tv("deg"),oc=tv("%"),Jt=tv("px"),QW=tv("vh"),eH=tv("vw"),zN={...oc,parse:e=>oc.parse(e)/100,transform:e=>oc.transform(e*100)},UN={...qh,transform:Math.round},f7={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,size:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,rotate:Ed,rotateX:Ed,rotateY:Ed,rotateZ:Ed,scale:v1,scaleX:v1,scaleY:v1,scaleZ:v1,skew:Ed,skewX:Ed,skewY:Ed,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:e0,originX:zN,originY:zN,originZ:Jt,zIndex:UN,fillOpacity:e0,strokeOpacity:e0,numOctaves:UN};function r4(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let c=!1,u=!1,f=!0;for(const h in t){const g=t[h];if(u7(h)){s[h]=g;continue}const m=f7[h],x=JW(g,m);if(Hh.has(h)){if(c=!0,a[h]=x,!f)continue;g!==(m.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,o[h]=x):i[h]=x}if(t.transform||(c||r?i.transform=YW(e.transform,n,f,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:g="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${g} ${m}`}}const i4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h7(e,t,n){for(const r in t)!zi(t[r])&&!l7(r,n)&&(e[r]=t[r])}function tH({transformTemplate:e},t,n){return w.useMemo(()=>{const r=i4();return r4(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function nH(e,t,n){const r=e.style||{},i={};return h7(i,r,e),Object.assign(i,tH(e,t,n)),e.transformValues?e.transformValues(i):i}function rH(e,t,n){const r={},i=nH(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const iH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ey(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iH.has(e)}let p7=e=>!Ey(e);function sH(e){e&&(p7=t=>t.startsWith("on")?!Ey(t):e(t))}try{sH(require("@emotion/is-prop-valid").default)}catch{}function aH(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(p7(i)||n===!0&&Ey(i)||!t&&!Ey(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function WN(e,t,n){return typeof e=="string"?e:Jt.transform(t+n*e)}function oH(e,t,n){const r=WN(t,e.x,e.width),i=WN(n,e.y,e.height);return`${r} ${i}`}const lH={offset:"stroke-dashoffset",array:"stroke-dasharray"},cH={offset:"strokeDashoffset",array:"strokeDasharray"};function uH(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?lH:cH;e[s.offset]=Jt.transform(-r);const a=Jt.transform(t),o=Jt.transform(n);e[s.array]=`${a} ${o}`}function s4(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},f,h,g){if(r4(e,u,f,g),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:x,dimensions:y}=e;m.transform&&(y&&(x.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=oH(y,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&uH(m,a,o,c,!1)}const m7=()=>({...i4(),attrs:{}}),a4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dH(e,t,n,r){const i=w.useMemo(()=>{const s=m7();return s4(s,t,{enableHardwareAcceleration:!1},a4(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};h7(s,e.style,e),i.style={...s,...i.style}}return i}function fH(e=!1){return(n,r,i,{latestValues:s},a)=>{const c=(n4(n)?dH:rH)(r,s,a,n),f={...aH(r,typeof n=="string",e),...c,ref:i},{children:h}=r,g=w.useMemo(()=>zi(h)?h.get():h,[h]);return w.createElement(n,{...f,children:g})}}function g7(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const v7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y7(e,t,n,r){g7(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(v7.has(i)?i:ZS(i),t.attrs[i])}function o4(e,t){const{style:n}=e,r={};for(const i in n)(zi(n[i])||t.style&&zi(t.style[i])||l7(i,e))&&(r[i]=n[i]);return r}function x7(e,t){const n=o4(e,t);for(const r in e)if(zi(e[r])||zi(t[r])){const i=Q0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function l4(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function c4(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const $y=e=>Array.isArray(e),hH=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),pH=e=>$y(e)?e[e.length-1]||0:e;function ny(e){const t=zi(e)?e.get():e;return hH(t)?t.toValue():t}function mH({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const a={latestValues:gH(r,i,s,e),renderState:t()};return n&&(a.mount=o=>n(r,o,a)),a}const b7=e=>(t,n)=>{const r=w.useContext(Yx),i=w.useContext(Xx),s=()=>mH(e,t,r,i);return n?s():c4(s)};function gH(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=ny(s[g]);let{initial:a,animate:o}=e;const c=e2(e),u=a7(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const h=f?o:a;return h&&typeof h!="boolean"&&!Qx(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const x=l4(e,m);if(!x)return;const{transitionEnd:y,transition:S,..._}=x;for(const C in _){let P=_[C];if(Array.isArray(P)){const A=f?P.length-1:0;P=P[A]}P!==null&&(i[C]=P)}for(const C in y)i[C]=y[C]}),i}const ni=e=>e;class HN{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function vH(e){let t=new HN,n=new HN,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(c,u=!1,f=!1)=>{const h=f&&i,g=h?t:n;return u&&a.add(c),g.add(c)&&h&&i&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const f=t.order[u];f(c),a.has(f)&&(o.schedule(f),e())}i=!1,s&&(s=!1,o.process(c))}};return o}const y1=["prepare","read","update","preRender","render","postRender"],yH=40;function xH(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=y1.reduce((h,g)=>(h[g]=vH(()=>n=!0),h),{}),a=h=>s[h].process(i),o=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,yH),1),i.timestamp=h,i.isProcessing=!0,y1.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},c=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:y1.reduce((h,g)=>{const m=s[g];return h[g]=(x,y=!1,S=!1)=>(n||c(),m.schedule(x,y,S)),h},{}),cancel:h=>y1.forEach(g=>s[g].cancel(h)),state:i,steps:s}}const{schedule:sr,cancel:fc,state:Fi,steps:qb}=xH(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0),bH={useVisualState:b7({scrapeMotionValuesFromProps:x7,createRenderState:m7,onMount:(e,t,{renderState:n,latestValues:r})=>{sr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{s4(n,r,{enableHardwareAcceleration:!1},a4(t.tagName),e.transformTemplate),y7(t,n)})}})},wH={useVisualState:b7({scrapeMotionValuesFromProps:o4,createRenderState:i4})};function SH(e,{forwardMotionProps:t=!1},n,r){return{...n4(e)?bH:wH,preloadedFeatures:n,useRender:fH(t),createVisualElement:r,Component:e}}function hu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const w7=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function n2(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _H=e=>t=>w7(t)&&e(t,n2(t));function gu(e,t,n,r){return hu(e,t,_H(n),r)}const CH=(e,t)=>n=>t(e(n)),Wd=(...e)=>e.reduce(CH);function S7(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qN=S7("dragHorizontal"),GN=S7("dragVertical");function _7(e){let t=!1;if(e==="y")t=GN();else if(e==="x")t=qN();else{const n=qN(),r=GN();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function C7(){const e=_7(!0);return e?(e(),!1):!0}class mf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function KN(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||C7())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&sr.update(()=>o[r](s,a))};return gu(e.current,n,i,{passive:!e.getProps()[r]})}class NH extends mf{mount(){this.unmount=Wd(KN(this.node,!0),KN(this.node,!1))}unmount(){}}class jH extends mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wd(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const N7=(e,t)=>t?e===t?!0:N7(e,t.parentElement):!1;function Gb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,n2(n))}class PH extends mf{constructor(){super(...arguments),this.removeStartListeners=ni,this.removeEndListeners=ni,this.removeAccessibleListeners=ni,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=gu(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();sr.update(()=>{!h&&!N7(this.node.current,o.target)?f&&f(o,c):u&&u(o,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=gu(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Wd(s,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gb("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&sr.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=hu(this.node.current,"keyup",a),Gb("down",(o,c)=>{this.startPress(o,c)})},n=hu(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gb("cancel",(s,a)=>this.cancelPress(s,a))},i=hu(this.node.current,"blur",r);this.removeAccessibleListeners=Wd(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!C7()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=gu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=hu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wd(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const R5=new WeakMap,Kb=new WeakMap,AH=e=>{const t=R5.get(e.target);t&&t(e)},kH=e=>{e.forEach(AH)};function EH({root:e,...t}){const n=e||document;Kb.has(n)||Kb.set(n,{});const r=Kb.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(kH,{root:e,...t})),r[i]}function $H(e,t,n){const r=EH(t);return R5.set(e,n),r.observe(e),()=>{R5.delete(e),r.unobserve(e)}}const RH={some:0,all:1};class TH extends mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:RH[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(c)};return $H(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(LH(t,n))&&this.startObserver()}unmount(){}}function LH({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DH={inView:{Feature:TH},tap:{Feature:PH},focus:{Feature:jH},hover:{Feature:NH}};function j7(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function OH(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function IH(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function r2(e,t,n){const r=e.getProps();return l4(r,t,n!==void 0?n:r.custom,OH(e),IH(e))}let u4=ni;const Hd=e=>e*1e3,ll=e=>e/1e3,MH={current:!1},P7=e=>Array.isArray(e)&&typeof e[0]=="number";function A7(e){return!!(!e||typeof e=="string"&&k7[e]||P7(e)||Array.isArray(e)&&e.every(A7))}const Ug=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,k7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ug([0,.65,.55,1]),circOut:Ug([.55,0,1,.45]),backIn:Ug([.31,.01,.66,-.59]),backOut:Ug([.33,1.53,.69,.99])};function E7(e){if(e)return P7(e)?Ug(e):Array.isArray(e)?e.map(E7):k7[e]}function FH(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=E7(o);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function BH(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const $7=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VH=1e-7,zH=12;function UH(e,t,n,r,i){let s,a,o=0;do a=t+(n-t)/2,s=$7(a,r,i)-e,s>0?n=a:t=a;while(Math.abs(s)>VH&&++o<zH);return a}function nv(e,t,n,r){if(e===t&&n===r)return ni;const i=s=>UH(s,0,1,e,n);return s=>s===0||s===1?s:$7(i(s),t,r)}const WH=nv(.42,0,1,1),HH=nv(0,0,.58,1),R7=nv(.42,0,.58,1),T7=e=>Array.isArray(e)&&typeof e[0]!="number",L7=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,D7=e=>t=>1-e(1-t),d4=e=>1-Math.sin(Math.acos(e)),O7=D7(d4),qH=L7(d4),I7=nv(.33,1.53,.69,.99),f4=D7(I7),GH=L7(f4),KH=e=>(e*=2)<1?.5*f4(e):.5*(2-Math.pow(2,-10*(e-1))),YH={linear:ni,easeIn:WH,easeInOut:R7,easeOut:HH,circIn:d4,circInOut:qH,circOut:O7,backIn:f4,backInOut:GH,backOut:I7,anticipate:KH},YN=e=>{if(Array.isArray(e)){u4(e.length===4);const[t,n,r,i]=e;return nv(t,n,r,i)}else if(typeof e=="string")return YH[e];return e},h4=(e,t)=>n=>!!(ev(n)&&ZW.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),M7=(e,t,n)=>r=>{if(!ev(r))return r;const[i,s,a,o]=r.match(t2);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},XH=e=>tf(0,255,e),Yb={...qh,transform:e=>Math.round(XH(e))},yh={test:h4("rgb","red"),parse:M7("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yb.transform(e)+", "+Yb.transform(t)+", "+Yb.transform(n)+", "+t0(e0.transform(r))+")"};function JH(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const T5={test:h4("#"),parse:JH,transform:yh.transform},lm={test:h4("hsl","hue"),parse:M7("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+oc.transform(t0(t))+", "+oc.transform(t0(n))+", "+t0(e0.transform(r))+")"},Os={test:e=>yh.test(e)||T5.test(e)||lm.test(e),parse:e=>yh.test(e)?yh.parse(e):lm.test(e)?lm.parse(e):T5.parse(e),transform:e=>ev(e)?e:e.hasOwnProperty("red")?yh.transform(e):lm.transform(e)},Rr=(e,t,n)=>-n*e+n*t+e;function Xb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZH({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,a=0;if(!t)i=s=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=Xb(c,o,e+1/3),s=Xb(c,o,e),a=Xb(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const Jb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},QH=[T5,yh,lm],eq=e=>QH.find(t=>t.test(e));function XN(e){const t=eq(e);let n=t.parse(e);return t===lm&&(n=ZH(n)),n}const F7=(e,t)=>{const n=XN(e),r=XN(t),i={...n};return s=>(i.red=Jb(n.red,r.red,s),i.green=Jb(n.green,r.green,s),i.blue=Jb(n.blue,r.blue,s),i.alpha=Rr(n.alpha,r.alpha,s),yh.transform(i))};function tq(e){var t,n;return isNaN(e)&&ev(e)&&(((t=e.match(t2))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(d7))===null||n===void 0?void 0:n.length)||0)>0}const B7={regex:XW,countKey:"Vars",token:"${v}",parse:ni},V7={regex:d7,countKey:"Colors",token:"${c}",parse:Os.parse},z7={regex:t2,countKey:"Numbers",token:"${n}",parse:qh.parse};function Zb(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Ry(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zb(n,B7),Zb(n,V7),Zb(n,z7),n}function U7(e){return Ry(e).values}function W7(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Ry(e),s=t.length;return a=>{let o=i;for(let c=0;c<s;c++)c<r?o=o.replace(B7.token,a[c]):c<r+n?o=o.replace(V7.token,Os.transform(a[c])):o=o.replace(z7.token,t0(a[c]));return o}}const nq=e=>typeof e=="number"?0:e;function rq(e){const t=U7(e);return W7(e)(t.map(nq))}const nf={test:tq,parse:U7,createTransformer:W7,getAnimatableNone:rq},H7=(e,t)=>n=>`${n>0?t:e}`;function q7(e,t){return typeof e=="number"?n=>Rr(e,t,n):Os.test(e)?F7(e,t):e.startsWith("var(")?H7(e,t):K7(e,t)}const G7=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,a)=>q7(s,t[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},iq=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=q7(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},K7=(e,t)=>{const n=nf.createTransformer(t),r=Ry(e),i=Ry(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Wd(G7(r.values,i.values),n):H7(e,t)},km=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},JN=(e,t)=>n=>Rr(e,t,n);function sq(e){return typeof e=="number"?JN:typeof e=="string"?Os.test(e)?F7:K7:Array.isArray(e)?G7:typeof e=="object"?iq:JN}function aq(e,t,n){const r=[],i=n||sq(e[0]),s=e.length-1;for(let a=0;a<s;a++){let o=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||ni:t;o=Wd(c,o)}r.push(o)}return r}function Y7(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(u4(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=aq(t,r,i),o=a.length,c=u=>{let f=0;if(o>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=km(e[f],e[f+1],u);return a[f](h)};return n?u=>c(tf(e[0],e[s-1],u)):c}function X7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=km(0,t,r);e.push(Rr(n,1,i))}}function J7(e){const t=[0];return X7(t,e.length-1),t}function oq(e,t){return e.map(n=>n*t)}function lq(e,t){return e.map(()=>t||R7).splice(0,e.length-1)}function Ty({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=T7(r)?r.map(YN):YN(r),s={done:!1,value:t[0]},a=oq(n&&n.length===t.length?n:J7(t),e),o=Y7(a,t,{ease:Array.isArray(i)?i:lq(t,i)});return{calculatedDuration:e,next:c=>(s.value=o(c),s.done=c>=e,s)}}function Z7(e,t){return t?e*(1e3/t):0}const cq=5;function Q7(e,t,n){const r=Math.max(t-cq,0);return Z7(n-e(r),t-r)}const Qb=.001,uq=.01,dq=10,fq=.05,hq=1;function pq({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,a=1-t;a=tf(fq,hq,a),e=tf(uq,dq,ll(e)),a<1?(i=u=>{const f=u*a,h=f*e,g=f-n,m=L5(u,a),x=Math.exp(-h);return Qb-g/m*x},s=u=>{const h=u*a*e,g=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-h),y=L5(Math.pow(u,2),a);return(-i(u)+Qb>0?-1:1)*((g-m)*x)/y}):(i=u=>{const f=Math.exp(-u*e),h=(u-n)*e+1;return-Qb+f*h},s=u=>{const f=Math.exp(-u*e),h=(n-u)*(e*e);return f*h});const o=5/e,c=gq(i,s,o);if(e=Hd(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const mq=12;function gq(e,t,n){let r=n;for(let i=1;i<mq;i++)r=r-e(r)/t(r);return r}function L5(e,t){return e*Math.sqrt(1-t*t)}const vq=["duration","bounce"],yq=["stiffness","damping","mass"];function ZN(e,t){return t.some(n=>e[n]!==void 0)}function xq(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ZN(e,yq)&&ZN(e,vq)){const n=pq(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function p4({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],a={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=xq({...r,velocity:-ll(r.velocity||0)}),m=h||0,x=c/(2*Math.sqrt(o*u)),y=s-i,S=ll(Math.sqrt(o/u)),_=Math.abs(y)<5;n||(n=_?.01:2),t||(t=_?.005:.5);let C;if(x<1){const P=L5(S,x);C=A=>{const R=Math.exp(-x*S*A);return s-R*((m+x*S*y)/P*Math.sin(P*A)+y*Math.cos(P*A))}}else if(x===1)C=P=>s-Math.exp(-S*P)*(y+(m+S*y)*P);else{const P=S*Math.sqrt(x*x-1);C=A=>{const R=Math.exp(-x*S*A),D=Math.min(P*A,300);return s-R*((m+x*S*y)*Math.sinh(D)+P*y*Math.cosh(D))/P}}return{calculatedDuration:g&&f||null,next:P=>{const A=C(P);if(g)a.done=P>=f;else{let R=m;P!==0&&(x<1?R=Q7(C,P,A):R=0);const D=Math.abs(R)<=n,T=Math.abs(s-A)<=t;a.done=D&&T}return a.value=a.done?s:A,a}}}function QN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},m=M=>o!==void 0&&M<o||c!==void 0&&M>c,x=M=>o===void 0?c:c===void 0||Math.abs(o-M)<Math.abs(c-M)?o:c;let y=n*t;const S=h+y,_=a===void 0?S:a(S);_!==S&&(y=_-h);const C=M=>-y*Math.exp(-M/r),P=M=>_+C(M),A=M=>{const U=C(M),ee=P(M);g.done=Math.abs(U)<=u,g.value=g.done?_:ee};let R,D;const T=M=>{m(g.value)&&(R=M,D=p4({keyframes:[g.value,x(g.value)],velocity:Q7(P,M,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:M=>{let U=!1;return!D&&R===void 0&&(U=!0,A(M),T(M)),R!==void 0&&M>R?D.next(M-R):(!U&&A(M),g)}}}const bq=e=>{const t=({timestamp:n})=>e(n);return{start:()=>sr.update(t,!0),stop:()=>fc(t),now:()=>Fi.isProcessing?Fi.timestamp:performance.now()}},D5=2e4;function O5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<D5;)t+=n,r=e.next(t);return t>=D5?1/0:t}const wq={decay:QN,inertia:QN,tween:Ty,keyframes:Ty,spring:p4};function k0({autoplay:e=!0,delay:t=0,driver:n=bq,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:h,...g}){let m=1,x=!1,y,S;const _=()=>{S=new Promise(X=>{y=X})};_();let C;const P=wq[i]||Ty;let A;P!==Ty&&typeof r[0]!="number"&&(A=Y7([0,100],r,{clamp:!1}),r=[0,100]);const R=P({...g,keyframes:r});let D;o==="mirror"&&(D=P({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let T="idle",M=null,U=null,ee=null;R.calculatedDuration===null&&s&&(R.calculatedDuration=O5(R));const{calculatedDuration:F}=R;let O=1/0,H=1/0;F!==null&&(O=F+a,H=O*(s+1)-a);let V=0;const ae=X=>{if(U===null)return;m>0&&(U=Math.min(U,X)),m<0&&(U=Math.min(X-H/m,U)),M!==null?V=M:V=Math.round(X-U)*m;const B=V-t*(m>=0?1:-1),Q=m>=0?B<0:B>H;V=Math.max(B,0),T==="finished"&&M===null&&(V=H);let re=V,ce=R;if(s){const be=Math.min(V,H)/O;let Le=Math.floor(be),$e=be%1;!$e&&be>=1&&($e=1),$e===1&&Le--,Le=Math.min(Le,s+1),!!(Le%2)&&(o==="reverse"?($e=1-$e,a&&($e-=a/O)):o==="mirror"&&(ce=D)),re=tf(0,1,$e)*O}const ue=Q?{done:!1,value:r[0]}:ce.next(re);A&&(ue.value=A(ue.value));let{done:he}=ue;!Q&&F!==null&&(he=m>=0?V>=H:V<=0);const ge=M===null&&(T==="finished"||T==="running"&&he);return h&&h(ue.value),ge&&z(),ue},J=()=>{C&&C.stop(),C=void 0},W=()=>{T="idle",J(),y(),_(),U=ee=null},z=()=>{T="finished",f&&f(),J(),y()},ne=()=>{if(x)return;C||(C=n(ae));const X=C.now();c&&c(),M!==null?U=X-M:(!U||T==="finished")&&(U=X),T==="finished"&&_(),ee=U,M=null,T="running",C.start()};e&&ne();const se={then(X,B){return S.then(X,B)},get time(){return ll(V)},set time(X){X=Hd(X),V=X,M!==null||!C||m===0?M=X:U=C.now()-X/m},get duration(){const X=R.calculatedDuration===null?O5(R):R.calculatedDuration;return ll(X)},get speed(){return m},set speed(X){X===m||!C||(m=X,se.time=ll(V))},get state(){return T},play:ne,pause:()=>{T="paused",M=V},stop:()=>{x=!0,T!=="idle"&&(T="idle",u&&u(),W())},cancel:()=>{ee!==null&&ae(ee),W()},complete:()=>{T="finished"},sample:X=>(U=0,ae(X))};return se}function e9(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sq=e9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_q=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),x1=10,Cq=2e4,Nq=(e,t)=>t.type==="spring"||e==="backgroundColor"||!A7(t.ease);function jq(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Sq()&&_q.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,c,u=!1;const f=()=>{c=new Promise(P=>{o=P})};f();let{keyframes:h,duration:g=300,ease:m,times:x}=i;if(Nq(t,i)){const P=k0({...i,repeat:0,delay:0});let A={done:!1,value:h[0]};const R=[];let D=0;for(;!A.done&&D<Cq;)A=P.sample(D),R.push(A.value),D+=x1;x=void 0,h=R,g=D-x1,m="linear"}const y=FH(e.owner.current,t,h,{...i,duration:g,ease:m,times:x}),S=()=>{u=!1,y.cancel()},_=()=>{u=!0,sr.update(S),o(),f()};return y.onfinish=()=>{u||(e.set(BH(h,i)),r&&r(),_())},{then(P,A){return c.then(P,A)},attachTimeline(P){return y.timeline=P,y.onfinish=null,ni},get time(){return ll(y.currentTime||0)},set time(P){y.currentTime=Hd(P)},get speed(){return y.playbackRate},set speed(P){y.playbackRate=P},get duration(){return ll(g)},play:()=>{a||(y.play(),fc(S))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:P}=y;if(P){const A=k0({...i,autoplay:!1});e.setWithVelocity(A.sample(P-x1).value,A.sample(P).value,x1)}_()},complete:()=>{u||y.finish()},cancel:_}}function Pq({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ni,pause:ni,stop:ni,then:s=>(s(),Promise.resolve()),cancel:ni,complete:ni});return t?k0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Aq={type:"spring",stiffness:500,damping:25,restSpeed:10},kq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Eq={type:"keyframes",duration:.8},$q={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rq=(e,{keyframes:t})=>t.length>2?Eq:Hh.has(e)?e.startsWith("scale")?kq(t[1]):Aq:$q,I5=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nf.test(t)||t==="0")&&!t.startsWith("url(")),Tq=new Set(["brightness","contrast","saturate","opacity"]);function Lq(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(t2)||[];if(!r)return e;const i=n.replace(r,"");let s=Tq.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Dq=/([a-z-]*)\(.*?\)/g,M5={...nf,getAnimatableNone:e=>{const t=e.match(Dq);return t?t.map(Lq).join(" "):e}},Oq={...f7,color:Os,backgroundColor:Os,outlineColor:Os,fill:Os,stroke:Os,borderColor:Os,borderTopColor:Os,borderRightColor:Os,borderBottomColor:Os,borderLeftColor:Os,filter:M5,WebkitFilter:M5},m4=e=>Oq[e];function t9(e,t){let n=m4(e);return n!==M5&&(n=nf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const n9=e=>/^0[^.\s]+$/.test(e);function Iq(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||n9(e)}function Mq(e,t,n,r){const i=I5(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:e.get();let o;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?a:s[u-1]),Iq(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(o=s[u]);if(i&&c.length&&o)for(let u=0;u<c.length;u++){const f=c[u];s[f]=t9(t,o)}return s}function Fq({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function g4(e,t){return e[t]||e.default||e}const Bq={skipAnimations:!1},v4=(e,t,n,r={})=>i=>{const s=g4(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Hd(a);const c=Mq(t,e,n,s),u=c[0],f=c[c.length-1],h=I5(e,u),g=I5(e,f);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:x=>{t.set(x),s.onUpdate&&s.onUpdate(x)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Fq(s)||(m={...m,...Rq(e,m)}),m.duration&&(m.duration=Hd(m.duration)),m.repeatDelay&&(m.repeatDelay=Hd(m.repeatDelay)),!h||!g||MH.current||s.type===!1||Bq.skipAnimations)return Pq(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=jq(t,e,m);if(x)return x}return k0(m)};function Ly(e){return!!(zi(e)&&e.add)}const r9=e=>/^\-?\d*\.?\d+$/.test(e);function y4(e,t){e.indexOf(t)===-1&&e.push(t)}function i2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class x4{constructor(){this.subscriptions=[]}add(t){return y4(this.subscriptions,t),()=>i2(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vq=e=>!isNaN(parseFloat(e));class zq{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=Fi;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,sr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Vq(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new x4);const r=this.events[t].add(n);return t==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Z7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ah(e,t){return new zq(e,t)}const i9=e=>t=>t.test(e),Uq={test:e=>e==="auto",parse:e=>e},s9=[qh,Jt,oc,Ed,eH,QW,Uq],Ng=e=>s9.find(i9(e)),Wq=[...s9,Os,nf],Hq=e=>Wq.find(i9(e));function qq(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ah(n))}function Gq(e,t){const n=r2(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=pH(s[a]);qq(e,a,o)}}function Kq(e,t,n){var r,i;const s=Object.keys(t).filter(o=>!e.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const c=s[o],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),f!=null&&(typeof f=="string"&&(r9(f)||n9(f))?f=parseFloat(f):!Hq(f)&&nf.test(u)&&(f=t9(c,u)),e.addValue(c,Ah(f,{owner:e})),n[c]===void 0&&(n[c]=f),f!==null&&e.setBaseTarget(c,f))}}function Yq(e,t){return t?(t[e]||t.default||t).from:void 0}function Xq(e,t,n){const r={};for(const i in e){const s=Yq(i,t);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function Jq({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Zq(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function b4(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(s=r);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const h in o){const g=e.getValue(h),m=o[h];if(!g||m===void 0||f&&Jq(f,h))continue;const x={delay:n,elapsed:0,...g4(s||{},h)};if(window.HandoffAppearAnimations){const _=e.getProps()[s7];if(_){const C=window.HandoffAppearAnimations(_,h,g,sr);C!==null&&(x.elapsed=C,x.isHandoff=!0)}}let y=!x.isHandoff&&!Zq(g,m);if(x.type==="spring"&&(g.getVelocity()||x.velocity)&&(y=!1),g.animation&&(y=!1),y)continue;g.start(v4(h,g,m,e.shouldReduceMotion&&Hh.has(h)?{type:!1}:x));const S=g.animation;Ly(c)&&(c.add(h),S.then(()=>c.remove(h))),u.push(S)}return a&&Promise.all(u).then(()=>{a&&Gq(e,a)}),u}function F5(e,t,n={}){const r=r2(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(b4(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return Qq(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function Qq(e,t,n=0,r=0,i=1,s){const a=[],o=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(eG).forEach((u,f)=>{u.notify("AnimationStart",t),a.push(F5(u,t,{...s,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function eG(e,t){return e.sortNodePosition(t)}function tG(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>F5(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=F5(e,t,n);else{const i=typeof t=="function"?r2(e,t,n.custom):t;r=Promise.all(b4(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const nG=[...QS].reverse(),rG=QS.length;function iG(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tG(e,n,r)))}function sG(e){let t=iG(e);const n=oG();let r=!0;const i=(c,u)=>{const f=r2(e,u);if(f){const{transition:h,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function s(c){t=c(e)}function a(c,u){const f=e.getProps(),h=e.getVariantContext(!0)||{},g=[],m=new Set;let x={},y=1/0;for(let _=0;_<rG;_++){const C=nG[_],P=n[C],A=f[C]!==void 0?f[C]:h[C],R=P0(A),D=C===u?P.isActive:null;D===!1&&(y=_);let T=A===h[C]&&A!==f[C]&&R;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),P.protectedKeys={...x},!P.isActive&&D===null||!A&&!P.prevProp||Qx(A)||typeof A=="boolean")continue;let U=aG(P.prevProp,A)||C===u&&P.isActive&&!T&&R||_>y&&R,ee=!1;const F=Array.isArray(A)?A:[A];let O=F.reduce(i,{});D===!1&&(O={});const{prevResolvedValues:H={}}=P,V={...H,...O},ae=J=>{U=!0,m.has(J)&&(ee=!0,m.delete(J)),P.needsAnimating[J]=!0};for(const J in V){const W=O[J],z=H[J];if(x.hasOwnProperty(J))continue;let ne=!1;$y(W)&&$y(z)?ne=!j7(W,z):ne=W!==z,ne?W!==void 0?ae(J):m.add(J):W!==void 0&&m.has(J)?ae(J):P.protectedKeys[J]=!0}P.prevProp=A,P.prevResolvedValues=O,P.isActive&&(x={...x,...O}),r&&e.blockInitialAnimation&&(U=!1),U&&(!T||ee)&&g.push(...F.map(J=>({animation:J,options:{type:C,...c}})))}if(m.size){const _={};m.forEach(C=>{const P=e.getBaseTarget(C);P!==void 0&&(_[C]=P)}),g.push({animation:_})}let S=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(g):Promise.resolve()}function o(c,u,f){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const g=a(f,c);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function aG(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!j7(t,e):!1}function eh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oG(){return{animate:eh(!0),whileInView:eh(),whileHover:eh(),whileTap:eh(),whileDrag:eh(),whileFocus:eh(),exit:eh()}}class lG extends mf{constructor(t){super(t),t.animationState||(t.animationState=sG(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Qx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let cG=0;class uG extends mf{constructor(){super(...arguments),this.id=cG++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const dG={animation:{Feature:lG},exit:{Feature:uG}},ej=(e,t)=>Math.abs(e-t);function fG(e,t){const n=ej(e.x,t.x),r=ej(e.y,t.y);return Math.sqrt(n**2+r**2)}class a9{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=tw(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=fG(h.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:x}=h,{timestamp:y}=Fi;this.history.push({...x,timestamp:y});const{onStart:S,onMove:_}=this.handlers;g||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ew(g,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=tw(h.type==="pointercancel"?this.lastMoveEventInfo:ew(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),x&&x(h,S)},!w7(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=n2(t),o=ew(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Fi;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,tw(o,this.history)),this.removeListeners=Wd(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fc(this.updatePoint)}}function ew(e,t){return t?{point:t(e.point)}:e}function tj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tw({point:e},t){return{point:e,delta:tj(e,o9(t)),offset:tj(e,hG(t)),velocity:pG(t,.1)}}function hG(e){return e[0]}function o9(e){return e[e.length-1]}function pG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=o9(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hd(t)));)n--;if(!r)return{x:0,y:0};const s=ll(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ba(e){return e.max-e.min}function B5(e,t=0,n=.01){return Math.abs(e-t)<=n}function nj(e,t,n,r=.5){e.origin=r,e.originPoint=Rr(t.min,t.max,e.origin),e.scale=Ba(n)/Ba(t),(B5(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Rr(n.min,n.max,e.origin)-e.originPoint,(B5(e.translate)||isNaN(e.translate))&&(e.translate=0)}function n0(e,t,n,r){nj(e.x,t.x,n.x,r?r.originX:void 0),nj(e.y,t.y,n.y,r?r.originY:void 0)}function rj(e,t,n){e.min=n.min+t.min,e.max=e.min+Ba(t)}function mG(e,t,n){rj(e.x,t.x,n.x),rj(e.y,t.y,n.y)}function ij(e,t,n){e.min=t.min-n.min,e.max=e.min+Ba(t)}function r0(e,t,n){ij(e.x,t.x,n.x),ij(e.y,t.y,n.y)}function gG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Rr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Rr(n,e,r.max):Math.min(e,n)),e}function sj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vG(e,{top:t,left:n,bottom:r,right:i}){return{x:sj(e.x,n,i),y:sj(e.y,t,r)}}function aj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function yG(e,t){return{x:aj(e.x,t.x),y:aj(e.y,t.y)}}function xG(e,t){let n=.5;const r=Ba(e),i=Ba(t);return i>r?n=km(t.min,t.max-r,e.min):r>i&&(n=km(e.min,e.max-i,t.min)),tf(0,1,n)}function bG(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const V5=.35;function wG(e=V5){return e===!1?e=0:e===!0&&(e=V5),{x:oj(e,"left","right"),y:oj(e,"top","bottom")}}function oj(e,t,n){return{min:lj(e,t),max:lj(e,n)}}function lj(e,t){return typeof e=="number"?e:e[t]||0}const cj=()=>({translate:0,scale:1,origin:0,originPoint:0}),cm=()=>({x:cj(),y:cj()}),uj=()=>({min:0,max:0}),fi=()=>({x:uj(),y:uj()});function co(e){return[e("x"),e("y")]}function l9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function SG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _G(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nw(e){return e===void 0||e===1}function z5({scale:e,scaleX:t,scaleY:n}){return!nw(e)||!nw(t)||!nw(n)}function oh(e){return z5(e)||c9(e)||e.z||e.rotate||e.rotateX||e.rotateY}function c9(e){return dj(e.x)||dj(e.y)}function dj(e){return e&&e!=="0%"}function Dy(e,t,n){const r=e-n,i=t*r;return n+i}function fj(e,t,n,r,i){return i!==void 0&&(e=Dy(e,i,r)),Dy(e,n,r)+t}function U5(e,t=0,n=1,r,i){e.min=fj(e.min,t,n,r,i),e.max=fj(e.max,t,n,r,i)}function u9(e,{x:t,y:n}){U5(e.x,t.translate,t.scale,t.originPoint),U5(e.y,n.translate,n.scale,n.originPoint)}function CG(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&um(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,u9(e,a)),r&&oh(s.latestValues)&&um(e,s.latestValues))}t.x=hj(t.x),t.y=hj(t.y)}function hj(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Td(e,t){e.min=e.min+t,e.max=e.max+t}function pj(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,a=Rr(e.min,e.max,s);U5(e,t[n],t[r],a,t.scale)}const NG=["x","scaleX","originX"],jG=["y","scaleY","originY"];function um(e,t){pj(e.x,t,NG),pj(e.y,t,jG)}function d9(e,t){return l9(_G(e.getBoundingClientRect(),t))}function PG(e,t,n){const r=d9(e,n),{scroll:i}=t;return i&&(Td(r.x,i.offset.x),Td(r.y,i.offset.y)),r}const f9=({current:e})=>e?e.ownerDocument.defaultView:null,AG=new WeakMap;class kG{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(n2(f,"page").point)},s=(f,h)=>{const{drag:g,dragPropagation:m,onDragStart:x}=this.getProps();if(g&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_7(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),co(S=>{let _=this.getAxisMotionValue(S).get()||0;if(oc.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[S];P&&(_=Ba(P)*(parseFloat(_)/100))}}this.originPoint[S]=_}),x&&sr.update(()=>x(f,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=EG(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),y&&y(f,h)},o=(f,h)=>this.stop(f,h),c=()=>co(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new a9(t,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:f9(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&sr.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!b1(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=gG(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&om(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=vG(i.layoutBox,n):this.constraints=!1,this.elastic=wG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&co(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=bG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!om(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=PG(r,i.root,this.visualElement.getTransformPagePoint());let a=yG(i.layout.layoutBox,s);if(n){const o=n(SG(a));this.hasMutatedConstraints=!!o,o&&(a=l9(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=co(f=>{if(!b1(f,n,this.currentDirection))return;let h=c&&c[f]||{};a&&(h={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(v4(t,r,0,n))}stopAnimation(){co(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){co(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){co(n=>{const{drag:r}=this.getProps();if(!b1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(t[n]-Rr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!om(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};co(a=>{const o=this.getAxisMotionValue(a);if(o){const c=o.get();i[a]=xG({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),co(a=>{if(!b1(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Rr(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;AG.set(this.visualElement,this);const t=this.visualElement.current,n=gu(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();om(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=hu(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(co(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=V5,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function b1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EG(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class $G extends mf{constructor(t){super(t),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new kG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const mj=e=>(t,n)=>{e&&sr.update(()=>e(t,n))};class RG extends mf{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(t){this.session=new a9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mj(t),onStart:mj(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&sr.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TG(){const e=w.useContext(Xx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=w.useId();return w.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const ry={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jt.test(e))e=parseFloat(e);else return e;const n=gj(e,t.target.x),r=gj(e,t.target.y);return`${n}% ${r}%`}},LG={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=nf.parse(e);if(i.length>5)return r;const s=nf.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=c;const u=Rr(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class DG extends Re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;qW(OG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ry.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||sr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function h9(e){const[t,n]=TG(),r=w.useContext(t4);return Re.createElement(DG,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(o7),isPresent:t,safeToRemove:n})}const OG={borderRadius:{...jg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jg,borderTopRightRadius:jg,borderBottomLeftRadius:jg,borderBottomRightRadius:jg,boxShadow:LG},p9=["TopLeft","TopRight","BottomLeft","BottomRight"],IG=p9.length,vj=e=>typeof e=="string"?parseFloat(e):e,yj=e=>typeof e=="number"||Jt.test(e);function MG(e,t,n,r,i,s){i?(e.opacity=Rr(0,n.opacity!==void 0?n.opacity:1,FG(r)),e.opacityExit=Rr(t.opacity!==void 0?t.opacity:1,0,BG(r))):s&&(e.opacity=Rr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<IG;a++){const o=`border${p9[a]}Radius`;let c=xj(t,o),u=xj(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yj(c)===yj(u)?(e[o]=Math.max(Rr(vj(c),vj(u),r),0),(oc.test(u)||oc.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Rr(t.rotate||0,n.rotate||0,r))}function xj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FG=m9(0,.5,O7),BG=m9(.5,.95,ni);function m9(e,t,n){return r=>r<e?0:r>t?1:n(km(e,t,r))}function bj(e,t){e.min=t.min,e.max=t.max}function oo(e,t){bj(e.x,t.x),bj(e.y,t.y)}function wj(e,t,n,r,i){return e-=t,e=Dy(e,1/n,r),i!==void 0&&(e=Dy(e,1/i,r)),e}function VG(e,t=0,n=1,r=.5,i,s=e,a=e){if(oc.test(t)&&(t=parseFloat(t),t=Rr(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Rr(s.min,s.max,r);e===s&&(o-=t),e.min=wj(e.min,t,n,o,i),e.max=wj(e.max,t,n,o,i)}function Sj(e,t,[n,r,i],s,a){VG(e,t[n],t[r],t[i],t.scale,s,a)}const zG=["x","scaleX","originX"],UG=["y","scaleY","originY"];function _j(e,t,n,r){Sj(e.x,t,zG,n?n.x:void 0,r?r.x:void 0),Sj(e.y,t,UG,n?n.y:void 0,r?r.y:void 0)}function Cj(e){return e.translate===0&&e.scale===1}function g9(e){return Cj(e.x)&&Cj(e.y)}function WG(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function v9(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Nj(e){return Ba(e.x)/Ba(e.y)}class HG{constructor(){this.members=[]}add(t){y4(this.members,t),t.scheduleRender()}remove(t){if(i2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jj(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const qG=(e,t)=>e.depth-t.depth;class GG{constructor(){this.children=[],this.isDirty=!1}add(t){y4(this.children,t),this.isDirty=!0}remove(t){i2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qG),this.isDirty=!1,this.children.forEach(t)}}function KG(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(fc(r),e(s-t))};return sr.read(r,!0),()=>fc(r)}function YG(e){window.MotionDebug&&window.MotionDebug.record(e)}function y9(e){return e instanceof SVGElement&&e.tagName!=="svg"}function w4(e,t,n){const r=zi(e)?e:Ah(e);return r.start(v4("",r,t,n)),r.animation}const Pj=["","X","Y","Z"],XG={visibility:"hidden"},Aj=1e3;let JG=0;const lh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function x9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=JG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lh.totalNodes=lh.resolvedTargetDeltas=lh.recalculatedProjection=0,this.nodes.forEach(eK),this.nodes.forEach(sK),this.nodes.forEach(aK),this.nodes.forEach(tK),YG(lh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new GG)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new x4),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y9(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KG(g,250),ry.hasAnimatedSinceResize&&(ry.hasAnimatedSinceResize=!1,this.nodes.forEach(Ej))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||dK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=f.getProps(),C=!this.targetLayout||!v9(this.targetLayout,x)||m,P=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,P);const A={...g4(y,"layout"),onPlay:S,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||Ej(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oK),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kj);return}this.isUpdating||this.nodes.forEach(rK),this.isUpdating=!1,this.nodes.forEach(iK),this.nodes.forEach(ZG),this.nodes.forEach(QG),this.clearAllSnapshots();const o=performance.now();Fi.delta=tf(0,1e3/60,o-Fi.timestamp),Fi.timestamp=o,Fi.isProcessing=!0,qb.update.process(Fi),qb.preRender.process(Fi),qb.render.process(Fi),Fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nK),this.sharedNodes.forEach(lK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!g9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&(o||oh(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),fK(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return fi();const o=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Td(o.x,c.offset.x),Td(o.y,c.offset.y)),o}removeElementScroll(a){const o=fi();oo(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){oo(o,a);const{scroll:g}=this.root;g&&(Td(o.x,-g.offset.x),Td(o.y,-g.offset.y))}Td(o.x,f.offset.x),Td(o.y,f.offset.y)}}return o}applyTransform(a,o=!1){const c=fi();oo(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&um(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),oh(f.latestValues)&&um(c,f.latestValues)}return oh(this.latestValues)&&um(c,this.latestValues),c}removeTransform(a){const o=fi();oo(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!oh(u.latestValues))continue;z5(u.latestValues)&&u.updateSnapshot();const f=fi(),h=u.measurePageBox();oo(f,h),_j(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return oh(this.latestValues)&&_j(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Fi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fi(),this.relativeTargetOrigin=fi(),r0(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fi(),this.targetWithTransforms=fi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oo(this.target,this.layout.layoutBox),u9(this.target,this.targetDelta)):oo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fi(),this.relativeTargetOrigin=fi(),r0(this.relativeTargetOrigin,this.target,m.target),oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||z5(this.parent.latestValues)||c9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fi.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;oo(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;CG(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:x}=o;if(!x){this.projectionTransform&&(this.projectionDelta=cm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cm(),this.projectionDeltaWithTransform=cm());const y=this.projectionTransform;n0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=jj(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==g||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),lh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=cm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=fi(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,S=this.getStack(),_=!S||S.members.length<=1,C=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(uK));this.animationProgress=0;let P;this.mixTargetDelta=A=>{const R=A/1e3;$j(h.x,a.x,R),$j(h.y,a.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cK(this.relativeTarget,this.relativeTargetOrigin,g,R),P&&WG(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=fi()),oo(P,this.relativeTarget)),y&&(this.animationValues=f,MG(f,u,this.latestValues,R,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{ry.hasAnimatedSinceResize=!0,this.currentAnimation=w4(0,Aj,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Aj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:f}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&b9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||fi();const h=Ba(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const g=Ba(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}oo(o,c),um(o,f),n0(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new HG),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let f=0;f<Pj.length;f++){const h="rotate"+Pj[f];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const f in u)a.setStaticValue(f,u[f]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XG;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ny(a==null?void 0:a.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ny(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!oh(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=jj(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=g.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in ky){if(g[y]===void 0)continue;const{correct:S,applyTo:_}=ky[y],C=u.transform==="none"?g[y]:S(g[y],h);if(_){const P=_.length;for(let A=0;A<P;A++)u[_[A]]=C}else u[y]=C}return this.options.layoutId&&(u.pointerEvents=h===this?ny(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(kj),this.root.sharedNodes.clear()}}}function ZG(e){e.updateLayout()}function QG(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,a=n.source!==e.layout.source;s==="size"?co(h=>{const g=a?n.measuredBox[h]:n.layoutBox[h],m=Ba(g);g.min=r[h].min,g.max=g.min+m}):b9(s,n.layoutBox,r)&&co(h=>{const g=a?n.measuredBox[h]:n.layoutBox[h],m=Ba(r[h]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=cm();n0(o,r,n.layoutBox);const c=cm();a?n0(c,e.applyTransform(i,!0),n.measuredBox):n0(c,r,n.layoutBox);const u=!g9(o);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:m}=h;if(g&&m){const x=fi();r0(x,n.layoutBox,g.layoutBox);const y=fi();r0(y,r,m.layoutBox),v9(x,y)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eK(e){lh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nK(e){e.clearSnapshot()}function kj(e){e.clearMeasurements()}function rK(e){e.isLayoutDirty=!1}function iK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ej(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sK(e){e.resolveTargetDelta()}function aK(e){e.calcProjection()}function oK(e){e.resetRotation()}function lK(e){e.removeLeadSnapshot()}function $j(e,t,n){e.translate=Rr(t.translate,0,n),e.scale=Rr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Rj(e,t,n,r){e.min=Rr(t.min,n.min,r),e.max=Rr(t.max,n.max,r)}function cK(e,t,n,r){Rj(e.x,t.x,n.x,r),Rj(e.y,t.y,n.y,r)}function uK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dK={duration:.45,ease:[.4,0,.1,1]},Tj=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Lj=Tj("applewebkit/")&&!Tj("chrome/")?Math.round:ni;function Dj(e){e.min=Lj(e.min),e.max=Lj(e.max)}function fK(e){Dj(e.x),Dj(e.y)}function b9(e,t,n){return e==="position"||e==="preserve-aspect"&&!B5(Nj(t),Nj(n),.2)}const hK=x9({attachResizeListener:(e,t)=>hu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rw={current:void 0},w9=x9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rw.current){const e=new hK({});e.mount(window),e.setOptions({layoutScroll:!0}),rw.current=e}return rw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pK={pan:{Feature:RG},drag:{Feature:$G,ProjectionNode:w9,MeasureLayout:h9}},mK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gK(e){const t=mK.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function W5(e,t,n=1){const[r,i]=gK(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const a=s.trim();return r9(a)?parseFloat(a):a}else return $5(i)?W5(i,t,n+1):i}function vK(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!$5(s))return;const a=W5(s,r);a&&i.set(a)});for(const i in t){const s=t[i];if(!$5(s))continue;const a=W5(s,r);a&&(t[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const yK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),S9=e=>yK.has(e),xK=e=>Object.keys(e).some(S9),Oj=e=>e===qh||e===Jt,Ij=(e,t)=>parseFloat(e.split(", ")[t]),Mj=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Ij(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?Ij(s[1],e):0}},bK=new Set(["x","y","z"]),wK=Q0.filter(e=>!bK.has(e));function SK(e){const t=[];return wK.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Em={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Mj(4,13),y:Mj(5,14)};Em.translateX=Em.x;Em.translateY=Em.y;const _K=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Em[u](r,s)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const f=t.getValue(u);f&&f.jump(o[u]),e[u]=Em[u](c,s)}),e},CK=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(S9);let s=[],a=!1;const o=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=n[c],h=Ng(f);const g=t[c];let m;if($y(g)){const x=g.length,y=g[0]===null?1:0;f=g[y],h=Ng(f);for(let S=y;S<x&&g[S]!==null;S++)m?u4(Ng(g[S])===m):m=Ng(g[S])}else m=Ng(g);if(h!==m)if(Oj(h)&&Oj(m)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof g=="string"?t[c]=parseFloat(g):Array.isArray(g)&&m===Jt&&(t[c]=g.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(f===0||g===0)?f===0?u.set(m.transform(f)):t[c]=h.transform(g):(a||(s=SK(e),a=!0),o.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(g))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=_K(t,e,o);return s.length&&s.forEach(([f,h])=>{e.getValue(f).set(h)}),e.render(),Jx&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function NK(e,t,n,r){return xK(t)?CK(e,t,n,r):{target:t,transitionEnd:r}}const jK=(e,t,n,r)=>{const i=vK(e,t,r);return t=i.target,r=i.transitionEnd,NK(e,t,n,r)},H5={current:null},_9={current:!1};function PK(){if(_9.current=!0,!!Jx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>H5.current=e.matches;e.addListener(t),t()}else H5.current=!1}function AK(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(zi(s))e.addValue(i,s),Ly(r)&&r.add(i);else if(zi(a))e.addValue(i,Ah(s,{owner:e})),Ly(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,Ah(o!==void 0?o:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const E0=new WeakMap,C9=Object.keys(A0),kK=C9.length,Fj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],EK=e4.length;class $K{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:o,renderState:c}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=e2(n),this.isVariantNode=a7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const g=f[h];o[h]!==void 0&&zi(g)&&(g.set(o[h],!1),Ly(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,E0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_9.current||PK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E0.delete(this.current),this.projection&&this.projection.unmount(),fc(this.notifyUpdate),fc(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Hh.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let a,o;for(let c=0;c<kK;c++){const u=C9[c],{isEnabled:f,Feature:h,ProjectionNode:g,MeasureLayout:m}=A0[u];g&&(a=g),f(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||h&&om(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Fj.length;r++){const i=Fj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=AK(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<EK;r++){const i=e4[r],s=this.props[i];(P0(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ah(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=l4(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zi(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new x4),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class N9 extends $K{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let a=Xq(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){Kq(this,r,a);const o=jK(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function RK(e){return window.getComputedStyle(e)}class j9 extends N9{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Hh.has(n)){const r=m4(n);return r&&r.default||0}else{const r=RK(t),i=(u7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return d9(t,n)}build(t,n,r,i){r4(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return o4(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){g7(t,n,r,i)}}class P9 extends N9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hh.has(n)){const r=m4(n);return r&&r.default||0}return n=v7.has(n)?n:ZS(n),t.getAttribute(n)}measureInstanceViewportBox(){return fi()}scrapeMotionValuesFromProps(t,n){return x7(t,n)}build(t,n,r,i){s4(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){y7(t,n,r,i)}mount(t){this.isSVGTag=a4(t.tagName),super.mount(t)}}const TK=(e,t)=>n4(e)?new P9(t,{enableHardwareAcceleration:!1}):new j9(t,{enableHardwareAcceleration:!0}),LK={layout:{ProjectionNode:w9,MeasureLayout:h9}},DK={...dG,...DH,...pK,...LK},Bt=WW((e,t)=>SH(e,t,DK,TK));function A9(){const e=w.useRef(!1);return Zx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function OK(){const e=A9(),[t,n]=w.useState(0),r=w.useCallback(()=>{e.current&&n(t+1)},[t]);return[w.useCallback(()=>sr.postRender(r),[r]),t]}class IK extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MK({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:c}=i.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),w.createElement(IK,{isPresent:t,childRef:r,sizeRef:i},w.cloneElement(e,{ref:r}))}const iw=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=c4(FK),c=w.useId(),u=w.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:f=>{o.set(f,!0);for(const h of o.values())if(!h)return;r&&r()},register:f=>(o.set(f,!1),()=>o.delete(f))}),s?void 0:[n]);return w.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[n]),w.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(e=w.createElement(MK,{isPresent:n},e)),w.createElement(Xx.Provider,{value:u},e)};function FK(){return new Map}function BK(e){return w.useEffect(()=>()=>e(),[])}const ch=e=>e.key||"";function VK(e,t){e.forEach(n=>{const r=ch(n);t.set(r,n)})}function zK(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Vi=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=w.useContext(t4).forceRender||OK()[0],c=A9(),u=zK(e);let f=u;const h=w.useRef(new Map).current,g=w.useRef(f),m=w.useRef(new Map).current,x=w.useRef(!0);if(Zx(()=>{x.current=!1,VK(u,m),g.current=f}),BK(()=>{x.current=!0,m.clear(),h.clear()}),x.current)return w.createElement(w.Fragment,null,f.map(C=>w.createElement(iw,{key:ch(C),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},C)));f=[...f];const y=g.current.map(ch),S=u.map(ch),_=y.length;for(let C=0;C<_;C++){const P=y[C];S.indexOf(P)===-1&&!h.has(P)&&h.set(P,void 0)}return a==="wait"&&h.size&&(f=[]),h.forEach((C,P)=>{if(S.indexOf(P)!==-1)return;const A=m.get(P);if(!A)return;const R=y.indexOf(P);let D=C;if(!D){const T=()=>{h.delete(P);const M=Array.from(m.keys()).filter(U=>!S.includes(U));if(M.forEach(U=>m.delete(U)),g.current=u.filter(U=>{const ee=ch(U);return ee===P||M.includes(ee)}),!h.size){if(c.current===!1)return;o(),r&&r()}};D=w.createElement(iw,{key:ch(A),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:s,mode:a},A),h.set(P,D)}f.splice(R,0,D)}),f=f.map(C=>{const P=C.key;return h.has(P)?C:w.createElement(iw,{key:ch(C),isPresent:!0,presenceAffectsLayout:s,mode:a},C)}),w.createElement(w.Fragment,null,h.size?f:f.map(C=>w.cloneElement(C)))};function k9(e){const t=c4(()=>Ah(e)),{isStatic:n}=w.useContext(Kx);if(n){const[,r]=w.useState(e);w.useEffect(()=>t.on("change",r),[])}return t}function UK(e,t={}){const{isStatic:n}=w.useContext(Kx),r=w.useRef(null),i=k9(zi(e)?e.get():e),s=()=>{r.current&&r.current.stop()};return w.useInsertionEffect(()=>i.attach((a,o)=>{if(n)return o(a);if(s(),r.current=k0({keyframes:[i.get(),a],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o}),!Fi.isProcessing){const c=performance.now()-Fi.timestamp;c<30&&(r.current.time=ll(c))}return i.get()},s),[JSON.stringify(t)]),Zx(()=>{if(zi(e))return e.on("change",a=>i.set(parseFloat(a)))},[i]),i}function E9(e,t,n){var r;if(typeof e=="string"){let i=document;n?((r=n[e])!==null&&r!==void 0||(n[e]=i.querySelectorAll(e)),e=n[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}function WK(e,t){let n;const r=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;n!==a&&e(a),n=a};return sr.update(r,!0),()=>fc(r)}const HK=e9(()=>window.ScrollTimeline!==void 0);class $9{constructor(t){this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>{if(HK()&&r.attachTimeline)r.attachTimeline(t);else return r.pause(),WK(i=>{r.time=r.duration*i},t)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function qK(e){return typeof e=="object"&&!Array.isArray(e)}function GK(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=y9(e)?new P9(t,{enableHardwareAcceleration:!1}):new j9(t,{enableHardwareAcceleration:!0});n.mount(e),E0.set(e,n)}function KK(e,t=100){const n=p4({keyframes:[0,t],...e}),r=Math.min(O5(n),D5);return{type:"keyframes",ease:i=>n.next(r*i).value/t,duration:ll(r)}}function Bj(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(i=r.get(t))!==null&&i!==void 0?i:e}const YK=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function XK(e,t){return T7(e)?e[YK(0,e.length,t)]:e}function JK(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(i2(e,i),r--)}}function ZK(e,t,n,r,i,s){JK(e,i,s);for(let a=0;a<t.length;a++)e.push({value:t[a],at:Rr(i,s,r[a]),easing:XK(n,a)})}function QK(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const eY="easeInOut";function tY(e,{defaultTransition:t={},...n}={},r){const i=t.duration||.3,s=new Map,a=new Map,o={},c=new Map;let u=0,f=0,h=0;for(let g=0;g<e.length;g++){const m=e[g];if(typeof m=="string"){c.set(m,f);continue}else if(!Array.isArray(m)){c.set(m.name,Bj(f,m.at,u,c));continue}let[x,y,S={}]=m;S.at!==void 0&&(f=Bj(f,S.at,u,c));let _=0;const C=(P,A,R,D=0,T=0)=>{const M=nY(P),{delay:U=0,times:ee=J7(M),type:F="keyframes",...O}=A;let{ease:H=t.ease||"easeOut",duration:V}=A;const ae=typeof U=="function"?U(D,T):U,J=M.length;if(J<=2&&F==="spring"){let se=100;if(J===2&&sY(M)){const Q=M[1]-M[0];se=Math.abs(Q)}const X={...O};V!==void 0&&(X.duration=Hd(V));const B=KK(X,se);H=B.ease,V=B.duration}V??(V=i);const W=f+ae,z=W+V;ee.length===1&&ee[0]===0&&(ee[1]=1);const ne=ee.length-M.length;ne>0&&X7(ee,ne),M.length===1&&M.unshift(null),ZK(R,M,H,ee,W,z),_=Math.max(ae+V,_),h=Math.max(z,h)};if(zi(x)){const P=Vj(x,a);C(y,S,zj("default",P))}else{const P=E9(x,r,o),A=P.length;for(let R=0;R<A;R++){y=y,S=S;const D=P[R],T=Vj(D,a);for(const M in y)C(y[M],rY(S,M),zj(M,T),R,A)}}u=f,f+=_}return a.forEach((g,m)=>{for(const x in g){const y=g[x];y.sort(QK);const S=[],_=[],C=[];for(let A=0;A<y.length;A++){const{at:R,value:D,easing:T}=y[A];S.push(D),_.push(km(0,h,R)),C.push(T||"easeOut")}_[0]!==0&&(_.unshift(0),S.unshift(S[0]),C.unshift(eY)),_[_.length-1]!==1&&(_.push(1),S.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const P=s.get(m);P.keyframes[x]=S,P.transition[x]={...t,duration:h,ease:C,times:_,...n}}}),s}function Vj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function zj(e,t){return t[e]||(t[e]=[]),t[e]}function nY(e){return Array.isArray(e)?e:[e]}function rY(e,t){return e[t]?{...e,...e[t]}:{...e}}const iY=e=>typeof e=="number",sY=e=>e.every(iY);function R9(e,t,n,r){const i=E9(e),s=i.length,a=[];for(let o=0;o<s;o++){const c=i[o];E0.has(c)||GK(c);const u=E0.get(c),f={...n};typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...b4(u,{...t,transition:f},{}))}return new $9(a)}const aY=e=>Array.isArray(e)&&Array.isArray(e[0]);function oY(e,t,n){const r=[];return tY(e,t,n).forEach(({keyframes:s,transition:a},o)=>{let c;zi(o)?c=w4(o,s.default,a.default):c=R9(o,s,a),r.push(c)}),new $9(r)}const lY=e=>{function t(n,r,i){let s;return aY(n)?s=oY(n,r,e):qK(r)?s=R9(n,r,i):s=w4(n,r,i),s}return t},cY=lY(),$0=qm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=Re.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Qk:"button";return l.jsx(a,{className:Je($0({variant:t,size:n,className:e})),ref:s,...i})});Ue.displayName="Button";function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(null,arguments)}function uY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function T9(...e){return t=>e.forEach(n=>uY(n,t))}function Gh(...e){return w.useCallback(T9(...e),e)}const L9=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(fY);if(s){const a=s.props.children,o=i.map(c=>c===s?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:c);return w.createElement(q5,Tr({},r,{ref:t}),w.isValidElement(a)?w.cloneElement(a,void 0,o):null)}return w.createElement(q5,Tr({},r,{ref:t}),n)});L9.displayName="Slot";const q5=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...hY(r,n.props),ref:t?T9(t,n.ref):n.ref}):w.Children.count(n)>1?w.Children.only(null):null});q5.displayName="SlotClone";const dY=({children:e})=>w.createElement(w.Fragment,null,e);function fY(e){return w.isValidElement(e)&&e.type===dY}function hY(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const pY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rv=pY.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?L9:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(o,Tr({},a,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),G5=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function mY(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const iv=e=>{const{present:t,children:n}=e,r=gY(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Gh(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};iv.displayName="Presence";function gY(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),a=e?"mounted":"unmounted",[o,c]=mY(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=w1(r.current);s.current=o==="mounted"?u:"none"},[o]),G5(()=>{const u=r.current,f=i.current;if(f!==e){const g=s.current,m=w1(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),G5(()=>{if(t){const u=h=>{const m=w1(r.current).includes(h.animationName);h.target===t&&m&&zh.flushSync(()=>c("ANIMATION_END"))},f=h=>{h.target===t&&(s.current=w1(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function w1(e){return(e==null?void 0:e.animationName)||"none"}function vY(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];function u(h){const{scope:g,children:m,...x}=h,y=(g==null?void 0:g[e][c])||o,S=w.useMemo(()=>x,Object.values(x));return w.createElement(y.Provider,{value:S},m)}function f(h,g){const m=(g==null?void 0:g[e][c])||o,x=w.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,yY(i,...t)]}function yY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ph(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const xY=w.createContext(void 0);function bY(e){const t=w.useContext(xY);return e||t||"ltr"}function wY(e,[t,n]){return Math.min(n,Math.max(t,e))}function wh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function SY(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const D9="ScrollArea",[O9,ixe]=vY(D9),[_Y,xo]=O9(D9),CY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=e,[o,c]=w.useState(null),[u,f]=w.useState(null),[h,g]=w.useState(null),[m,x]=w.useState(null),[y,S]=w.useState(null),[_,C]=w.useState(0),[P,A]=w.useState(0),[R,D]=w.useState(!1),[T,M]=w.useState(!1),U=Gh(t,F=>c(F)),ee=bY(i);return w.createElement(_Y,{scope:n,type:r,dir:ee,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:f,content:h,onContentChange:g,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:S,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:A},w.createElement(rv.div,Tr({dir:ee},a,{ref:U,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})))}),NY="ScrollAreaViewport",jY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=xo(NY,n),a=w.useRef(null),o=Gh(t,a,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(rv.div,Tr({"data-radix-scroll-area-viewport":""},i,{ref:o,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),ku="ScrollAreaScrollbar",I9=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=xo(ku,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=e.orientation==="horizontal";return w.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?w.createElement(PY,Tr({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(AY,Tr({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(M9,Tr({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(S4,Tr({},r,{ref:t})):null}),PY=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=xo(ku,e.__scopeScrollArea),[s,a]=w.useState(!1);return w.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(iv,{present:n||s},w.createElement(M9,Tr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),AY=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=xo(ku,e.__scopeScrollArea),s=e.orientation==="horizontal",a=a2(()=>c("SCROLL_END"),100),[o,c]=SY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let h=u[f];const g=()=>{const m=u[f];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[i.viewport,s,c,a]),w.createElement(iv,{present:n||o!=="hidden"},w.createElement(S4,Tr({"data-state":o==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:wh(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:wh(e.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),M9=w.forwardRef((e,t)=>{const n=xo(ku,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,a]=w.useState(!1),o=e.orientation==="horizontal",c=a2(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?u:f)}},10);return $m(n.viewport,c),$m(n.content,c),w.createElement(iv,{present:r||s},w.createElement(S4,Tr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),S4=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=xo(ku,e.__scopeScrollArea),s=w.useRef(null),a=w.useRef(0),[o,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=z9(o.viewport,o.content),f={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function h(g,m){return OY(g,a.current,o,m)}return n==="horizontal"?w.createElement(kY,Tr({},f,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,m=Uj(g,o,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=h(g,i.dir))}})):n==="vertical"?w.createElement(EY,Tr({},f,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,m=Uj(g,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=h(g))}})):null}),kY=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=xo(ku,e.__scopeScrollArea),[a,o]=w.useState(),c=w.useRef(null),u=Gh(t,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),w.createElement(B9,Tr({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s2(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(s.viewport){const g=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),W9(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Oy(a.paddingLeft),paddingEnd:Oy(a.paddingRight)}})}}))}),EY=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=xo(ku,e.__scopeScrollArea),[a,o]=w.useState(),c=w.useRef(null),u=Gh(t,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),w.createElement(B9,Tr({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s2(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(s.viewport){const g=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),W9(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Oy(a.paddingTop),paddingEnd:Oy(a.paddingBottom)}})}}))}),[$Y,F9]=O9(ku),B9=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...g}=e,m=xo(ku,n),[x,y]=w.useState(null),S=Gh(t,U=>y(U)),_=w.useRef(null),C=w.useRef(""),P=m.viewport,A=r.content-r.viewport,R=ph(f),D=ph(c),T=a2(h,10);function M(U){if(_.current){const ee=U.clientX-_.current.left,F=U.clientY-_.current.top;u({x:ee,y:F})}}return w.useEffect(()=>{const U=ee=>{const F=ee.target;(x==null?void 0:x.contains(F))&&R(ee,A)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[P,x,A,R]),w.useEffect(D,[r,D]),$m(x,T),$m(m.content,T),w.createElement($Y,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:ph(s),onThumbPointerUp:ph(a),onThumbPositionChange:D,onThumbPointerDown:ph(o)},w.createElement(rv.div,Tr({},g,{ref:S,style:{position:"absolute",...g.style},onPointerDown:wh(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),_.current=x.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),M(U))}),onPointerMove:wh(e.onPointerMove,M),onPointerUp:wh(e.onPointerUp,U=>{const ee=U.target;ee.hasPointerCapture(U.pointerId)&&ee.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=C.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})))}),K5="ScrollAreaThumb",RY=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=F9(K5,e.__scopeScrollArea);return w.createElement(iv,{present:n||i.hasThumb},w.createElement(TY,Tr({ref:t},r)))}),TY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=xo(K5,n),a=F9(K5,n),{onThumbPositionChange:o}=a,c=Gh(t,h=>a.onThumbChange(h)),u=w.useRef(),f=a2(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=s.viewport;if(h){const g=()=>{if(f(),!u.current){const m=IY(h,o);u.current=m,o()}};return o(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[s.viewport,f,o]),w.createElement(rv.div,Tr({"data-state":a.hasThumb?"visible":"hidden"},i,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:wh(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,y=h.clientY-m.top;a.onThumbPointerDown({x,y})}),onPointerUp:wh(e.onPointerUp,a.onThumbPointerUp)}))}),V9="ScrollAreaCorner",LY=w.forwardRef((e,t)=>{const n=xo(V9,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(DY,Tr({},e,{ref:t})):null}),DY=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=xo(V9,n),[s,a]=w.useState(0),[o,c]=w.useState(0),u=!!(s&&o);return $m(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),$m(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),u?w.createElement(rv.div,Tr({},r,{ref:t,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Oy(e){return e?parseInt(e,10):0}function z9(e,t){const n=e/t;return isNaN(n)?0:n}function s2(e){const t=z9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function OY(e,t,n,r="ltr"){const i=s2(n),s=i/2,a=t||s,o=i-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return U9([c,u],h)(e)}function Uj(e,t,n="ltr"){const r=s2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,o=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=wY(e,c);return U9([0,a],[0,o])(u)}function U9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function W9(e,t){return e>0&&e<t}const IY=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function a2(e,t){const n=ph(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function $m(e,t){const n=ph(t);G5(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const H9=CY,MY=jY,FY=LY,Gm=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(H9,{ref:r,className:Je("relative overflow-hidden",e),...n,children:[l.jsx(MY,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(q9,{}),l.jsx(FY,{})]}));Gm.displayName=H9.displayName;const q9=w.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(I9,{ref:r,orientation:t,className:Je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(RY,{className:"relative flex-1 rounded-full bg-border"})}));q9.displayName=I9.displayName;var sw={exports:{}},aw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function BY(){if(Wj)return aw;Wj=1;var e=H0();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(h,g){var m=g(),x=r({inst:{value:m,getSnapshot:g}}),y=x[0].inst,S=x[1];return s(function(){y.value=m,y.getSnapshot=g,c(y)&&S({inst:y})},[h,m,g]),i(function(){return c(y)&&S({inst:y}),h(function(){c(y)&&S({inst:y})})},[h]),a(m),m}function c(h){var g=h.getSnapshot;h=h.value;try{var m=g();return!n(h,m)}catch{return!0}}function u(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return aw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,aw}var Hj;function VY(){return Hj||(Hj=1,sw.exports=BY()),sw.exports}var zY=VY();function UY(){return zY.useSyncExternalStore(WY,()=>!0,()=>!1)}function WY(){return()=>{}}var _4="Avatar",[HY,sxe]=Ui(_4),[qY,G9]=HY(_4),K9=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=w.useState("idle");return l.jsx(qY,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(jt.span,{...r,ref:t})})});K9.displayName=_4;var Y9="AvatarImage",X9=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,a=G9(Y9,n),o=GY(r,s),c=Fs(u=>{i(u),a.onImageLoadingStatusChange(u)});return mi(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(jt.img,{...s,ref:t,src:r}):null});X9.displayName=Y9;var J9="AvatarFallback",Z9=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=G9(J9,n),[a,o]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(jt.span,{...i,ref:t}):null});Z9.displayName=J9;function qj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function GY(e,{referrerPolicy:t,crossOrigin:n}){const r=UY(),i=w.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=w.useState(()=>qj(s,e));return mi(()=>{o(qj(s,e))},[s,e]),mi(()=>{const c=h=>()=>{o(h)};if(!s)return;const u=c("loaded"),f=c("error");return s.addEventListener("load",u),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,n,t]),a}var Q9=K9,e$=X9,t$=Z9;const Kh=w.forwardRef(({className:e,...t},n)=>l.jsx(Q9,{ref:n,className:Je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Kh.displayName=Q9.displayName;const Yh=w.forwardRef(({className:e,...t},n)=>l.jsx(e$,{ref:n,className:Je("aspect-square h-full w-full",e),...t}));Yh.displayName=e$.displayName;const Xh=w.forwardRef(({className:e,...t},n)=>l.jsx(t$,{ref:n,className:Je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Xh.displayName=t$.displayName;const ct=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ct.displayName="Card";const _t=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Je("flex flex-col space-y-1.5 p-6",e),...t}));_t.displayName="CardHeader";const Ct=w.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:Je("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ct.displayName="CardTitle";const pn=w.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));pn.displayName="CardDescription";const ut=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Je("p-6 pt-0",e),...t}));ut.displayName="CardContent";const n$=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Je("flex items-center p-6 pt-0",e),...t}));n$.displayName="CardFooter";const C4=()=>{const e=w.useContext(Wk);if(!e)throw new Error("useNotifications debe ser usado dentro de un NotificationProvider");return e},KY=()=>{const e=Pu(),{notifications:t,unreadCount:n,updateNotificationStatus:r}=C4(),[i,s]=w.useState(!1),a=f=>{f.is_read||r(f.id,!0),f.link&&e(f.link),s(!1)},o=()=>{s(!1),e("/dashboard/notifications")},c=f=>{const h=new Date,g=new Date(f),m=Math.floor((h-g)/(1e3*60));return m<1?"Ahora":m<60?`${m}m`:m<1440?`${Math.floor(m/60)}h`:`${Math.floor(m/1440)}d`},u=f=>{var g;switch((g=f.metadata)==null?void 0:g.icon){case"gavel":return l.jsx(jm,{className:"w-4 h-4 text-gray-400"});case"megaphone":return l.jsx(w0,{className:"w-4 h-4 text-orange-500"});case"trophy":return l.jsx(S0,{className:"w-4 h-4 text-yellow-500"});case"circle_slash":return l.jsx(b0,{className:"w-4 h-4 text-red-500"});case"check_circle":return l.jsx(vn,{className:"w-4 h-4 text-green-500"});case"clock":return l.jsx(si,{className:"w-4 h-4 text-blue-500"});case"dollar_sign":return l.jsx(Au,{className:"w-4 h-4 text-yellow-500"});case"package":return l.jsx(Ix,{className:"w-4 h-4 text-gray-500"})}switch(f.type){case"payment_required":return l.jsx(Ni,{className:"w-4 h-4 text-yellow-500"});case"document_missing":return l.jsx(Ni,{className:"w-4 h-4 text-red-500"});case"inspection_status_update":return l.jsx(vn,{className:"w-4 h-4 text-green-500"});case"new_inspection":return l.jsx(sc,{className:"w-4 h-4 text-blue-500"});case"vin_check_completed":return l.jsx(_V,{className:"w-4 h-4 text-green-500"});case"vin_check_failed":return l.jsx(SV,{className:"w-4 h-4 text-red-500"});case"vin_check_processing":return l.jsx(si,{className:"w-4 h-4 text-blue-500"});case"new_vin_check":return l.jsx(sc,{className:"w-4 h-4 text-cyan-500"});case"new_auction_bid":return l.jsx(jm,{className:"w-4 h-4 text-gray-400"});case"outbid":return l.jsx(w0,{className:"w-4 h-4 text-orange-500"});case"auction_won":return l.jsx(S0,{className:"w-4 h-4 text-yellow-500"});case"auction_lost":return l.jsx(b0,{className:"w-4 h-4 text-red-500"});case"auction_status_update":return l.jsx(sc,{className:"w-4 h-4 text-blue-500"});default:return l.jsx(uc,{className:"w-4 h-4 text-muted-foreground"})}};return l.jsxs("div",{className:"relative",children:[l.jsxs(Ue,{variant:"ghost",size:"icon",className:"relative",onClick:()=>s(!i),children:[l.jsx(uc,{className:"h-5 w-5 text-foreground"}),n>0&&l.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-red-500 text-white text-xs items-center justify-center font-medium",children:n>9?"9+":n})]})]}),l.jsx(Vi,{children:i&&l.jsx(Bt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-12 z-50 w-80",children:l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsx(_t,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ct,{className:"text-lg",children:"Notificaciones"}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>s(!1),children:l.jsx(yo,{className:"h-4 w-4"})})]})}),l.jsxs(ut,{className:"p-0",children:[t.length===0?l.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No tienes notificaciones"}):l.jsx("div",{className:"max-h-80 overflow-y-auto",children:t.slice(0,5).map(f=>{const h=ey(f.type);return l.jsx("div",{className:"p-4 border-b ...",onClick:()=>a(f),children:l.jsxs("div",{className:"flex items-start space-x-3",children:[u(f),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-secondary text-secondary-foreground",children:h}),!f.is_read&&l.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-primary text-primary-foreground",children:"Nuevo"})]}),l.jsx("p",{className:`text-sm ${f.is_read?"text-muted-foreground":"text-foreground"}`,children:Cy(f)}),l.jsxs("div",{className:"flex items-center mt-1.5 space-x-2",children:[l.jsx(si,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:c(f.created_at)})]})]})]})},f.id)})}),l.jsx("div",{className:"p-2 border-t border-border",children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"w-full text-primary",onClick:o,children:"Ver todas las notificaciones"})})]})]})})})]})},iy="/assets/OPULENT-BRONZE-BMbkoXF_.png";var ow="focusScope.autoFocusOnMount",lw="focusScope.autoFocusOnUnmount",Gj={bubbles:!1,cancelable:!0},YY="FocusScope",sv=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=w.useState(null),u=Fs(i),f=Fs(s),h=w.useRef(null),g=tn(t,y=>c(y)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(P){if(m.paused||!o)return;const A=P.target;o.contains(A)?h.current=A:$d(h.current,{select:!0})},S=function(P){if(m.paused||!o)return;const A=P.relatedTarget;A!==null&&(o.contains(A)||$d(h.current,{select:!0}))},_=function(P){if(document.activeElement===document.body)for(const R of P)R.removedNodes.length>0&&$d(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const C=new MutationObserver(_);return o&&C.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),C.disconnect()}}},[r,o,m.paused]),w.useEffect(()=>{if(o){Yj.add(m);const y=document.activeElement;if(!o.contains(y)){const _=new CustomEvent(ow,Gj);o.addEventListener(ow,u),o.dispatchEvent(_),_.defaultPrevented||(XY(tX(r$(o)),{select:!0}),document.activeElement===y&&$d(o))}return()=>{o.removeEventListener(ow,u),setTimeout(()=>{const _=new CustomEvent(lw,Gj);o.addEventListener(lw,f),o.dispatchEvent(_),_.defaultPrevented||$d(y??document.body,{select:!0}),o.removeEventListener(lw,f),Yj.remove(m)},0)}}},[o,u,f,m]);const x=w.useCallback(y=>{if(!n&&!r||m.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(S&&_){const C=y.currentTarget,[P,A]=JY(C);P&&A?!y.shiftKey&&_===A?(y.preventDefault(),n&&$d(P,{select:!0})):y.shiftKey&&_===P&&(y.preventDefault(),n&&$d(A,{select:!0})):_===C&&y.preventDefault()}},[n,r,m.paused]);return l.jsx(jt.div,{tabIndex:-1,...a,ref:g,onKeyDown:x})});sv.displayName=YY;function XY(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($d(r,{select:t}),document.activeElement!==n)return}function JY(e){const t=r$(e),n=Kj(t,e),r=Kj(t.reverse(),e);return[n,r]}function r$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kj(e,t){for(const n of e)if(!ZY(n,{upTo:t}))return n}function ZY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QY(e){return e instanceof HTMLInputElement&&"select"in e}function $d(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QY(e)&&t&&e.select()}}var Yj=eX();function eX(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xj(e,t),e.unshift(t)},remove(t){var n;e=Xj(e,t),(n=e[0])==null||n.resume()}}}function Xj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tX(e){return e.filter(t=>t.tagName!=="A")}var cw=0;function o2(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jj()),document.body.insertAdjacentElement("beforeend",e[1]??Jj()),cw++,()=>{cw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cw--}},[])}function Jj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zl=function(){return Zl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zl.apply(this,arguments)};function i$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nX(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var sy="right-scroll-bar-position",ay="width-before-scroll-bar",rX="with-scroll-bars-hidden",iX="--removed-body-scroll-bar-size";function uw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sX(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var aX=typeof window<"u"?w.useLayoutEffect:w.useEffect,Zj=new WeakMap;function oX(e,t){var n=sX(null,function(r){return e.forEach(function(i){return uw(i,r)})});return aX(function(){var r=Zj.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||uw(o,null)}),s.forEach(function(o){i.has(o)||uw(o,a)})}Zj.set(n,e)},[e]),n}function lX(e){return e}function cX(e,t){t===void 0&&(t=lX);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return i}function uX(e){e===void 0&&(e={});var t=cX(null);return t.options=Zl({async:!0,ssr:!1},e),t}var s$=function(e){var t=e.sideCar,n=i$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Zl({},n))};s$.isSideCarExport=!0;function dX(e,t){return e.useMedium(t),s$}var a$=uX(),dw=function(){},l2=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:dw,onWheelCapture:dw,onTouchMoveCapture:dw}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,m=e.noRelative,x=e.noIsolation,y=e.inert,S=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,P=e.gapMode,A=i$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,D=oX([n,t]),T=Zl(Zl({},A),i);return w.createElement(w.Fragment,null,f&&w.createElement(R,{sideCar:a$,removeScrollBar:u,shards:h,noRelative:m,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:P}),a?w.cloneElement(w.Children.only(o),Zl(Zl({},T),{ref:D})):w.createElement(C,Zl({},T,{className:c,ref:D}),o))});l2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};l2.classNames={fullWidth:ay,zeroRight:sy};var fX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fX();return t&&e.setAttribute("nonce",t),e}function pX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gX=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hX())&&(pX(t,n),mX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vX=function(){var e=gX();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},o$=function(){var e=vX(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},yX={left:0,top:0,right:0,gap:0},fw=function(e){return parseInt(e||"",10)||0},xX=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[fw(n),fw(r),fw(i)]},bX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yX;var t=xX(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wX=o$(),mm="data-scroll-locked",SX=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(rX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(mm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sy,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ay,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(sy," .").concat(sy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ay," .").concat(ay,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mm,`] {
    `).concat(iX,": ").concat(o,`px;
  }
`)},Qj=function(){var e=parseInt(document.body.getAttribute(mm)||"0",10);return isFinite(e)?e:0},_X=function(){w.useEffect(function(){return document.body.setAttribute(mm,(Qj()+1).toString()),function(){var e=Qj()-1;e<=0?document.body.removeAttribute(mm):document.body.setAttribute(mm,e.toString())}},[])},CX=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;_X();var s=w.useMemo(function(){return bX(i)},[i]);return w.createElement(wX,{styles:SX(s,!t,i,n?"":"!important")})},Y5=!1;if(typeof window<"u")try{var S1=Object.defineProperty({},"passive",{get:function(){return Y5=!0,!0}});window.addEventListener("test",S1,S1),window.removeEventListener("test",S1,S1)}catch{Y5=!1}var Rp=Y5?{passive:!1}:!1,NX=function(e){return e.tagName==="TEXTAREA"},l$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NX(e)&&n[t]==="visible")},jX=function(e){return l$(e,"overflowY")},PX=function(e){return l$(e,"overflowX")},e6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=c$(e,r);if(i){var s=u$(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AX=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kX=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},c$=function(e,t){return e==="v"?jX(t):PX(t)},u$=function(e,t){return e==="v"?AX(t):kX(t)},EX=function(e,t){return e==="h"&&t==="rtl"?-1:1},$X=function(e,t,n,r,i){var s=EX(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,f=a>0,h=0,g=0;do{if(!o)break;var m=u$(e,o),x=m[0],y=m[1],S=m[2],_=y-S-s*x;(x||_)&&c$(e,o)&&(h+=_,g+=x);var C=o.parentNode;o=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(f&&Math.abs(h)<1||!f&&Math.abs(g)<1)&&(u=!0),u},_1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t6=function(e){return[e.deltaX,e.deltaY]},n6=function(e){return e&&"current"in e?e.current:e},RX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LX=0,Tp=[];function DX(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(LX++)[0],s=w.useState(o$)[0],a=w.useRef(e);w.useEffect(function(){a.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=nX([e.lockRef.current],(e.shards||[]).map(n6),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var _=_1(y),C=n.current,P="deltaX"in y?y.deltaX:C[0]-_[0],A="deltaY"in y?y.deltaY:C[1]-_[1],R,D=y.target,T=Math.abs(P)>Math.abs(A)?"h":"v";if("touches"in y&&T==="h"&&D.type==="range")return!1;var M=e6(T,D);if(!M)return!0;if(M?R=T:(R=T==="v"?"h":"v",M=e6(T,D)),!M)return!1;if(!r.current&&"changedTouches"in y&&(P||A)&&(r.current=R),!R)return!0;var U=r.current||R;return $X(U,S,y,U==="h"?P:A)},[]),c=w.useCallback(function(y){var S=y;if(!(!Tp.length||Tp[Tp.length-1]!==s)){var _="deltaY"in S?t6(S):_1(S),C=t.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&RX(R.delta,_)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var P=(a.current.shards||[]).map(n6).filter(Boolean).filter(function(R){return R.contains(S.target)}),A=P.length>0?o(S,P[0]):!a.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),u=w.useCallback(function(y,S,_,C){var P={name:y,delta:S,target:_,should:C,shadowParent:OX(_)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(A){return A!==P})},1)},[]),f=w.useCallback(function(y){n.current=_1(y),r.current=void 0},[]),h=w.useCallback(function(y){u(y.type,t6(y),y.target,o(y,e.lockRef.current))},[]),g=w.useCallback(function(y){u(y.type,_1(y),y.target,o(y,e.lockRef.current))},[]);w.useEffect(function(){return Tp.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Rp),document.addEventListener("touchmove",c,Rp),document.addEventListener("touchstart",f,Rp),function(){Tp=Tp.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Rp),document.removeEventListener("touchmove",c,Rp),document.removeEventListener("touchstart",f,Rp)}},[]);var m=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(s,{styles:TX(i)}):null,m?w.createElement(CX,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IX=dX(a$,DX);var av=w.forwardRef(function(e,t){return w.createElement(l2,Zl({},e,{ref:t,sideCar:IX}))});av.classNames=l2.classNames;var MX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lp=new WeakMap,C1=new WeakMap,N1={},hw=0,d$=function(e){return e&&(e.host||d$(e.parentNode))},FX=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=d$(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BX=function(e,t,n,r){var i=FX(t,Array.isArray(e)?e:[e]);N1[n]||(N1[n]=new WeakMap);var s=N1[n],a=[],o=new Set,c=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(o.has(g))f(g);else try{var m=g.getAttribute(r),x=m!==null&&m!=="false",y=(Lp.get(g)||0)+1,S=(s.get(g)||0)+1;Lp.set(g,y),s.set(g,S),a.push(g),y===1&&x&&C1.set(g,!0),S===1&&g.setAttribute(n,"true"),x||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return f(t),o.clear(),hw++,function(){a.forEach(function(h){var g=Lp.get(h)-1,m=s.get(h)-1;Lp.set(h,g),s.set(h,m),g||(C1.has(h)||h.removeAttribute(r),C1.delete(h)),m||h.removeAttribute(n)}),hw--,hw||(Lp=new WeakMap,Lp=new WeakMap,C1=new WeakMap,N1={})}},c2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=MX(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),BX(r,i,n,"aria-hidden")):function(){return null}},u2="Dialog",[f$,h$]=Ui(u2),[VX,gl]=f$(u2),p$=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=w.useRef(null),c=w.useRef(null),[u,f]=go({prop:r,defaultProp:i??!1,onChange:s,caller:u2});return l.jsx(VX,{scope:t,triggerRef:o,contentRef:c,contentId:ol(),titleId:ol(),descriptionId:ol(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:a,children:n})};p$.displayName=u2;var m$="DialogTrigger",g$=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gl(m$,n),s=tn(t,i.triggerRef);return l.jsx(jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":P4(i.open),...r,ref:s,onClick:rt(e.onClick,i.onOpenToggle)})});g$.displayName=m$;var N4="DialogPortal",[zX,v$]=f$(N4,{forceMount:void 0}),y$=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=gl(N4,t);return l.jsx(zX,{scope:t,forceMount:n,children:w.Children.map(r,a=>l.jsx(Vs,{present:n||s.open,children:l.jsx(Hm,{asChild:!0,container:i,children:a})}))})};y$.displayName=N4;var Iy="DialogOverlay",x$=w.forwardRef((e,t)=>{const n=v$(Iy,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=gl(Iy,e.__scopeDialog);return s.modal?l.jsx(Vs,{present:r||s.open,children:l.jsx(WX,{...i,ref:t})}):null});x$.displayName=Iy;var UX=Zd("DialogOverlay.RemoveScroll"),WX=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gl(Iy,n);return l.jsx(av,{as:UX,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(jt.div,{"data-state":P4(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),kh="DialogContent",b$=w.forwardRef((e,t)=>{const n=v$(kh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=gl(kh,e.__scopeDialog);return l.jsx(Vs,{present:r||s.open,children:s.modal?l.jsx(HX,{...i,ref:t}):l.jsx(qX,{...i,ref:t})})});b$.displayName=kh;var HX=w.forwardRef((e,t)=>{const n=gl(kh,e.__scopeDialog),r=w.useRef(null),i=tn(t,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return c2(s)},[]),l.jsx(w$,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,s=>s.preventDefault())})}),qX=w.forwardRef((e,t)=>{const n=gl(kh,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return l.jsx(w$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),w$=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=gl(kh,n),c=w.useRef(null),u=tn(t,c);return o2(),l.jsxs(l.Fragment,{children:[l.jsx(sv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Wh,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":P4(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(KX,{titleId:o.titleId}),l.jsx(XX,{contentRef:c,descriptionId:o.descriptionId})]})]})}),j4="DialogTitle",S$=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gl(j4,n);return l.jsx(jt.h2,{id:i.titleId,...r,ref:t})});S$.displayName=j4;var _$="DialogDescription",C$=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gl(_$,n);return l.jsx(jt.p,{id:i.descriptionId,...r,ref:t})});C$.displayName=_$;var N$="DialogClose",j$=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gl(N$,n);return l.jsx(jt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>i.onOpenChange(!1))})});j$.displayName=N$;function P4(e){return e?"open":"closed"}var P$="DialogTitleWarning",[GX,A$]=pz(P$,{contentName:kh,titleName:j4,docsSlug:"dialog"}),KX=({titleId:e})=>{const t=A$(P$),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},YX="DialogDescriptionWarning",XX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A$(YX).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},A4=p$,k4=g$,E4=y$,ov=x$,lv=b$,cv=S$,uv=C$,dv=j$;const JX=A4,ZX=k4,QX=E4,k$=w.forwardRef(({className:e,...t},n)=>l.jsx(ov,{className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));k$.displayName=ov.displayName;const eJ=qm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),E$=w.forwardRef(({side:e="right",className:t,children:n,...r},i)=>l.jsxs(QX,{children:[l.jsx(k$,{}),l.jsxs(lv,{ref:i,className:Je(eJ({side:e}),t),...r,children:[l.jsxs(dv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(yo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));E$.displayName=lv.displayName;const tJ=w.forwardRef(({className:e,...t},n)=>l.jsx(cv,{ref:n,className:Je("text-lg font-semibold text-foreground",e),...t}));tJ.displayName=cv.displayName;const nJ=w.forwardRef(({className:e,...t},n)=>l.jsx(uv,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));nJ.displayName=uv.displayName;const rJ=[{title:"Inicio",href:"/dashboard",icon:Dk},{title:"Inspecciones Vehiculares",href:"/dashboard/inspections",icon:mo},{title:"Verificación VIN",href:"/dashboard/vin-check",icon:Fk},{title:"Subastas",href:"/dashboard/auction",icon:yN},{title:"Legalizaciones",href:"/dashboard/legalization",icon:Rk},{title:"Poder de Compra",href:"/dashboard/power-buying",icon:yN},{title:"Gestión de Depósitos",href:"/dashboard/deposits",icon:kk},{title:"Verificación de Usuario",href:"/dashboard/verification",icon:_0},{title:"Centro de Mensajes",href:"/dashboard/chat",icon:Ox},{title:"Notificaciones",href:"/dashboard/notifications",icon:uc},{title:"Mi Perfil",href:"/dashboard/profile",icon:_0}],r6=({isCollapsed:e})=>{const t=ju();return l.jsx("nav",{className:"flex flex-col gap-1 px-2",children:rJ.map(n=>l.jsxs(bs,{to:n.href,className:Je("flex items-center rounded-lg px-3 py-2 text-sm font-medium transition-all hover:bg-accent hover:text-accent-foreground",t.pathname===n.href?"bg-accent text-accent-foreground":"text-muted-foreground",e&&"justify-center"),children:[l.jsx(n.icon,{className:Je("h-5 w-5",!e&&"mr-3")}),l.jsx(Vi,{children:!e&&l.jsx(Bt.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},className:"whitespace-nowrap",children:n.title})})]},n.href))})},iJ=()=>{const e=qn.useSupabaseClient(),t=ju(),n=Pu(),{toast:r}=Pn(),{user:i,userProfile:s}=Pi(),[a,o]=w.useState(!0),c=w.useRef(null),u=()=>{c.current&&clearTimeout(c.current),o(!1)},f=()=>{c.current=setTimeout(()=>{o(!0)},300)},h=async()=>{r({title:"Cerrando sesión..."});const{error:g}=await e.auth.signOut();n("/login",{replace:!0}),g?(r({variant:"destructive",title:"Hubo un error",description:"No se pudo cerrar la sesión en el servidor, pero te hemos redirigido."}),console.error("Error during logout:",g)):r({title:"Sesión cerrada",description:"Has cerrado sesión exitosamente."})};return l.jsxs("div",{className:"flex min-h-screen w-full flex-col bg-muted/40",children:[l.jsxs(Bt.aside,{onMouseEnter:u,onMouseLeave:f,className:"hidden md:fixed md:inset-y-0 md:z-50 md:flex md:flex-col border-r border-border/20 bg-background/80 backdrop-blur-xl",initial:!1,animate:{width:a?80:240},transition:{duration:.3,ease:"easeInOut"},children:[l.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-border/20 px-4",children:[l.jsx(bs,{to:"/dashboard",className:"flex items-center gap-2 font-semibold",children:!a&&l.jsx("img",{src:iy,alt:"Logo",className:"h-10"})}),l.jsx("div",{className:"h-9 w-9 flex items-center justify-center",children:a?l.jsx(xV,{className:"h-5 w-5 text-muted-foreground"}):l.jsx(bN,{className:"h-5 w-5 text-muted-foreground"})})]}),l.jsx(Gm,{className:"flex-1 py-4",children:l.jsx(r6,{isCollapsed:a})}),l.jsx("div",{className:"mt-auto border-t border-border/20 p-4",children:l.jsx(Ue,{variant:"ghost",className:"w-full",onClick:h,children:l.jsxs("div",{className:Je("flex items-center",a&&"justify-center w-full"),children:[l.jsx(x5,{className:Je("h-5 w-5",!a&&"mr-3")}),!a&&l.jsx("span",{className:"whitespace-nowrap",children:"Cerrar Sesión"})]})})})]}),l.jsxs("div",{className:Je("flex flex-col sm:gap-4 sm:py-4",a?"md:pl-[80px]":"md:pl-[240px]","transition-all duration-300 ease-in-out"),children:[l.jsxs("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 md:justify-end",children:[l.jsxs(JX,{children:[l.jsx(ZX,{asChild:!0,children:l.jsxs(Ue,{size:"icon",variant:"outline",className:"md:hidden",children:[l.jsx(bN,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Toggle Menu"})]})}),l.jsxs(E$,{side:"left",className:"p-0 w-64 bg-background/80 backdrop-blur-xl border-r-border/20",children:[l.jsx("div",{className:"flex h-16 items-center border-b border-border/20 px-4",children:l.jsx(bs,{to:"/dashboard",className:"flex items-center gap-2 font-semibold",children:l.jsx("img",{src:iy,alt:"Logo",className:"h-10"})})}),l.jsx(r6,{isCollapsed:!1})]})]}),l.jsx(bs,{to:"/dashboard",className:"flex items-center md:hidden",children:l.jsx("img",{src:iy,alt:"Opulent Logo",className:"h-10"})}),l.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[l.jsx(KY,{}),l.jsxs(Kh,{className:"h-8 w-8",children:[l.jsx(Yh,{src:s==null?void 0:s.avatar_url,alt:(s==null?void 0:s.full_name)||"Usuario"}),l.jsx(Xh,{children:s!=null&&s.full_name?s.full_name.charAt(0).toUpperCase():"U"})]}),l.jsx(Ue,{variant:"ghost",size:"icon",onClick:h,className:"md:hidden",children:l.jsx(x5,{className:"h-5 w-5 text-muted-foreground hover:text-foreground"})})]})]}),l.jsx("main",{className:"flex-1 p-4 sm:px-6 sm:py-0 md:gap-8",children:l.jsx(Vi,{mode:"wait",children:l.jsx(Bt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:l.jsx(jk,{})},t.pathname)})})]})]})},sJ=e=>{if(!e)return"";const t=e.metadata||{};let n=e.message;if(e.type==="new_auction_bid"&&t.lot_number){const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.amount||0);n=`Nueva puja de ${t.user_name||"un usuario"} por ${r} en el lote #${t.lot_number}.`}return n},aJ=({notification:e})=>{var r;const t=(r=e.metadata)==null?void 0:r.icon,n={gavel:{Cmp:jm,color:"text-gray-500"},megaphone:{Cmp:w0,color:"text-orange-500"},trophy:{Cmp:S0,color:"text-yellow-500"},circle_slash:{Cmp:b0,color:"text-red-600"},check_circle:{Cmp:vn,color:"text-green-500"},clock:{Cmp:si,color:"text-blue-500"},dollar_sign:{Cmp:Au,color:"text-yellow-600"},package:{Cmp:Ix,color:"text-gray-600"},alert:{Cmp:Ni,color:"text-red-500"},info:{Cmp:sc,color:"text-blue-400"},x_circle:{Cmp:Qi,color:"text-red-500"}};if(t&&n[t]){const{Cmp:i,color:s}=n[t];return l.jsx(i,{className:`w-5 h-5 ${s}`})}return l.jsx(uc,{className:"w-5 h-5 text-muted-foreground"})},oJ=()=>{const e=Pu(),t=qn.useSupabaseClient(),{toast:n}=Pn(),[r,i]=w.useState([]),[s,a]=w.useState(0),[o,c]=w.useState(!1),[u,f]=w.useState(!0),h=w.useCallback(async()=>{f(!0);const{data:x,error:y,count:S}=await t.from("notifications").select("*",{count:"exact"}).eq("is_read",!1).or("target_role.eq.admin").order("created_at",{ascending:!1});y?console.error("Error widget:",y):(i(x||[]),a(S||0)),f(!1)},[t]);w.useEffect(()=>{h();const x=t.channel("admin-notifications-widget").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},y=>{h()}).subscribe();return()=>{t.removeChannel(x)}},[h,t]);const g=async x=>{c(!1);const{error:y}=await t.from("notifications").update({is_read:!0}).eq("id",x.id);y&&n({title:"Error",description:"No se pudo marcar como leída.",variant:"destructive"}),x.link?e(x.link):e("/admin/notifications")},m=x=>{const y=Math.floor((new Date-new Date(x))/6e4);return y<1?"Ahora":y<60?`${y}m`:y<1440?`${Math.floor(y/60)}h`:`${Math.floor(y/1440)}d`};return l.jsxs("div",{className:"relative",children:[l.jsxs(Ue,{variant:"ghost",size:"icon",className:"relative",onClick:()=>c(!o),children:[l.jsx(uc,{className:"h-5 w-5"}),s>0&&l.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-red-500 text-white text-xs items-center justify-center",children:s>9?"9+":s})]})]}),l.jsx(Vi,{children:o&&l.jsx(Bt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 top-12 z-50 w-80",children:l.jsxs(ct,{className:"shadow-lg",children:[l.jsx(_t,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ct,{className:"text-lg",children:"Notificaciones"}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(!1),children:l.jsx(yo,{className:"h-4 w-4"})})]})}),l.jsxs(ut,{className:"p-0",children:[u?l.jsx("div",{className:"p-4 h-24 flex items-center justify-center",children:l.jsx(jn,{className:"w-5 h-5 animate-spin"})}):r.length===0?l.jsx("div",{className:"p-4 h-24 flex items-center justify-center text-center text-muted-foreground",children:"No tienes notificaciones nuevas."}):l.jsx("div",{className:"max-h-80 overflow-y-auto",children:r.slice(0,5).map(x=>l.jsx("div",{className:"p-3 border-b hover:bg-muted/50 cursor-pointer",onClick:()=>g(x),children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"mt-1",children:l.jsx(aJ,{notification:x})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium",children:sJ(x)}),l.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[l.jsx(si,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:m(x.created_at)})]})]})]})},x.id))}),l.jsx("div",{className:"p-2 border-t",children:l.jsx(Ue,{variant:"ghost",size:"sm",className:"w-full text-primary",onClick:()=>{c(!1),e("/admin/notifications")},children:"Ver todas las notificaciones"})})]})]})})})]})},lJ=()=>{const e=ju(),{userRole:t}=Pi(),{unreadMessageCount:n}=C4(),i=t?[{title:"Panel General",href:"/admin",icon:Dk,roles:["admin","support","validation","finance"]},{title:"Solicitudes",href:"/admin/requests",icon:Tk,roles:["admin","support","validation"]},{title:"Inspecciones",href:"/admin/inspections",icon:lV,roles:["admin","support","validation"]},{title:"VIN Checks",href:"/admin/vin-requests",icon:Fk,roles:["admin","support"]},{title:"Pujas de Subasta",href:"/admin/auction-bids",icon:jm,roles:["admin","finance","support"]},{title:"Legalizaciones",href:"/admin/legalizations",icon:y5,roles:["admin","validation"]},{title:"Compras de Poder",href:"/admin/power-buying",icon:Au,roles:["admin","finance"]},{title:"KYC",href:"/admin/users",icon:C0,roles:["admin"]},{title:"Depositos",href:"/admin/deposits",icon:C0,roles:["admin","finance"]},{title:"Documentos",href:"/admin/documents",icon:y5,roles:["admin","validation"]},{title:"Chat",href:"/admin/chat",icon:Ox,roles:["admin","support"],notificationCount:n},{title:"Notificaciones",href:"/admin/notifications",icon:uc,roles:["admin","support","validation","finance"]}].filter(s=>s.roles.includes(t)):[];return l.jsx("nav",{className:"flex flex-col space-y-2 p-4",children:i.map(s=>l.jsxs(bs,{to:s.href,className:Je("flex items-center justify-between rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",e.pathname.startsWith(s.href)&&(e.pathname===s.href||s.href!=="/admin")?"bg-accent text-accent-foreground":"text-muted-foreground"),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(s.icon,{className:"mr-2 h-4 w-4"}),s.title]}),s.notificationCount>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:s.notificationCount})]},s.href))})},cJ=()=>{var s;const e=Pu(),{toast:t}=Pn(),{signOut:n,userProfile:r}=vo(),i=async()=>{t({title:"Cerrando sesión..."});const{error:a}=await n();a?t({variant:"destructive",title:"Error al cerrar sesión",description:a.message}):(e("/login",{replace:!0}),t({title:"Sesión cerrada",description:"Has cerrado sesión exitosamente."}))};return l.jsx(Zk,{children:l.jsxs("div",{className:"flex h-screen max-h-screen bg-background",children:[l.jsx("aside",{className:"hidden md:block w-64 flex-shrink-0 border-r",children:l.jsx(Gm,{className:"h-full",children:l.jsx(lJ,{})})}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx("header",{className:"flex-shrink-0 border-b",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx(bs,{to:"/admin",className:"flex items-center space-x-2",children:l.jsx("span",{className:"font-bold text-foreground",children:"Opulent Auto - Admin"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oJ,{}),l.jsxs(Kh,{className:"h-8 w-8",children:[l.jsx(Yh,{src:r==null?void 0:r.avatar_url,alt:(r==null?void 0:r.full_name)||"Admin"}),l.jsx(Xh,{children:((s=r==null?void 0:r.full_name)==null?void 0:s.charAt(0))||"A"})]}),l.jsx(Ue,{variant:"ghost",size:"icon",onClick:i,children:l.jsx(x5,{className:"h-5 w-5 text-muted-foreground hover:text-foreground"})})]})]})}),l.jsx("main",{className:"flex-1 relative overflow-y-auto p-6",children:l.jsx(Vi,{mode:"wait",children:l.jsx(Bt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:l.jsx(jk,{})},ju().pathname)})})]})]})})},Ot=w.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ot.displayName="Input";var uJ="Label",$$=w.forwardRef((e,t)=>l.jsx(jt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$$.displayName=uJ;var R$=$$;const dJ=qm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=w.forwardRef(({className:e,...t},n)=>l.jsx(R$,{ref:n,className:Je(dJ(),e),...t}));ht.displayName=R$.displayName;const fJ=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),{toast:a}=Pn(),o=Pu(),{signIn:c}=vo(),u=async f=>{f.preventDefault(),s(!0);const{error:h}=await c(e,n);s(!1),h?a({variant:"destructive",title:"Error de inicio de sesión",description:h.message||"Email o contraseña incorrectos."}):(a({title:"Inicio de Sesión Exitoso",description:"¡Bienvenido de vuelta!"}),o("/"))};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-background via-secondary to-background p-4",children:l.jsxs(Bt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md p-8 space-y-6 bg-card rounded-lg shadow-xl border border-border",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:iy,alt:"Logo de Opulent Auto Gallery",className:"w-9/5 max-w-xs mx-auto mb-7"}),l.jsx("p",{className:"text-muted-foreground"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"email",children:"Correo Electrónico"}),l.jsx(Ot,{id:"email",type:"email",placeholder:"tu@email.com",value:e,onChange:f=>t(f.target.value),required:!0,className:"mt-1",disabled:i})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"password",children:"Contraseña"}),l.jsx(Ot,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:f=>r(f.target.value),required:!0,className:"mt-1",disabled:i})]}),l.jsxs(Ue,{type:"submit",className:"w-full !mt-6 bg-primary hover:bg-primary/90 text-primary-foreground",disabled:i,children:[i&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Iniciando sesión...":"Iniciar Sesión"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"¿No tienes cuenta?"}),l.jsx(Ue,{variant:"outline",className:"w-full",asChild:!0,disabled:i,children:l.jsxs(bs,{to:"/register",children:[l.jsx(DS,{className:"w-4 h-4 mr-2"}),"Crear Cuenta Nueva"]})})]}),l.jsx("div",{className:"text-center text-xs text-muted-foreground mt-6",children:l.jsx("p",{children:"Olvidaste tu contraseña? Envia un correo a soporte@opulentautogallery.com"})})]})})};var fv=e=>e.type==="checkbox",xh=e=>e instanceof Date,Is=e=>e==null;const T$=e=>typeof e=="object";var ai=e=>!Is(e)&&!Array.isArray(e)&&T$(e)&&!xh(e),L$=e=>ai(e)&&e.target?fv(e.target)?e.target.checked:e.target.value:e,hJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,D$=(e,t)=>e.has(hJ(t)),pJ=e=>{const t=e.constructor&&e.constructor.prototype;return ai(t)&&t.hasOwnProperty("isPrototypeOf")},$4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _i(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($4&&(e instanceof Blob||r))&&(n||ai(e)))if(t=n?[]:{},!n&&!pJ(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=_i(e[i]));else return e;return t}var d2=e=>/^\w*$/.test(e),Zr=e=>e===void 0,R4=e=>Array.isArray(e)?e.filter(Boolean):[],T4=e=>R4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(e,t,n)=>{if(!t||!ai(e))return n;const r=(d2(t)?[t]:T4(t)).reduce((i,s)=>Is(i)?i:i[s],e);return Zr(r)||r===e?Zr(e[t])?n:e[t]:r},Da=e=>typeof e=="boolean",Qn=(e,t,n)=>{let r=-1;const i=d2(t)?[t]:T4(t),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let c=n;if(r!==a){const u=e[o];c=ai(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const My={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L4=Re.createContext(null);L4.displayName="HookFormContext";const hv=()=>Re.useContext(L4),O$=e=>{const{children:t,...n}=e;return Re.createElement(L4.Provider,{value:n},t)};var I$=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==rl.all&&(t._proxyFormState[a]=!r||rl.all),n&&(n[a]=!0),e[a]}});return i};const D4=typeof window<"u"?w.useLayoutEffect:w.useEffect;function mJ(e){const t=hv(),{control:n=t.control,disabled:r,name:i,exact:s}=e||{},[a,o]=Re.useState(n._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return D4(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!r&&o({...n._formState,...u})}}),[i,r,s]),Re.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Re.useMemo(()=>I$(a,n,c.current,!1),[a,n])}var nc=e=>typeof e=="string",M$=(e,t,n,r,i)=>nc(e)?(r&&t.watch.add(e),pt(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),pt(n,s))):(r&&(t.watchAll=!0),n);function gJ(e){const t=hv(),{control:n=t.control,name:r,defaultValue:i,disabled:s,exact:a}=e||{},o=Re.useRef(i),[c,u]=Re.useState(n._getWatch(r,o.current));return D4(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:f=>!s&&u(M$(r,n._names,f.values||n._formValues,!1,o.current))}),[r,n,s,a]),Re.useEffect(()=>n._removeUnmounted()),c}function vJ(e){const t=hv(),{name:n,disabled:r,control:i=t.control,shouldUnregister:s}=e,a=D$(i._names.array,n),o=gJ({control:i,name:n,defaultValue:pt(i._formValues,n,pt(i._defaultValues,n,e.defaultValue)),exact:!0}),c=mJ({control:i,name:n,exact:!0}),u=Re.useRef(e),f=Re.useRef(i.register(n,{...e.rules,value:o,...Da(e.disabled)?{disabled:e.disabled}:{}})),h=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!pt(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!pt(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!pt(c.validatingFields,n)},error:{enumerable:!0,get:()=>pt(c.errors,n)}}),[c,n]),g=Re.useCallback(S=>f.current.onChange({target:{value:L$(S),name:n},type:My.CHANGE}),[n]),m=Re.useCallback(()=>f.current.onBlur({target:{value:pt(i._formValues,n),name:n},type:My.BLUR}),[n,i._formValues]),x=Re.useCallback(S=>{const _=pt(i._fields,n);_&&S&&(_._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:C=>S.setCustomValidity(C),reportValidity:()=>S.reportValidity()})},[i._fields,n]),y=Re.useMemo(()=>({name:n,value:o,...Da(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:g,onBlur:m,ref:x}),[n,r,c.disabled,g,m,x,o]);return Re.useEffect(()=>{const S=i._options.shouldUnregister||s;i.register(n,{...u.current.rules,...Da(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(C,P)=>{const A=pt(i._fields,C);A&&A._f&&(A._f.mount=P)};if(_(n,!0),S){const C=_i(pt(i._options.defaultValues,n));Qn(i._defaultValues,n,C),Zr(pt(i._formValues,n))&&Qn(i._formValues,n,C)}return!a&&i.register(n),()=>{(a?S&&!i._state.action:S)?i.unregister(n):_(n,!1)}},[n,i,a,s]),Re.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Re.useMemo(()=>({field:y,formState:c,fieldState:h}),[y,c,h])}const fo=e=>e.render(vJ(e));var F$=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},i0=e=>Array.isArray(e)?e:[e],i6=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},X5=e=>Is(e)||!T$(e);function Od(e,t,n=new WeakSet){if(X5(e)||X5(t))return e===t;if(xh(e)&&xh(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(xh(a)&&xh(o)||ai(a)&&ai(o)||Array.isArray(a)&&Array.isArray(o)?!Od(a,o,n):a!==o)return!1}}return!0}var oa=e=>ai(e)&&!Object.keys(e).length,O4=e=>e.type==="file",il=e=>typeof e=="function",Fy=e=>{if(!$4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},B$=e=>e.type==="select-multiple",I4=e=>e.type==="radio",yJ=e=>I4(e)||fv(e),pw=e=>Fy(e)&&e.isConnected;function xJ(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Zr(e)?r++:e[t[r++]];return e}function bJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zr(e[t]))return!1;return!0}function di(e,t){const n=Array.isArray(t)?t:d2(t)?[t]:T4(t),r=n.length===1?e:xJ(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ai(r)&&oa(r)||Array.isArray(r)&&bJ(r))&&di(e,n.slice(0,-1)),e}var V$=e=>{for(const t in e)if(il(e[t]))return!0;return!1};function By(e,t={}){const n=Array.isArray(e);if(ai(e)||n)for(const r in e)Array.isArray(e[r])||ai(e[r])&&!V$(e[r])?(t[r]=Array.isArray(e[r])?[]:{},By(e[r],t[r])):Is(e[r])||(t[r]=!0);return t}function z$(e,t,n){const r=Array.isArray(e);if(ai(e)||r)for(const i in e)Array.isArray(e[i])||ai(e[i])&&!V$(e[i])?Zr(t)||X5(n[i])?n[i]=Array.isArray(e[i])?By(e[i],[]):{...By(e[i])}:z$(e[i],Is(t)?{}:t[i],n[i]):n[i]=!Od(e[i],t[i]);return n}var Pg=(e,t)=>z$(e,t,By(t));const s6={value:!1,isValid:!1},a6={value:!0,isValid:!0};var U$=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zr(e[0].attributes.value)?Zr(e[0].value)||e[0].value===""?a6:{value:e[0].value,isValid:!0}:a6:s6}return s6},W$=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Zr(e)?e:t?e===""?NaN:e&&+e:n&&nc(e)?new Date(e):r?r(e):e;const o6={isValid:!1,value:null};var H$=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,o6):o6;function l6(e){const t=e.ref;return O4(t)?t.files:I4(t)?H$(e.refs).value:B$(t)?[...t.selectedOptions].map(({value:n})=>n):fv(t)?U$(e.refs).value:W$(Zr(t.value)?e.ref.value:t.value,e)}var wJ=(e,t,n,r)=>{const i={};for(const s of e){const a=pt(t,s);a&&Qn(i,s,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Vy=e=>e instanceof RegExp,Ag=e=>Zr(e)?e:Vy(e)?e.source:ai(e)?Vy(e.value)?e.value.source:e.value:e,c6=e=>({isOnSubmit:!e||e===rl.onSubmit,isOnBlur:e===rl.onBlur,isOnChange:e===rl.onChange,isOnAll:e===rl.all,isOnTouch:e===rl.onTouched});const u6="AsyncFunction";var SJ=e=>!!e&&!!e.validate&&!!(il(e.validate)&&e.validate.constructor.name===u6||ai(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===u6)),_J=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),d6=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const s0=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=pt(e,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(s0(o,t))break}else if(ai(o)&&s0(o,t))break}}};function f6(e,t,n){const r=pt(e,n);if(r||d2(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=pt(t,s),o=pt(e,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var CJ=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return oa(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!r||rl.all))},NJ=(e,t,n)=>!e||!t||e===t||i0(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),jJ=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,PJ=(e,t)=>!R4(pt(e,t)).length&&di(e,t),AJ=(e,t,n)=>{const r=i0(pt(e,n));return Qn(r,"root",t[n]),Qn(e,n,r),e},oy=e=>nc(e);function h6(e,t,n="validate"){if(oy(e)||Array.isArray(e)&&e.every(oy)||Da(e)&&!e)return{type:n,message:oy(e)?e:"",ref:t}}var Dp=e=>ai(e)&&!Vy(e)?e:{value:e,message:""},p6=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:f,min:h,max:g,pattern:m,validate:x,name:y,valueAsNumber:S,mount:_}=e._f,C=pt(n,y);if(!_||t.has(y))return{};const P=o?o[0]:a,A=O=>{i&&P.reportValidity&&(P.setCustomValidity(Da(O)?"":O||""),P.reportValidity())},R={},D=I4(a),T=fv(a),M=D||T,U=(S||O4(a))&&Zr(a.value)&&Zr(C)||Fy(a)&&a.value===""||C===""||Array.isArray(C)&&!C.length,ee=F$.bind(null,y,r,R),F=(O,H,V,ae=eu.maxLength,J=eu.minLength)=>{const W=O?H:V;R[y]={type:O?ae:J,message:W,ref:a,...ee(O?ae:J,W)}};if(s?!Array.isArray(C)||!C.length:c&&(!M&&(U||Is(C))||Da(C)&&!C||T&&!U$(o).isValid||D&&!H$(o).isValid)){const{value:O,message:H}=oy(c)?{value:!!c,message:c}:Dp(c);if(O&&(R[y]={type:eu.required,message:H,ref:P,...ee(eu.required,H)},!r))return A(H),R}if(!U&&(!Is(h)||!Is(g))){let O,H;const V=Dp(g),ae=Dp(h);if(!Is(C)&&!isNaN(C)){const J=a.valueAsNumber||C&&+C;Is(V.value)||(O=J>V.value),Is(ae.value)||(H=J<ae.value)}else{const J=a.valueAsDate||new Date(C),W=se=>new Date(new Date().toDateString()+" "+se),z=a.type=="time",ne=a.type=="week";nc(V.value)&&C&&(O=z?W(C)>W(V.value):ne?C>V.value:J>new Date(V.value)),nc(ae.value)&&C&&(H=z?W(C)<W(ae.value):ne?C<ae.value:J<new Date(ae.value))}if((O||H)&&(F(!!O,V.message,ae.message,eu.max,eu.min),!r))return A(R[y].message),R}if((u||f)&&!U&&(nc(C)||s&&Array.isArray(C))){const O=Dp(u),H=Dp(f),V=!Is(O.value)&&C.length>+O.value,ae=!Is(H.value)&&C.length<+H.value;if((V||ae)&&(F(V,O.message,H.message),!r))return A(R[y].message),R}if(m&&!U&&nc(C)){const{value:O,message:H}=Dp(m);if(Vy(O)&&!C.match(O)&&(R[y]={type:eu.pattern,message:H,ref:a,...ee(eu.pattern,H)},!r))return A(H),R}if(x){if(il(x)){const O=await x(C,n),H=h6(O,P);if(H&&(R[y]={...H,...ee(eu.validate,H.message)},!r))return A(H.message),R}else if(ai(x)){let O={};for(const H in x){if(!oa(O)&&!r)break;const V=h6(await x[H](C,n),P,H);V&&(O={...V,...ee(H,V.message)},A(V.message),r&&(R[y]=O))}if(!oa(O)&&(R[y]={ref:P,...O},!r))return R}}return A(!0),R};const kJ={mode:rl.onSubmit,reValidateMode:rl.onChange,shouldFocusError:!0};function EJ(e={}){let t={...kJ,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:il(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=ai(t.defaultValues)||ai(t.values)?_i(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:_i(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const g={array:i6(),state:i6()},m=t.criteriaMode===rl.all,x=oe=>me=>{clearTimeout(u),u=setTimeout(oe,me)},y=async oe=>{if(!t.disabled&&(f.isValid||h.isValid||oe)){const me=t.resolver?oa((await T()).errors):await U(r,!0);me!==n.isValid&&g.state.next({isValid:me})}},S=(oe,me)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((oe||Array.from(o.mount)).forEach(_e=>{_e&&(me?Qn(n.validatingFields,_e,me):di(n.validatingFields,_e))}),g.state.next({validatingFields:n.validatingFields,isValidating:!oa(n.validatingFields)}))},_=(oe,me=[],_e,Be,We=!0,Ie=!0)=>{if(Be&&_e&&!t.disabled){if(a.action=!0,Ie&&Array.isArray(pt(r,oe))){const et=_e(pt(r,oe),Be.argA,Be.argB);We&&Qn(r,oe,et)}if(Ie&&Array.isArray(pt(n.errors,oe))){const et=_e(pt(n.errors,oe),Be.argA,Be.argB);We&&Qn(n.errors,oe,et),PJ(n.errors,oe)}if((f.touchedFields||h.touchedFields)&&Ie&&Array.isArray(pt(n.touchedFields,oe))){const et=_e(pt(n.touchedFields,oe),Be.argA,Be.argB);We&&Qn(n.touchedFields,oe,et)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Pg(i,s)),g.state.next({name:oe,isDirty:F(oe,me),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Qn(s,oe,me)},C=(oe,me)=>{Qn(n.errors,oe,me),g.state.next({errors:n.errors})},P=oe=>{n.errors=oe,g.state.next({errors:n.errors,isValid:!1})},A=(oe,me,_e,Be)=>{const We=pt(r,oe);if(We){const Ie=pt(s,oe,Zr(_e)?pt(i,oe):_e);Zr(Ie)||Be&&Be.defaultChecked||me?Qn(s,oe,me?Ie:l6(We._f)):V(oe,Ie),a.mount&&y()}},R=(oe,me,_e,Be,We)=>{let Ie=!1,et=!1;const St={name:oe};if(!t.disabled){if(!_e||Be){(f.isDirty||h.isDirty)&&(et=n.isDirty,n.isDirty=St.isDirty=F(),Ie=et!==St.isDirty);const $t=Od(pt(i,oe),me);et=!!pt(n.dirtyFields,oe),$t?di(n.dirtyFields,oe):Qn(n.dirtyFields,oe,!0),St.dirtyFields=n.dirtyFields,Ie=Ie||(f.dirtyFields||h.dirtyFields)&&et!==!$t}if(_e){const $t=pt(n.touchedFields,oe);$t||(Qn(n.touchedFields,oe,_e),St.touchedFields=n.touchedFields,Ie=Ie||(f.touchedFields||h.touchedFields)&&$t!==_e)}Ie&&We&&g.state.next(St)}return Ie?St:{}},D=(oe,me,_e,Be)=>{const We=pt(n.errors,oe),Ie=(f.isValid||h.isValid)&&Da(me)&&n.isValid!==me;if(t.delayError&&_e?(c=x(()=>C(oe,_e)),c(t.delayError)):(clearTimeout(u),c=null,_e?Qn(n.errors,oe,_e):di(n.errors,oe)),(_e?!Od(We,_e):We)||!oa(Be)||Ie){const et={...Be,...Ie&&Da(me)?{isValid:me}:{},errors:n.errors,name:oe};n={...n,...et},g.state.next(et)}},T=async oe=>{S(oe,!0);const me=await t.resolver(s,t.context,wJ(oe||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(oe),me},M=async oe=>{const{errors:me}=await T(oe);if(oe)for(const _e of oe){const Be=pt(me,_e);Be?Qn(n.errors,_e,Be):di(n.errors,_e)}else n.errors=me;return me},U=async(oe,me,_e={valid:!0})=>{for(const Be in oe){const We=oe[Be];if(We){const{_f:Ie,...et}=We;if(Ie){const St=o.array.has(Ie.name),$t=We._f&&SJ(We._f);$t&&f.validatingFields&&S([Be],!0);const Pt=await p6(We,o.disabled,s,m,t.shouldUseNativeValidation&&!me,St);if($t&&f.validatingFields&&S([Be]),Pt[Ie.name]&&(_e.valid=!1,me))break;!me&&(pt(Pt,Ie.name)?St?AJ(n.errors,Pt,Ie.name):Qn(n.errors,Ie.name,Pt[Ie.name]):di(n.errors,Ie.name))}!oa(et)&&await U(et,me,_e)}}return _e.valid},ee=()=>{for(const oe of o.unMount){const me=pt(r,oe);me&&(me._f.refs?me._f.refs.every(_e=>!pw(_e)):!pw(me._f.ref))&&he(oe)}o.unMount=new Set},F=(oe,me)=>!t.disabled&&(oe&&me&&Qn(s,oe,me),!Od(se(),i)),O=(oe,me,_e)=>M$(oe,o,{...a.mount?s:Zr(me)?i:nc(oe)?{[oe]:me}:me},_e,me),H=oe=>R4(pt(a.mount?s:i,oe,t.shouldUnregister?pt(i,oe,[]):[])),V=(oe,me,_e={})=>{const Be=pt(r,oe);let We=me;if(Be){const Ie=Be._f;Ie&&(!Ie.disabled&&Qn(s,oe,W$(me,Ie)),We=Fy(Ie.ref)&&Is(me)?"":me,B$(Ie.ref)?[...Ie.ref.options].forEach(et=>et.selected=We.includes(et.value)):Ie.refs?fv(Ie.ref)?Ie.refs.forEach(et=>{(!et.defaultChecked||!et.disabled)&&(Array.isArray(We)?et.checked=!!We.find(St=>St===et.value):et.checked=We===et.value||!!We)}):Ie.refs.forEach(et=>et.checked=et.value===We):O4(Ie.ref)?Ie.ref.value="":(Ie.ref.value=We,Ie.ref.type||g.state.next({name:oe,values:_i(s)})))}(_e.shouldDirty||_e.shouldTouch)&&R(oe,We,_e.shouldTouch,_e.shouldDirty,!0),_e.shouldValidate&&ne(oe)},ae=(oe,me,_e)=>{for(const Be in me){if(!me.hasOwnProperty(Be))return;const We=me[Be],Ie=oe+"."+Be,et=pt(r,Ie);(o.array.has(oe)||ai(We)||et&&!et._f)&&!xh(We)?ae(Ie,We,_e):V(Ie,We,_e)}},J=(oe,me,_e={})=>{const Be=pt(r,oe),We=o.array.has(oe),Ie=_i(me);Qn(s,oe,Ie),We?(g.array.next({name:oe,values:_i(s)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&_e.shouldDirty&&g.state.next({name:oe,dirtyFields:Pg(i,s),isDirty:F(oe,Ie)})):Be&&!Be._f&&!Is(Ie)?ae(oe,Ie,_e):V(oe,Ie,_e),d6(oe,o)&&g.state.next({...n}),g.state.next({name:a.mount?oe:void 0,values:_i(s)})},W=async oe=>{a.mount=!0;const me=oe.target;let _e=me.name,Be=!0;const We=pt(r,_e),Ie=$t=>{Be=Number.isNaN($t)||xh($t)&&isNaN($t.getTime())||Od($t,pt(s,_e,$t))},et=c6(t.mode),St=c6(t.reValidateMode);if(We){let $t,Pt;const qt=me.type?l6(We._f):L$(oe),st=oe.type===My.BLUR||oe.type===My.FOCUS_OUT,Ir=!_J(We._f)&&!t.resolver&&!pt(n.errors,_e)&&!We._f.deps||jJ(st,pt(n.touchedFields,_e),n.isSubmitted,St,et),fn=d6(_e,o,st);Qn(s,_e,qt),st?(We._f.onBlur&&We._f.onBlur(oe),c&&c(0)):We._f.onChange&&We._f.onChange(oe);const oi=R(_e,qt,st),Wt=!oa(oi)||fn;if(!st&&g.state.next({name:_e,type:oe.type,values:_i(s)}),Ir)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?st&&y():st||y()),Wt&&g.state.next({name:_e,...fn?{}:oi});if(!st&&fn&&g.state.next({...n}),t.resolver){const{errors:rn}=await T([_e]);if(Ie(qt),Be){const Rn=f6(n.errors,r,_e),Gt=f6(rn,r,Rn.name||_e);$t=Gt.error,_e=Gt.name,Pt=oa(rn)}}else S([_e],!0),$t=(await p6(We,o.disabled,s,m,t.shouldUseNativeValidation))[_e],S([_e]),Ie(qt),Be&&($t?Pt=!1:(f.isValid||h.isValid)&&(Pt=await U(r,!0)));Be&&(We._f.deps&&ne(We._f.deps),D(_e,Pt,$t,oi))}},z=(oe,me)=>{if(pt(n.errors,me)&&oe.focus)return oe.focus(),1},ne=async(oe,me={})=>{let _e,Be;const We=i0(oe);if(t.resolver){const Ie=await M(Zr(oe)?oe:We);_e=oa(Ie),Be=oe?!We.some(et=>pt(Ie,et)):_e}else oe?(Be=(await Promise.all(We.map(async Ie=>{const et=pt(r,Ie);return await U(et&&et._f?{[Ie]:et}:et)}))).every(Boolean),!(!Be&&!n.isValid)&&y()):Be=_e=await U(r);return g.state.next({...!nc(oe)||(f.isValid||h.isValid)&&_e!==n.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:_e}:{},errors:n.errors}),me.shouldFocus&&!Be&&s0(r,z,oe?We:o.mount),Be},se=oe=>{const me={...a.mount?s:i};return Zr(oe)?me:nc(oe)?pt(me,oe):oe.map(_e=>pt(me,_e))},X=(oe,me)=>({invalid:!!pt((me||n).errors,oe),isDirty:!!pt((me||n).dirtyFields,oe),error:pt((me||n).errors,oe),isValidating:!!pt(n.validatingFields,oe),isTouched:!!pt((me||n).touchedFields,oe)}),B=oe=>{oe&&i0(oe).forEach(me=>di(n.errors,me)),g.state.next({errors:oe?n.errors:{}})},Q=(oe,me,_e)=>{const Be=(pt(r,oe,{_f:{}})._f||{}).ref,We=pt(n.errors,oe)||{},{ref:Ie,message:et,type:St,...$t}=We;Qn(n.errors,oe,{...$t,...me,ref:Be}),g.state.next({name:oe,errors:n.errors,isValid:!1}),_e&&_e.shouldFocus&&Be&&Be.focus&&Be.focus()},re=(oe,me)=>il(oe)?g.state.subscribe({next:_e=>oe(O(void 0,me),_e)}):O(oe,me,!0),ce=oe=>g.state.subscribe({next:me=>{NJ(oe.name,me.name,oe.exact)&&CJ(me,oe.formState||f,Dt,oe.reRenderRoot)&&oe.callback({values:{...s},...n,...me})}}).unsubscribe,ue=oe=>(a.mount=!0,h={...h,...oe.formState},ce({...oe,formState:h})),he=(oe,me={})=>{for(const _e of oe?i0(oe):o.mount)o.mount.delete(_e),o.array.delete(_e),me.keepValue||(di(r,_e),di(s,_e)),!me.keepError&&di(n.errors,_e),!me.keepDirty&&di(n.dirtyFields,_e),!me.keepTouched&&di(n.touchedFields,_e),!me.keepIsValidating&&di(n.validatingFields,_e),!t.shouldUnregister&&!me.keepDefaultValue&&di(i,_e);g.state.next({values:_i(s)}),g.state.next({...n,...me.keepDirty?{isDirty:F()}:{}}),!me.keepIsValid&&y()},ge=({disabled:oe,name:me})=>{(Da(oe)&&a.mount||oe||o.disabled.has(me))&&(oe?o.disabled.add(me):o.disabled.delete(me))},be=(oe,me={})=>{let _e=pt(r,oe);const Be=Da(me.disabled)||Da(t.disabled);return Qn(r,oe,{..._e||{},_f:{..._e&&_e._f?_e._f:{ref:{name:oe}},name:oe,mount:!0,...me}}),o.mount.add(oe),_e?ge({disabled:Da(me.disabled)?me.disabled:t.disabled,name:oe}):A(oe,!0,me.value),{...Be?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:Ag(me.min),max:Ag(me.max),minLength:Ag(me.minLength),maxLength:Ag(me.maxLength),pattern:Ag(me.pattern)}:{},name:oe,onChange:W,onBlur:W,ref:We=>{if(We){be(oe,me),_e=pt(r,oe);const Ie=Zr(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,et=yJ(Ie),St=_e._f.refs||[];if(et?St.find($t=>$t===Ie):Ie===_e._f.ref)return;Qn(r,oe,{_f:{..._e._f,...et?{refs:[...St.filter(pw),Ie,...Array.isArray(pt(i,oe))?[{}]:[]],ref:{type:Ie.type,name:oe}}:{ref:Ie}}}),A(oe,!1,void 0,Ie)}else _e=pt(r,oe,{}),_e._f&&(_e._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(D$(o.array,oe)&&a.action)&&o.unMount.add(oe)}}},Le=()=>t.shouldFocusError&&s0(r,z,o.mount),$e=oe=>{Da(oe)&&(g.state.next({disabled:oe}),s0(r,(me,_e)=>{const Be=pt(r,_e);Be&&(me.disabled=Be._f.disabled||oe,Array.isArray(Be._f.refs)&&Be._f.refs.forEach(We=>{We.disabled=Be._f.disabled||oe}))},0,!1))},qe=(oe,me)=>async _e=>{let Be;_e&&(_e.preventDefault&&_e.preventDefault(),_e.persist&&_e.persist());let We=_i(s);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:et}=await T();n.errors=Ie,We=_i(et)}else await U(r);if(o.disabled.size)for(const Ie of o.disabled)di(We,Ie);if(di(n.errors,"root"),oa(n.errors)){g.state.next({errors:{}});try{await oe(We,_e)}catch(Ie){Be=Ie}}else me&&await me({...n.errors},_e),Le(),setTimeout(Le);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oa(n.errors)&&!Be,submitCount:n.submitCount+1,errors:n.errors}),Be)throw Be},Qe=(oe,me={})=>{pt(r,oe)&&(Zr(me.defaultValue)?J(oe,_i(pt(i,oe))):(J(oe,me.defaultValue),Qn(i,oe,_i(me.defaultValue))),me.keepTouched||di(n.touchedFields,oe),me.keepDirty||(di(n.dirtyFields,oe),n.isDirty=me.defaultValue?F(oe,_i(pt(i,oe))):F()),me.keepError||(di(n.errors,oe),f.isValid&&y()),g.state.next({...n}))},yt=(oe,me={})=>{const _e=oe?_i(oe):i,Be=_i(_e),We=oa(oe),Ie=We?i:Be;if(me.keepDefaultValues||(i=_e),!me.keepValues){if(me.keepDirtyValues){const et=new Set([...o.mount,...Object.keys(Pg(i,s))]);for(const St of Array.from(et))pt(n.dirtyFields,St)?Qn(Ie,St,pt(s,St)):J(St,pt(Ie,St))}else{if($4&&Zr(oe))for(const et of o.mount){const St=pt(r,et);if(St&&St._f){const $t=Array.isArray(St._f.refs)?St._f.refs[0]:St._f.ref;if(Fy($t)){const Pt=$t.closest("form");if(Pt){Pt.reset();break}}}}if(me.keepFieldsRef)for(const et of o.mount)J(et,pt(Ie,et));else r={}}s=t.shouldUnregister?me.keepDefaultValues?_i(i):{}:_i(Ie),g.array.next({values:{...Ie}}),g.state.next({values:{...Ie}})}o={mount:me.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!me.keepIsValid||!!me.keepDirtyValues,a.watch=!!t.shouldUnregister,g.state.next({submitCount:me.keepSubmitCount?n.submitCount:0,isDirty:We?!1:me.keepDirty?n.isDirty:!!(me.keepDefaultValues&&!Od(oe,i)),isSubmitted:me.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:We?{}:me.keepDirtyValues?me.keepDefaultValues&&s?Pg(i,s):n.dirtyFields:me.keepDefaultValues&&oe?Pg(i,oe):me.keepDirty?n.dirtyFields:{},touchedFields:me.keepTouched?n.touchedFields:{},errors:me.keepErrors?n.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},De=(oe,me)=>yt(il(oe)?oe(s):oe,me),fe=(oe,me={})=>{const _e=pt(r,oe),Be=_e&&_e._f;if(Be){const We=Be.refs?Be.refs[0]:Be.ref;We.focus&&(We.focus(),me.shouldSelect&&il(We.select)&&We.select())}},Dt=oe=>{n={...n,...oe}},Ke={control:{register:be,unregister:he,getFieldState:X,handleSubmit:qe,setError:Q,_subscribe:ce,_runSchema:T,_focusError:Le,_getWatch:O,_getDirty:F,_setValid:y,_setFieldArray:_,_setDisabledField:ge,_setErrors:P,_getFieldArray:H,_reset:yt,_resetDefaultValues:()=>il(t.defaultValues)&&t.defaultValues().then(oe=>{De(oe,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:$e,_subjects:g,_proxyFormState:f,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(oe){a=oe},get _defaultValues(){return i},get _names(){return o},set _names(oe){o=oe},get _formState(){return n},get _options(){return t},set _options(oe){t={...t,...oe}}},subscribe:ue,trigger:ne,register:be,handleSubmit:qe,watch:re,setValue:J,getValues:se,reset:De,resetField:Qe,clearErrors:B,unregister:he,setError:Q,setFocus:fe,getFieldState:X};return{...Ke,formControl:Ke}}function pv(e={}){const t=Re.useRef(void 0),n=Re.useRef(void 0),[r,i]=Re.useState({isDirty:!1,isValidating:!1,isLoading:il(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:il(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!il(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=EJ(e);t.current={...o,formState:r}}const s=t.current.control;return s._options=e,D4(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Re.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Re.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Re.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Re.useEffect(()=>{e.values&&!Od(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,i(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),Re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=I$(r,s),t.current}const m6=(e,t,n)=>{if(e&&"reportValidity"in e){const r=pt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},q$=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?m6(r.ref,n,e):r.refs&&r.refs.forEach(i=>m6(i,n,e))}},$J=(e,t)=>{t.shouldUseNativeValidation&&q$(e,t);const n={};for(const r in e){const i=pt(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(RJ(t.names||Object.keys(e),r)){const a=Object.assign({},pt(n,r));Qn(a,"root",s),Qn(n,r,a)}else Qn(n,r,s)}return n},RJ=(e,t)=>e.some(n=>n.startsWith(t+"."));var TJ=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var c=n[a].types,u=c&&c[r.code];n[a]=F$(a,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},mv=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&q$({},s),{errors:{},values:n.raw?r:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:$J(TJ(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}};function gv(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var f2="Checkbox",[LJ,axe]=Ui(f2),[DJ,M4]=LJ(f2);function OJ(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:h}=e,[g,m]=go({prop:n,defaultProp:i??!1,onChange:c,caller:f2}),[x,y]=w.useState(null),[S,_]=w.useState(null),C=w.useRef(!1),P=x?!!a||!!x.closest("form"):!0,A={checked:g,disabled:s,setChecked:m,control:x,setControl:y,name:o,form:a,value:f,hasConsumerStoppedPropagationRef:C,required:u,defaultChecked:qd(i)?!1:i,isFormControl:P,bubbleInput:S,setBubbleInput:_};return l.jsx(DJ,{scope:t,...A,children:IJ(h)?h(A):r})}var G$="CheckboxTrigger",K$=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:x}=M4(G$,e),y=tn(i,f),S=w.useRef(c);return w.useEffect(()=>{const _=s==null?void 0:s.form;if(_){const C=()=>h(S.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[s,h]),l.jsx(jt.button,{type:"button",role:"checkbox","aria-checked":qd(c)?"mixed":c,"aria-required":u,"data-state":Q$(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:y,onKeyDown:rt(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:rt(n,_=>{h(C=>qd(C)?!0:!C),x&&m&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});K$.displayName=G$;var F4=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:f,...h}=e;return l.jsx(OJ,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>l.jsxs(l.Fragment,{children:[l.jsx(K$,{...h,ref:t,__scopeCheckbox:n}),g&&l.jsx(Z$,{__scopeCheckbox:n})]})})});F4.displayName=f2;var Y$="CheckboxIndicator",X$=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=M4(Y$,n);return l.jsx(Vs,{present:r||qd(s.checked)||s.checked===!0,children:l.jsx(jt.span,{"data-state":Q$(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});X$.displayName=Y$;var J$="CheckboxBubbleInput",Z$=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:f,form:h,bubbleInput:g,setBubbleInput:m}=M4(J$,e),x=tn(n,m),y=gv(s),S=Y0(r);w.useEffect(()=>{const C=g;if(!C)return;const P=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(P,"checked").set,D=!i.current;if(y!==s&&R){const T=new Event("click",{bubbles:D});C.indeterminate=qd(s),R.call(C,qd(s)?!1:s),C.dispatchEvent(T)}},[g,y,s,i]);const _=w.useRef(qd(s)?!1:s);return l.jsx(jt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??_.current,required:o,disabled:c,name:u,value:f,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Z$.displayName=J$;function IJ(e){return typeof e=="function"}function qd(e){return e==="indeterminate"}function Q$(e){return qd(e)?"indeterminate":e?"checked":"unchecked"}const B4=w.forwardRef(({className:e,...t},n)=>l.jsx(F4,{ref:n,className:Je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(X$,{className:Je("flex items-center justify-center text-current"),children:l.jsx(Tx,{className:"h-4 w-4"})})}));B4.displayName=F4.displayName;const vl=A4,MJ=k4,FJ=E4,eR=dv,tR=w.forwardRef(({className:e,...t},n)=>l.jsx(ov,{ref:n,className:Je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tR.displayName=ov.displayName;const bo=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(FJ,{children:[l.jsx(tR,{}),l.jsxs(lv,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(dv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(yo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bo.displayName=lv.displayName;const wo=({className:e,...t})=>l.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wo.displayName="DialogHeader";const Jh=({className:e,...t})=>l.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jh.displayName="DialogFooter";const So=w.forwardRef(({className:e,...t},n)=>l.jsx(cv,{ref:n,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));So.displayName=cv.displayName;const _o=w.forwardRef(({className:e,...t},n)=>l.jsx(uv,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));_o.displayName=uv.displayName;const Op=({message:e})=>e?l.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1.5"}),e]}):null,nR={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-3]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|472[247-9]|505[2-57-9]|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var mw={exports:{}},gw,g6;function BJ(){if(g6)return gw;g6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gw=e,gw}var vw,v6;function VJ(){if(v6)return vw;v6=1;var e=BJ();function t(){}function n(){}return n.resetWarningCache=t,vw=function(){function r(a,o,c,u,f,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},vw}var y6;function zJ(){return y6||(y6=1,mw.exports=VJ()()),mw.exports}var UJ=zJ();const ze=Vh(UJ);var yw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var x6;function WJ(){return x6||(x6=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)t.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(yw)),yw.exports}var HJ=WJ();const zy=Vh(HJ);function qJ(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function GJ(e,t,n){for(var r={},i="",s=0,a=0;a<e.length;){var o=n(e[a],i,r);o!==void 0&&(i+=o,t!==void 0&&(t===a?s=i.length-1:t>a&&(s=i.length))),a++}t===void 0&&(s=i.length);var c={value:i,caret:s};return c}function KJ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=YJ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(e,t){if(e){if(typeof e=="string")return b6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b6(e,t)}}function b6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J5(e,t){for(var n=0,r=KJ(t.split("")),i;!(i=r()).done;){var s=i.value;s===e&&n++}return n}function XJ(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=e.length,s=J5("(",e),a=J5(")",e),o=s-a;o>0&&i<t.length;)e+=t[i].replace(n,r),t[i]===")"&&o--,i++;return e}function JJ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ZJ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(e,t){if(e){if(typeof e=="string")return w6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w6(e,t)}}function w6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(i){return{text:i}};var r=J5(t,e);return function(i){if(!i)return{text:"",template:e};for(var s=0,a="",o=JJ(e.split("")),c;!(c=o()).done;){var u=c.value;if(u!==t){a+=u;continue}if(a+=i[s],s++,s===i.length&&i.length<r)break}return n&&(a=XJ(a,e)),{text:a,template:e}}}function eZ(e,t,n){typeof n=="string"&&(n=QJ(n));var r=n(e)||{},i=r.text,s=r.template;if(i===void 0&&(i=e),s)if(t===void 0)t=i.length;else{for(var a=0,o=!1,c=-1;a<i.length&&a<s.length;){if(i[a]!==s[a]){if(t===0){o=!0,t=a;break}c=a,t--}a++}o||(t=c+1)}return{text:i,caret:t}}function tZ(e){return e.hasAttribute("readonly")}function nZ(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var S6={Backspace:8,Delete:46};function rZ(e){switch(e.keyCode){case S6.Backspace:return"Backspace";case S6.Delete:return"Delete"}}function iZ(e){return e.selectionStart}function rR(e,t){t!==void 0&&(sZ()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function sZ(){if(typeof navigator<"u")return aZ.test(navigator.userAgent)}var aZ=/Android/i;function oZ(e,t,n,r,i){Z5(t,n,r,void 0,i)}function lZ(e,t,n,r,i){if(!tZ(t)){var s=rZ(e);switch(s){case"Delete":case"Backspace":e.preventDefault();var a=nZ(t);return a?(cZ(t,a),Z5(t,n,r,void 0,i)):Z5(t,n,r,s,i)}}}function cZ(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,rR(e,t.start)}function Z5(e,t,n,r,i){var s=GJ(e.value,iZ(e),t),a=s.value,o=s.caret;if(r){var c=qJ(a,o,r);a=c.value,o=c.caret}var u=eZ(a,o,n),f=u.text;o=u.caret,e.value=f,rR(e,o),i&&i(a)}var uZ=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function _6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(n),!0).forEach(function(r){dZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fZ(e,t){if(e==null)return{};var n=hZ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pZ(e){var t=e.ref,n=e.parse,r=e.format,i=e.value,s=e.defaultValue,a=e.controlled,o=a===void 0?!0:a,c=e.onChange,u=e.onKeyDown,f=fZ(e,uZ),h=w.useRef(),g=w.useCallback(function(S){h.current=S,t&&(typeof t=="function"?t(S):t.current=S)},[t]),m=w.useCallback(function(S){return oZ(S,h.current,n,r,c)},[h,n,r,c]),x=w.useCallback(function(S){if(u&&u(S),!S.defaultPrevented)return lZ(S,h.current,n,r,c)},[h,n,r,c,u]),y=Ip(Ip({},f),{},{ref:g,onChange:m,onKeyDown:x});return o?Ip(Ip({},y),{},{value:r(C6(i)?"":i).text}):Ip(Ip({},y),{},{defaultValue:r(C6(s)?"":s).text})}function C6(e){return e==null}var mZ=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function N6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(n),!0).forEach(function(r){vZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e,t){if(e==null)return{};var n=xZ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Uy(e,t){var n=e.inputComponent,r=n===void 0?"input":n,i=e.parse,s=e.format,a=e.value,o=e.defaultValue,c=e.onChange,u=e.controlled,f=e.onKeyDown,h=e.type,g=h===void 0?"text":h,m=yZ(e,mZ),x=pZ(gZ({ref:t,parse:i,format:s,value:a,defaultValue:o,onChange:c,controlled:u,onKeyDown:f,type:g},m));return Re.createElement(r,x)}Uy=Re.forwardRef(Uy);Uy.propTypes={parse:ze.func.isRequired,format:ze.func.isRequired,inputComponent:ze.elementType,type:ze.string,value:ze.string,defaultValue:ze.string,onChange:ze.func,controlled:ze.bool,onKeyDown:ze.func,onCut:ze.func,onPaste:ze.func};function j6(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var s=Number(n[i]),a=Number(r[i]);if(s>a)return 1;if(a>s)return-1;if(!isNaN(s)&&isNaN(a))return 1;if(isNaN(s)&&!isNaN(a))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var bZ={}.constructor;function Sh(e){return e!=null&&e.constructor===bZ}function Q5(e){"@babel/helpers - typeof";return Q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q5(e)}function h2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p2(e,t,n){return t&&wZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var SZ="1.2.0",_Z="1.7.35",P6=" ext. ",CZ=/^\d+$/,ji=function(){function e(t){h2(this,e),iR(t),this.metadata=t,aR.call(this,t)}return p2(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&CZ.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new A6(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new A6(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}]),e}(),A6=function(){function e(t,n){h2(this,e),this.globalMetadataObject=n,this.metadata=t,aR.call(this,n.metadata)}return p2(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new NZ(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&k6(this.types(),n))return new PZ(k6(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?P6:this.metadata[13]||P6}}]),e}(),NZ=function(){function e(t,n){h2(this,e),this._format=t,this.metadata=n}return p2(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!jZ.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),jZ=/^\(?\$1\)?$/,PZ=function(){function e(t,n){h2(this,e),this.type=t,this.metadata=n}return p2(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function k6(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function iR(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Sh(e)||!Sh(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Sh(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+AZ(e)+": "+e,"."))}var AZ=function(t){return Q5(t)};function gf(e,t){if(t=new ji(t),t.hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function sR(e,t){return t.countries.hasOwnProperty(e)}function aR(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?j6(t,SZ)===-1?this.v2=!0:j6(t,_Z)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function m2(e,t){return kZ(e,void 0,t)}function kZ(e,t,n){var r=n.type(t),i=r&&r.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";var s=e.length,a=i[0];return a===s?"IS_POSSIBLE":a>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function EZ(e,t,n){if(t===void 0&&(t={}),n=new ji(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return oR(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function oR(e,t){switch(m2(e,t)){case"IS_POSSIBLE":return!0;default:return!1}}function wu(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function $Z(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=RZ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RZ(e,t){if(e){if(typeof e=="string")return E6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E6(e,t)}}function E6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TZ=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function V4(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new ji(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(wu(r,n.nationalNumberPattern())){if(xw(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||xw(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=$Z(TZ),s;!(s=i()).done;){var a=s.value;if(xw(r,a,n))return a}}}}function xw(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:wu(e,t.pattern())}function LZ(e,t,n){if(t=t||{},n=new ji(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return V4(e,t,n.metadata)!==void 0;var r=t.v2?e.nationalNumber:e.phone;return wu(r,n.nationalNumberPattern())}function DZ(e,t,n){var r=new ji(n),i=r.getCountryCodesForCallingCode(e);return i?i.filter(function(s){return OZ(t,s,n)}):[]}function OZ(e,t,n){var r=new ji(n);return r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0}var z4=2,IZ=17,MZ=3,Bs="0-9０-９٠-٩۰-۹",FZ="-‐-―−ー－",BZ="／/",VZ="．.",zZ="  ­​⁠　",UZ="()（）［］\\[\\]",WZ="~⁓∼～",cl="".concat(FZ).concat(BZ).concat(VZ).concat(zZ).concat(UZ).concat(WZ),g2="+＋",HZ=new RegExp("(["+Bs+"])");function lR(e,t,n,r){if(t){var i=new ji(r);i.selectNumberingPlan(t,n);var s=new RegExp(i.IDDPrefix());if(e.search(s)===0){e=e.slice(e.match(s)[0].length);var a=e.match(HZ);if(!(a&&a[1]!=null&&a[1].length>0&&a[1]==="0"))return e}}}function e3(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,s,a=r.length-1,o=a>0&&r[a];if(t.nationalPrefixTransformRule()&&o)i=e.replace(n,t.nationalPrefixTransformRule()),a>1&&(s=r[1]);else{var c=r[0];i=e.slice(c.length),o&&(s=r[1])}var u;if(o){var f=e.indexOf(r[1]),h=e.slice(0,f);h===t.numberingPlan.nationalPrefix()&&(u=t.numberingPlan.nationalPrefix())}else u=r[0];return{nationalNumber:i,nationalPrefix:u,carrierCode:s}}}return{nationalNumber:e}}function t3(e,t){var n=e3(e,t),r=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!qZ(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!GZ(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:r}}function qZ(e,t,n){return!(wu(e,n.nationalNumberPattern())&&!wu(t,n.nationalNumberPattern()))}function GZ(e,t){switch(m2(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function cR(e,t,n,r){var i=t?gf(t,r):n;if(e.indexOf(i)===0){r=new ji(r),r.selectNumberingPlan(t,n);var s=e.slice(i.length),a=t3(s,r),o=a.nationalNumber,c=t3(e,r),u=c.nationalNumber;if(!wu(u,r.nationalNumberPattern())&&wu(o,r.nationalNumberPattern())||m2(u,r)==="TOO_LONG")return{countryCallingCode:i,number:s}}return{number:e}}function U4(e,t,n,r){if(!e)return{};var i;if(e[0]!=="+"){var s=lR(e,t,n,r);if(s&&s!==e)i=!0,e="+"+s;else{if(t||n){var a=cR(e,t,n,r),o=a.countryCallingCode,c=a.number;if(o)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:o,number:c}}return{number:e}}}if(e[1]==="0")return{};r=new ji(r);for(var u=2;u-1<=MZ&&u<=e.length;){var f=e.slice(1,u);if(r.hasCallingCode(f))return r.selectNumberingPlan(f),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:f,number:e.slice(u)};u++}return{}}function uR(e){return e.replace(new RegExp("[".concat(cl,"]+"),"g")," ").trim()}var dR=/(\$\d)/;function fR(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(dR,t.nationalPrefixFormattingRule()):t.format());return r?uR(s):s}var KZ=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function YZ(e,t,n){var r=new ji(n);if(r.selectNumberingPlan(e,t),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(KZ.test(r.IDDPrefix()))return r.IDDPrefix()}var XZ=";ext=",Mp=function(t){return"([".concat(Bs,"]{1,").concat(t,"})")};function hR(e){var t="20",n="15",r="9",i="6",s="[  \\t,]*",a="[:\\.．]?[  \\t,-]*",o="#?",c="(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)",u="(?:[xｘ#＃~～]|int|ｉｎｔ)",f="[- ]+",h="[  \\t]*",g="(?:,{2}|;)",m=XZ+Mp(t),x=s+c+a+Mp(t)+o,y=s+u+a+Mp(r)+o,S=f+Mp(i)+"#",_=h+g+a+Mp(n)+o,C=h+"(?:,)+"+a+Mp(r)+o;return m+"|"+x+"|"+y+"|"+S+"|"+_+"|"+C}var JZ="["+Bs+"]{"+z4+"}",ZZ="["+g2+"]{0,1}(?:["+cl+"]*["+Bs+"]){3,}["+cl+Bs+"]*",QZ=new RegExp("^["+g2+"]{0,1}(?:["+cl+"]*["+Bs+"]){1,2}$","i"),eQ=ZZ+"(?:"+hR()+")?",tQ=new RegExp("^"+JZ+"$|^"+eQ+"$","i");function nQ(e){return e.length>=z4&&tQ.test(e)}function rQ(e){return QZ.test(e)}function iQ(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}function sQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=aQ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(e,t){if(e){if(typeof e=="string")return $6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $6(e,t)}}function $6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){oQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L6={formatExtension:function(t,n,r){return"".concat(t).concat(r.ext()).concat(n)}};function lQ(e,t,n,r){if(n?n=T6(T6({},L6),n):n=L6,r=new ji(r),e.country&&e.country!=="001"){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else if(e.countryCallingCode)r.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var i=r.countryCallingCode(),s=n.v2?e.nationalNumber:e.phone,a;switch(t){case"NATIONAL":return s?(a=Wy(s,e.carrierCode,"NATIONAL",r,n),bw(a,e.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(a=Wy(s,null,"INTERNATIONAL",r,n),a="+".concat(i," ").concat(a),bw(a,e.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return iQ({number:"+".concat(i).concat(s),ext:e.ext});case"IDD":if(!n.fromCountry)return;var o=uQ(s,e.carrierCode,i,n.fromCountry,r);return bw(o,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function Wy(e,t,n,r,i){var s=cQ(r.formats(),e);return s?fR(e,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:t,metadata:r}):e}function cQ(e,t){for(var n=sQ(e),r;!(r=n()).done;){var i=r.value;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(t.search(s)!==0)continue}if(wu(t,i.pattern()))return i}}function bw(e,t,n,r){return t?r(e,t,n):e}function uQ(e,t,n,r,i){var s=gf(r,i.metadata);if(s===n){var a=Wy(e,t,"NATIONAL",i);return n==="1"?n+" "+a:a}var o=YZ(r,void 0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat(Wy(e,null,"INTERNATIONAL",i))}function D6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(n),!0).forEach(function(r){dQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pQ(e,t,n){return t&&hQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var pR=function(){function e(t,n,r){if(fQ(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(Sh(n)&&Sh(n.countries)){r=n;var i=t;if(!vQ.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=U4(i,void 0,void 0,r),a=s.countryCallingCode,o=s.number;if(n=o,t=a,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");iR(r);var c=gQ(t,r),u=c.country,f=c.countryCallingCode;this.country=u,this.countryCallingCode=f,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return pQ(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:DZ(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return EZ(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return LZ(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new ji(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return V4(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return lQ(this,n,r?O6(O6({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}]),e}(),mQ=function(t){return/^[A-Z]{2}$/.test(t)};function gQ(e,t){var n,r,i=new ji(t);return mQ(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e,{country:n,countryCallingCode:r}}var vQ=/^\+\d+$/;function n3(e){"@babel/helpers - typeof";return n3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n3(e)}function yQ(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function xQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R0(e,t)}function wQ(e){var t=gR();return function(){var r=T0(e),i;if(t){var s=T0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return SQ(this,i)}}function SQ(e,t){if(t&&(n3(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mR(e)}function mR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r3(e){var t=typeof Map=="function"?new Map:void 0;return r3=function(r){if(r===null||!_Q(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return ly(r,arguments,T0(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),R0(i,r)},r3(e)}function ly(e,t,n){return gR()?ly=Reflect.construct:ly=function(i,s,a){var o=[null];o.push.apply(o,s);var c=Function.bind.apply(i,o),u=new c;return a&&R0(u,a.prototype),u},ly.apply(null,arguments)}function gR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _Q(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function R0(e,t){return R0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},R0(e,t)}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(e)}var du=function(e){bQ(n,e);var t=wQ(n);function n(r){var i;return xQ(this,n),i=t.call(this,r),Object.setPrototypeOf(mR(i),n.prototype),i.name=i.constructor.name,i}return yQ(n)}(r3(Error)),I6=new RegExp("(?:"+hR()+")$","i");function CQ(e){var t=e.search(I6);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(I6),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function NQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=jQ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(e,t){if(e){if(typeof e=="string")return M6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M6(e,t)}}function M6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PQ={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function vR(e){return PQ[e]}function Hy(e){for(var t="",n=NQ(e.split("")),r;!(r=n()).done;){var i=r.value,s=vR(i);s&&(t+=s)}return t}function AQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=kQ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(e,t){if(e){if(typeof e=="string")return F6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F6(e,t)}}function F6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i3(e){for(var t="",n=AQ(e.split("")),r;!(r=n()).done;){var i=r.value;t+=yR(i,t)||""}return t}function yR(e,t,n){if(e==="+"){if(t){typeof n=="function"&&n("end");return}return"+"}return vR(e)}function EQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=$Q(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(e,t){if(e){if(typeof e=="string")return B6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B6(e,t)}}function B6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xR(e,t){var n=t.countries;t.defaultCountry;var r=t.metadata;r=new ji(r);for(var i=EQ(n),s;!(s=i()).done;){var a=s.value;if(r.country(a),r.leadingDigits()){if(e&&e.search(r.leadingDigits())===0)return a}else if(V4({phone:e,country:a},void 0,r.metadata))return a}}function bR(e,t){var n=t.nationalNumber,r=t.defaultCountry,i=t.metadata,s=i.getCountryCodesForCallingCode(e);if(s)return s.length===1?s[0]:xR(n,{countries:s,defaultCountry:r,metadata:i.metadata})}var wR="+",RQ="[\\-\\.\\(\\)]?",V6="(["+Bs+"]|"+RQ+")",TQ="^\\"+wR+V6+"*["+Bs+"]"+V6+"*$",LQ=new RegExp(TQ,"g"),s3=Bs,DQ="["+s3+"]+((\\-)*["+s3+"])*",OQ="a-zA-Z",IQ="["+OQ+"]+((\\-)*["+s3+"])*",MQ="^("+DQ+"\\.)*"+IQ+"\\.?$",FQ=new RegExp(MQ,"g"),z6="tel:",a3=";phone-context=",BQ=";isub=";function VQ(e){var t=e.indexOf(a3);if(t<0)return null;var n=t+a3.length;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}function zQ(e){return e===null?!0:e.length===0?!1:LQ.test(e)||FQ.test(e)}function UQ(e,t){var n=t.extractFormattedPhoneNumber,r=VQ(e);if(!zQ(r))throw new du("NOT_A_NUMBER");var i;if(r===null)i=n(e)||"";else{i="",r.charAt(0)===wR&&(i+=r);var s=e.indexOf(z6),a;s>=0?a=s+z6.length:a=0;var o=e.indexOf(a3);i+=e.substring(a,o)}var c=i.indexOf(BQ);if(c>0&&(i=i.substring(0,c)),i!=="")return i}var WQ=250,HQ=new RegExp("["+g2+Bs+"]"),qQ=new RegExp("[^"+Bs+"#]+$");function GQ(e,t,n){if(t=t||{},n=new ji(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new du("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var r=YQ(e,t.v2,t.extract),i=r.number,s=r.ext,a=r.error;if(!i){if(t.v2)throw a==="TOO_SHORT"?new du("TOO_SHORT"):new du("NOT_A_NUMBER");return{}}var o=JQ(i,t.defaultCountry,t.defaultCallingCode,n),c=o.country,u=o.nationalNumber,f=o.countryCallingCode,h=o.countryCallingCodeSource,g=o.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new du("INVALID_COUNTRY");return{}}if(!u||u.length<z4){if(t.v2)throw new du("TOO_SHORT");return{}}if(u.length>IZ){if(t.v2)throw new du("TOO_LONG");return{}}if(t.v2){var m=new pR(f,u,n.metadata);return c&&(m.country=c),g&&(m.carrierCode=g),s&&(m.ext=s),m.__countryCallingCodeSource=h,m}var x=(t.extended?n.hasSelectedNumberingPlan():c)?wu(u,n.nationalNumberPattern()):!1;return t.extended?{country:c,countryCallingCode:f,carrierCode:g,valid:x,possible:x?!0:!!(t.extended===!0&&n.possibleLengths()&&oR(u,n)),phone:u,ext:s}:x?XQ(c,u,s):{}}function KQ(e,t,n){if(e){if(e.length>WQ){if(n)throw new du("TOO_LONG");return}if(t===!1)return e;var r=e.search(HQ);if(!(r<0))return e.slice(r).replace(qQ,"")}}function YQ(e,t,n){var r=UQ(e,{extractFormattedPhoneNumber:function(a){return KQ(a,n,t)}});if(!r)return{};if(!nQ(r))return rQ(r)?{error:"TOO_SHORT"}:{};var i=CQ(r);return i.ext?i:{number:r}}function XQ(e,t,n){var r={country:e,phone:t};return n&&(r.ext=n),r}function JQ(e,t,n,r){var i=U4(i3(e),t,n,r.metadata),s=i.countryCallingCodeSource,a=i.countryCallingCode,o=i.number,c;if(a)r.selectNumberingPlan(a);else if(o&&(t||n))r.selectNumberingPlan(t,n),t&&(c=t),a=n||gf(t,r.metadata);else return{};if(!o)return{countryCallingCodeSource:s,countryCallingCode:a};var u=t3(i3(o),r),f=u.nationalNumber,h=u.carrierCode,g=bR(a,{nationalNumber:f,defaultCountry:t,metadata:r});return g&&(c=g,g==="001"||r.country(c)),{country:c,countryCallingCode:a,countryCallingCodeSource:s,nationalNumber:f,carrierCode:h}}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){ZQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e,t,n){return GQ(e,W6(W6({},t),{},{v2:!0}),n)}function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(r){tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e,t){return aee(e)||see(e,t)||iee(e,t)||ree()}function ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iee(e,t){if(e){if(typeof e=="string")return q6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q6(e,t)}}function q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function see(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function aee(e){if(Array.isArray(e))return e}function W4(e){var t=Array.prototype.slice.call(e),n=nee(t,4),r=n[0],i=n[1],s=n[2],a=n[3],o,c,u;if(typeof r=="string")o=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")a?(c=s,u=a):(c=void 0,u=s),i&&(c=eee({defaultCountry:i},c));else if(Sh(i))s?(c=i,u=s):u=i;else throw new Error("Invalid second argument: ".concat(i));return{text:o,options:c,metadata:u}}function G6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H4(e,t,n){t&&t.defaultCountry&&!sR(t.defaultCountry,n)&&(t=K6(K6({},t),{},{defaultCountry:void 0}));try{return QQ(e,t,n)}catch(r){if(!(r instanceof du))throw r}}function lee(){var e=W4(arguments),t=e.text,n=e.options,r=e.metadata;return H4(t,n,r)}function Y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uee(){var e=W4(arguments),t=e.text,n=e.options,r=e.metadata;n=X6(X6({},n),{},{extract:!1});var i=H4(t,n,r);return i&&i.isValid()||!1}function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(r){dee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fee(){var e=W4(arguments),t=e.text,n=e.options,r=e.metadata;n=Z6(Z6({},n),{},{extract:!1});var i=H4(t,n,r);return i&&i.isPossible()||!1}function hee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mee(e,t,n){return t&&pee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var gee=function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;hee(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}return mee(e,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function vee(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=yee(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yee(e,t){if(e){if(typeof e=="string")return Q6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q6(e,t)}}function Q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qo="x",ww=new RegExp(Qo);function cy(e,t){if(t<1)return"";for(var n="";t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function eP(e,t){return e[t]===")"&&t++,xee(e.slice(0,t))}function xee(e){for(var t=[],n=0;n<e.length;)e[n]==="("?t.push(n):e[n]===")"&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var s=0,a=t;s<a.length;s++){var o=a[s];i+=e.slice(r,o),r=o+1}return i}function bee(e,t,n){for(var r=vee(n.split("")),i;!(i=r()).done;){var s=i.value;if(e.slice(t+1).search(ww)<0)return;t=e.search(ww),e=e.replace(ww,s)}return[e,t]}function wee(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,a=new RegExp("^(?:".concat(t.pattern(),")$"));if(a.test(e.nationalSignificantNumber))return _ee(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function See(e,t){return m2(e,t)==="IS_POSSIBLE"}function _ee(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var a=tP(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(a)return a}return tP(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function tP(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,a=fR(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?a=e.nationalPrefix+s(t)+a:e.complexPrefixBeforeNationalSignificantNumber&&(a=e.complexPrefixBeforeNationalSignificantNumber+" "+a)),Cee(a,e))return a}function Cee(e,t){return Hy(e)===t.getNationalDigits()}function Nee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pee(e,t,n){return t&&jee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Aee=function(){function e(){Nee(this,e)}return Pee(e,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([Sw(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match($ee);if(!r){if(Eee.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),a=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var o=this.getContext(),c=o.branches;c.push(Sw(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:c});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Sw(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:kee(s)});break;default:throw new Error("Unknown operator: ".concat(i))}a&&this.parsePattern(a)}}]),e}();function kee(e){for(var t=[],n=0;n<e.length;){if(e[n]==="-"){if(n===0||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,s=r;s<=i;)t.push(String.fromCharCode(s)),s++}else t.push(e[n]);n++}return t}var Eee=/[\(\)\[\]\?\:\|]/,$ee=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Sw(e){return e.length===1?e[0]:e}function nP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ree(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(e,t){if(e){if(typeof e=="string")return rP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dee(e,t,n){return t&&Lee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Oee=function(){function e(t){Tee(this,e),this.matchTree=new Aee().parse(t)}return Dee(e,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=o3(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}]),e}();function o3(e,t,n){if(typeof t=="string"){var r=e.join("");return t.indexOf(r)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:r.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),s=0;s<t.length;){var a=t[s],o=o3(i,a,n&&s===t.length-1);if(o){if(o.overflow)return o;if(o.match){if(i=i.slice(o.matchedChars.length),i.length===0)return s===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(o.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(o,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var c,u=nP(t.args),f;!(f=u()).done;){var h=f.value,g=o3(e,h,n);if(g){if(g.overflow)return g;if(g.match)return{match:!0,matchedChars:g.matchedChars};if(g.partialMatch)c=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var m=nP(t.args),x;!(x=m()).done;){var y=x.value;if(e[0]===y)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[y]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function iP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Iee(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(e,t){if(e){if(typeof e=="string")return sP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(e,t)}}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bee(e,t,n){return t&&Fee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var l3="9",Vee=15,zee=cy(l3,Vee),Uee=/[- ]/,Wee=function(){return/\[([^\[\]])*\]/g},Hee=function(){return/\d(?=[^,}][^,}])/g},qee=new RegExp("["+cl+"]*\\$1["+cl+"]*(\\$\\d["+cl+"]*)*$"),aP=3,Gee=function(){function e(t){t.state;var n=t.metadata;Mee(this,e),this.metadata=n,this.resetFormat()}return Bee(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(See(r.nationalSignificantNumber,this.metadata))for(var s=iP(this.matchingFormats),a;!(a=s()).done;){var o=a.value,c=wee(r,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(f){return i.shouldTryNationalPrefixFormattingRule(f,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(f){return i.getSeparatorAfterNationalPrefix(f)}});if(c)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(c.replace(/\d/g,Qo),r),this.populatedNationalNumberTemplate=c,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Qo),c}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,a=n.international,o=i,c=o.length-aP;c<0&&(c=0),this.matchingFormats=this.matchingFormats.filter(function(u){return r.formatSuits(u,a,s)&&r.formatMatches(u,o,c)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var a=n.leadingDigitsPatterns()[i];if(r.length<aP)try{return new Oee(a).match(r,{allowOverflow:!0})!==void 0}catch(o){return console.error(o),!0}return new RegExp("^(".concat(a,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var u=a.value;return r.chosenFormat===u?"break":qee.test(r.getFormatFormat(u,n.international))?r.createTemplateForFormat(u,n)?(r.chosenFormat=u,"break"):(r.matchingFormats=r.matchingFormats.filter(function(f){return f!==u}),"continue"):"continue"},s=iP(this.matchingFormats.slice()),a;!(a=s()).done;){var o=i();if(o==="break")break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&Uee.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Qo,r+1),i++;return eP(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Qo)+cy(Qo,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,a=r.nationalPrefix,o=r.complexPrefixBeforeNationalSignificantNumber,c=n.pattern();c=c.replace(Wee(),"\\d").replace(Hee(),"\\d");var u=zee.match(c)[0];if(!(i.length>u.length)){var f=new RegExp("^"+c+"$"),h=i.replace(/\d/g,l3);f.test(h)&&(u=h);var g=this.getFormatFormat(n,s),m;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:a})){var x=g.replace(dR,n.nationalPrefixFormattingRule());if(Hy(n.nationalPrefixFormattingRule())===(a||"")+Hy("$1")&&(g=x,m=!0,a))for(var y=a.length;y>0;)g=g.replace(/\d/,Qo),y--}var S=u.replace(new RegExp(c),g).replace(new RegExp(l3,"g"),Qo);return m||(o?S=cy(Qo,o.length)+" "+S:a&&(S=cy(Qo,a.length)+this.getSeparatorAfterNationalPrefix(n)+S)),s&&(S=uR(S)),S}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=bee(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],eP(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var a=n.usesNationalPrefix();if(a&&s||!a&&!i)return!0}}}]),e}();function SR(e,t){return Jee(e)||Xee(e,t)||Yee(e,t)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(e,t){if(e){if(typeof e=="string")return oP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(e,t)}}function oP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function Jee(e){if(Array.isArray(e))return e}function Zee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ete(e,t,n){return t&&Qee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var tte="["+cl+Bs+"]+",nte=new RegExp("^"+tte+"$","i"),rte="(?:["+g2+"]["+cl+Bs+"]*|["+cl+Bs+"]+)",ite=new RegExp("[^"+cl+Bs+"]+.*$"),ste=/[^\d\[\]]/,ate=function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,s=t.onNationalSignificantNumberChange;Zee(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return ete(e,[{key:"input",value:function(n,r){var i=cte(n),s=SR(i,2),a=s[0],o=s[1],c=Hy(a),u;return o&&(r.digits||(r.startInternationalNumber(),c||(u=!0))),c&&this.inputDigits(c,r),{digits:c,justLeadingPlus:u}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(a){return r.update(a)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=U4("+"+n.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&ste.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=e3(n,this.metadata),s=i.nationalPrefix,a=i.nationalNumber,o=i.carrierCode;if(a!==n)return this.onExtractedNationalNumber(s,o,a,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=e3(n,this.metadata),a=s.nationalPrefix,o=s.nationalNumber,c=s.carrierCode;if(o!==r)return this.onExtractedNationalNumber(a,c,o,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,a){var o,c,u=s.lastIndexOf(i);if(u>=0&&u===s.length-i.length){c=!0;var f=s.slice(0,u);f!==n&&(o=f)}a({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberMatchesInput:c,complexPrefixBeforeNationalSignificantNumber:o}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var a=lR(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(a!==void 0&&a!==s)return n.update({IDDPrefix:s.slice(0,s.length-a.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=cR(n.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(r.number,i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}]),e}();function ote(e){var t=e.search(rte);if(!(t<0)){e=e.slice(t);var n;return e[0]==="+"&&(n=!0,e=e.slice(1)),e=e.replace(ite,""),n&&(e="+"+e),e}}function lte(e){var t=ote(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function cte(e){var t=lte(e),n=SR(t,2),r=n[0],i=n[1];return nte.test(r)||(r=""),[r,i]}function ute(e,t){return pte(e)||hte(e,t)||fte(e,t)||dte()}function dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(e,t){if(e){if(typeof e=="string")return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function pte(e){if(Array.isArray(e))return e}function mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vte(e,t,n){return t&&gte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Km=function(){function e(t,n){mte(this,e),this.metadata=new ji(n);var r=this.getCountryAndCallingCode(t),i=ute(r,2),s=i[0],a=i[1];this.defaultCountry=s,this.defaultCallingCode=a,this.reset()}return vte(e,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(Sh(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var a;if(this.metadata.hasSelectedNumberingPlan()&&(a=this.formatter.format(i,this.state)),a===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(a=this.formatter.format(o,this.state))}this.formattedOutput=a?this.getFullNumber(a):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new gee({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new Gee({state:this.state,metadata:this.metadata}),this.parser=new ate({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(o){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!o})+o},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.complexPrefixBeforeNationalSignificantNumber,s=n.nationalPrefix,a=r,o=i||s;return o&&(a=o+a),a}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(n?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Qo)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(bR(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,a=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+a:"+"+r;if(s||i){var o=s?this.metadata.countryCallingCode():i;return"+"+o+a}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,a=this._getCountry();if(r&&!(!a&&!s)){if(a&&a===this.defaultCountry){var o=new ji(this.metadata.metadata);o.selectNumberingPlan(a);var c=o.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(c);if(u.length>1){var f=xR(r,{countries:u,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});f&&(a=f)}}var h=new pR(a||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function cP(e){return new ji(e).getCountries()}function yte(e,t,n){return n||(n=t,t=void 0),new Km(t,n).input(e)}function _R(e){var t=e.inputFormat,n=e.country,r=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(gf(n,r)):""}function c3(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function xte(e,t,n){if(!(n&&n.ignoreRest)){var r=function(s){if(n)switch(s){case"end":n.ignoreRest=!0;break}};return yR(e,t,r)}}function CR(e){var t=e.onKeyDown,n=e.inputFormat;return w.useCallback(function(r){if(r.keyCode===wte&&n==="INTERNATIONAL"&&r.target instanceof HTMLInputElement&&bte(r.target)===Ste.length){r.preventDefault();return}t&&t(r)},[t,n])}function bte(e){return e.selectionStart}var wte=8,Ste="+",_te=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u3.apply(this,arguments)}function Cte(e,t){if(e==null)return{};var n=Nte(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nte(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jte(e){function t(n,r){var i=n.onKeyDown,s=n.country,a=n.inputFormat,o=n.metadata,c=o===void 0?e:o;n.international,n.withCountryCallingCode;var u=Cte(n,_te),f=w.useCallback(function(g){var m=new Km(s,c),x=_R({inputFormat:a,country:s,metadata:c}),y=m.input(x+g),S=m.getTemplate();return x&&(y=c3(y,x),S&&(S=c3(S,x))),{text:y,template:S}},[s,c]),h=CR({onKeyDown:i,inputFormat:a});return Re.createElement(Uy,u3({},u,{ref:r,parse:xte,format:f,onKeyDown:h}))}return t=Re.forwardRef(t),t.propTypes={value:ze.string.isRequired,onChange:ze.func.isRequired,onKeyDown:ze.func,country:ze.string,inputFormat:ze.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ze.object},t}const Pte=jte();var Ate=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d3.apply(this,arguments)}function kte(e,t){if(e==null)return{};var n=Ete(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ete(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $te(e){function t(n,r){var i=n.value,s=n.onChange,a=n.onKeyDown,o=n.country,c=n.inputFormat,u=n.metadata,f=u===void 0?e:u,h=n.inputComponent,g=h===void 0?"input":h;n.international,n.withCountryCallingCode;var m=kte(n,Ate),x=_R({inputFormat:c,country:o,metadata:f}),y=w.useCallback(function(_){var C=i3(_.target.value);if(C===i){var P=uP(x,C,o,f);P.indexOf(_.target.value)===0&&(C=C.slice(0,-1))}s(C)},[x,i,s,o,f]),S=CR({onKeyDown:a,inputFormat:c});return Re.createElement(g,d3({},m,{ref:r,value:uP(x,i,o,f),onChange:y,onKeyDown:S}))}return t=Re.forwardRef(t),t.propTypes={value:ze.string.isRequired,onChange:ze.func.isRequired,onKeyDown:ze.func,country:ze.string,inputFormat:ze.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ze.object,inputComponent:ze.elementType},t}const Rte=$te();function uP(e,t,n,r){return c3(yte(e+t,n,r),e)}function Tte(e){return dP(e[0])+dP(e[1])}function dP(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var Lte=["value","onChange","options","disabled","readOnly"],Dte=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function Ote(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ite(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(e,t){if(e){if(typeof e=="string")return fP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(this,arguments)}function NR(e,t){if(e==null)return{};var n=Mte(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mte(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jR(e){var t=e.value,n=e.onChange,r=e.options,i=e.disabled,s=e.readOnly,a=NR(e,Lte),o=w.useCallback(function(c){var u=c.target.value;n(u==="ZZ"?void 0:u)},[n]);return w.useMemo(function(){return AR(r,t)},[r,t]),Re.createElement("select",qy({},a,{disabled:i||s,readOnly:s,value:t||"ZZ",onChange:o}),r.map(function(c){var u=c.value,f=c.label,h=c.divider;return Re.createElement("option",{key:h?"|":u||"ZZ",value:h?"|":u||"ZZ",disabled:!!h,style:h?Fte:void 0},f)}))}jR.propTypes={value:ze.string,onChange:ze.func.isRequired,options:ze.arrayOf(ze.shape({value:ze.string,label:ze.string,divider:ze.bool})).isRequired,disabled:ze.bool,readOnly:ze.bool};var Fte={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function PR(e){var t=e.value,n=e.options,r=e.className,i=e.iconComponent;e.getIconAspectRatio;var s=e.arrowComponent,a=s===void 0?Bte:s,o=e.unicodeFlags,c=NR(e,Dte),u=w.useMemo(function(){return AR(n,t)},[n,t]);return Re.createElement("div",{className:"PhoneInputCountry"},Re.createElement(jR,qy({},c,{value:t,options:n,className:zy("PhoneInputCountrySelect",r)})),u&&(o&&t?Re.createElement("div",{className:"PhoneInputCountryIconUnicode"},Tte(t)):Re.createElement(i,{"aria-hidden":!0,country:t,label:u.label,aspectRatio:o?1:void 0})),Re.createElement(a,null))}PR.propTypes={iconComponent:ze.elementType,arrowComponent:ze.elementType,unicodeFlags:ze.bool};function Bte(){return Re.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function AR(e,t){for(var n=Ote(e),r;!(r=n()).done;){var i=r.value;if(!i.divider&&Vte(i.value,t))return i}}function Vte(e,t){return e==null?t==null:e===t}var zte=["country","countryName","flags","flagUrl"];function f3(){return f3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f3.apply(this,arguments)}function Ute(e,t){if(e==null)return{};var n=Wte(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wte(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q4(e){var t=e.country,n=e.countryName,r=e.flags,i=e.flagUrl,s=Ute(e,zte);return r&&r[t]?r[t]({title:n}):Re.createElement("img",f3({},s,{alt:n,role:n?void 0:"presentation",src:i.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}q4.propTypes={country:ze.string.isRequired,countryName:ze.string.isRequired,flags:ze.objectOf(ze.elementType),flagUrl:ze.string.isRequired};var Hte=["aspectRatio"],qte=["title"],Gte=["title"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(this,arguments)}function G4(e,t){if(e==null)return{};var n=Kte(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kte(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function v2(e){var t=e.aspectRatio,n=G4(e,Hte);return t===1?Re.createElement(ER,n):Re.createElement(kR,n)}v2.propTypes={title:ze.string.isRequired,aspectRatio:ze.number};function kR(e){var t=e.title,n=G4(e,qte);return Re.createElement("svg",Gy({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),Re.createElement("title",null,t),Re.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},Re.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),Re.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),Re.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),Re.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),Re.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),Re.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),Re.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}kR.propTypes={title:ze.string.isRequired};function ER(e){var t=e.title,n=G4(e,Gte);return Re.createElement("svg",Gy({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),Re.createElement("title",null,t),Re.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},Re.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),Re.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),Re.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),Re.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),Re.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),Re.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),Re.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}ER.propTypes={title:ze.string.isRequired};function Yte(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0}function $R(e){Yte(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function Xte(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Jte(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(e,t){if(e){if(typeof e=="string")return hP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(e,t)}}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zte(e,t){if(!t)return e;for(var n=[],r=[],i=n,s=function(){var u=o.value;if(u==="|")i.push({divider:!0});else if(u==="..."||u==="…")i=r;else{var f;u==="🌐"?f=void 0:f=u;var h=e.indexOf(e.filter(function(m){return m.value===f})[0]),g=e[h];e.splice(h,1),i.push(g)}},a=Xte(t),o;!(o=a()).done;)s();return n.concat(e).concat(r)}function Qte(e,t){if(e&&(e=e.filter(function(n){switch(n){case"🌐":case"|":case"...":case"…":return!0;default:return y2(n,t)}}),e.length>0))return e}function y2(e,t){return sR(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function RR(e,t){return e&&(e=e.filter(function(n){return y2(n,t)}),e.length===0&&(e=void 0)),e}var ene=["country","label","aspectRatio"];function h3(){return h3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h3.apply(this,arguments)}function tne(e,t){if(e==null)return{};var n=nne(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nne(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function TR(e){var t=e.flags,n=e.flagUrl,r=e.flagComponent,i=e.internationalIcon;function s(a){var o=a.country,c=a.label,u=a.aspectRatio,f=tne(a,ene),h=i===v2?u:void 0;return Re.createElement("div",h3({},f,{className:zy("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":h===1,"PhoneInputCountryIcon--border":o})}),o?Re.createElement(r,{country:o,countryName:c,flags:t,flagUrl:n,className:"PhoneInputCountryIconImg"}):Re.createElement(i,{title:c,aspectRatio:h,className:"PhoneInputCountryIconImg"}))}return s.propTypes={country:ze.string,label:ze.string.isRequired,aspectRatio:ze.number},s}TR({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:q4,internationalIcon:v2});function rne(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ine(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(e,t){if(e){if(typeof e=="string")return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sne(e,t){for(var n=rne(e),r;!(r=n()).done;){var i=r.value;i&&ane(i,t)}}function ane(e,t){typeof e=="function"?e(t):e.current=t}var LR=ze.shape({country_calling_codes:ze.object.isRequired,countries:ze.object.isRequired}),DR=ze.objectOf(ze.string);function vu(e,t){var n="+"+gf(e,t);return n}function one(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.getAnyCountry,s=e.countries,a=e.required,o=e.metadata,c;return n&&n.country?c=n.country:r&&(!t||gm(t,r,o))&&(c=r),s&&s.indexOf(c)<0&&(c=void 0),!c&&a&&s&&s.length>0&&(c=i()),c}function lne(e){var t=e.countries,n=e.countryNames,r=e.addInternationalOption,i=e.compareStringsLocales,s=e.compareStrings;s||(s=mne);var a=t.map(function(o){return{value:o,label:n[o]||o}});return a.sort(function(o,c){return s(o.label,c.label,i)}),r&&a.unshift({label:n.ZZ}),a}function OR(e,t){return lee(e||"",t)}function cne(e){return e.formatNational().replace(/\D/g,"")}function une(e,t){var n=t.prevCountry,r=t.newCountry,i=t.metadata,s=t.useNationalFormat;if(n===r)return e;if(!e)return s?"":r?vu(r,i):"";if(r){if(e[0]==="+"){if(s)return e.indexOf("+"+gf(r,i))===0?gne(e,r,i):"";if(n){var a=vu(r,i);return e.indexOf(a)===0?e:a}else{var o=vu(r,i);return e.indexOf(o)===0?e:o}}}else if(e[0]!=="+")return dm(e,n,i)||"";return e}function dm(e,t,n){if(e){if(e[0]==="+"){if(e==="+")return;var r=new Km(t,n);return r.input(e),r.getNumberValue()}if(t){var i=MR(e,t,n);return"+".concat(gf(t,n)).concat(i||"")}}}function dne(e,t,n){var r=MR(e,t,n);if(r){var i=r.length-fne(t,n);if(i>0)return e.slice(0,e.length-i)}return e}function fne(e,t){return t=new ji(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function IR(e,t){var n=t.country,r=t.countries,i=t.defaultCountry,s=t.latestCountrySelectedByUser,a=t.required,o=t.metadata;if(e==="+")return n;var c=pne(e,o);if(c)return!r||r.indexOf(c)>=0?c:void 0;if(n){if(gm(e,n,o)){if(s&&gm(e,s,o))return s;if(i&&gm(e,i,o))return i;if(!a)return}else if(!a)return}return n}function hne(e,t){var n=t.prevPhoneDigits,r=t.country,i=t.defaultCountry,s=t.latestCountrySelectedByUser,a=t.countryRequired,o=t.getAnyCountry,c=t.countries,u=t.international,f=t.limitMaxLength,h=t.countryCallingCodeEditable,g=t.metadata;if(u&&h===!1&&r){var m=vu(r,g);if(e.indexOf(m)!==0){var x,y=e&&e[0]!=="+";return y?(e=m+e,x=dm(e,r,g)):e=m,{phoneDigits:e,value:x,country:r}}}u===!1&&r&&e&&e[0]==="+"&&(e=mP(e,r,g)),e&&r&&f&&(e=dne(e,r,g)),e&&e[0]!=="+"&&(!r||u)&&(e="+"+e),!e&&n&&n[0]==="+"&&(u?r=void 0:r=i),e==="+"&&n&&n[0]==="+"&&n.length>1&&(r=void 0);var S;return e&&(e[0]==="+"&&(e==="+"||r&&vu(r,g).indexOf(e)===0)?S=void 0:S=dm(e,r,g)),S&&(r=IR(S,{country:r,countries:c,defaultCountry:i,latestCountrySelectedByUser:s,required:!1,metadata:g}),u===!1&&r&&e&&e[0]==="+"&&(e=mP(e,r,g),S=dm(e,r,g))),!r&&a&&(r=i||o()),{phoneDigits:e,country:r,value:S}}function mP(e,t,n){if(e.indexOf(vu(t,n))===0){var r=new Km(t,n);r.input(e);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function pne(e,t){var n=new Km(null,t);return n.input(e),n.getCountry()}function mne(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function gne(e,t,n){if(t){var r="+"+gf(t,n);if(e.length<r.length){if(r.indexOf(e)===0)return""}else if(e.indexOf(r)===0)return e.slice(r.length)}for(var i=0,s=Object.keys(n.country_calling_codes);i<s.length;i++){var a=s[i];if(e.indexOf(a)===1)return e.slice(1+a.length)}return""}function MR(e,t,n){var r=new Km(t,n);r.input(e);var i=r.getNumber();return i&&i.nationalNumber}function gm(e,t,n){for(var r=vu(t,n),i=0;i<e.length&&i<r.length;){if(e[i]!==r[i])return!1;i++}return!0}function FR(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.international,s=e.useNationalFormat,a=e.metadata;return(i===!1||s)&&n&&n.country?cne(n):!t&&i&&r?vu(r,a):t}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vne(e,t,n){return t=yne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=xne(e,"string");return L0(t)=="symbol"?t:t+""}function xne(e,t){if(L0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e,t,n){var r=e.metadata,i=e.countries,s=e.defaultCountry,a=e.value,o=e.reset,c=e.international,u=e.displayInitialValueAsLocalNumber,f=e.initialValueFormat,h=t.defaultCountry,g=t.value,m=t.reset;n.country;var x=n.value,y=n.hasUserSelectedACountry,S=n.latestCountrySelectedByUser,_=function(F){return FR(j1(j1({},F),{},{international:c,useNationalFormat:u||f==="national",metadata:r}))};if(o!==m)return{phoneDigits:_({value:void 0,defaultCountry:s}),value:void 0,country:s,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(s!==h){var C=!s||y2(s,r),P=!x||c&&x===_({value:void 0,defaultCountry:h}),A=!a&&P;if(!y&&C&&A)return{country:s,phoneDigits:_({value:void 0,defaultCountry:s}),value:void 0}}if(!vP(a,g)&&!vP(a,x)){var R,D;if(a){a&&$R(a),R=OR(a,r);var T=RR(i,r);R&&R.country?(!T||T.indexOf(R.country)>=0)&&(D=R.country):(D=IR(a,{country:void 0,countries:T,metadata:r}),D||s&&a.indexOf(vu(s,r))===0&&(D=s))}var M;if(a){if(S){var U=D?S===D:gm(a,S,r);U?D||(D=S):M={latestCountrySelectedByUser:void 0}}}else M={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return j1(j1({},M),{},{phoneDigits:_({phoneNumber:R,value:a,defaultCountry:s}),value:a,country:a?D:s})}}function vP(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var wne=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){Jo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vm.apply(this,arguments)}function Sne(e,t){if(e==null)return{};var n=_ne(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _ne(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zR(r.key),r)}}function Nne(e,t,n){return t&&xP(e.prototype,t),n&&xP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jne(e,t,n){return t=Ky(t),Pne(e,VR()?Reflect.construct(t,n||[],Ky(e).constructor):t.apply(e,n))}function Pne(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(e)}function Ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ky(e)}function kne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p3(e,t)}function p3(e,t){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p3(e,t)}function Jo(e,t,n){return t=zR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(e){var t=Ene(e,"string");return Rm(t)=="symbol"?t:t+""}function Ene(e,t){if(Rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ne=function(e){function t(n){var r;Cne(this,t),r=jne(this,t,[n]),Jo(r,"setInputRef",function(S){sne([r.props.inputRef,r.inputRef],S)}),Jo(r,"isCountrySupportedWithError",function(S){var _=r.props.metadata;return y2(S,_)}),Jo(r,"onCountryChange",function(S){var _=r.props,C=_.international,P=_.metadata,A=_.onChange,R=_.focusInputOnCountrySelection,D=r.state,T=D.phoneDigits,M=D.country,U=une(T,{prevCountry:M,newCountry:S,metadata:P,useNationalFormat:!C}),ee=dm(U,S,P);R&&r.inputRef.current.focus(),r.setState({country:S,latestCountrySelectedByUser:S,hasUserSelectedACountry:!0,phoneDigits:U,value:ee},function(){A(ee)})}),Jo(r,"onChange",function(S){var _=r.props,C=_.defaultCountry,P=_.onChange,A=_.addInternationalOption,R=_.international,D=_.limitMaxLength,T=_.countryCallingCodeEditable,M=_.metadata,U=r.state,ee=U.countries,F=U.phoneDigits,O=U.country,H=U.latestCountrySelectedByUser,V=hne(S,{prevPhoneDigits:F,country:O,countryRequired:!A,defaultCountry:C,latestCountrySelectedByUser:H,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:ee})},countries:ee,international:R,limitMaxLength:D,countryCallingCodeEditable:T,metadata:M}),ae=V.phoneDigits,J=V.country,W=V.value,z={phoneDigits:ae,value:W,country:J};H&&W&&!gm(W,H,M)&&(z.latestCountrySelectedByUser=void 0),T===!1&&!W&&ae===r.state.phoneDigits&&(z.forceRerender={}),r.setState(z,function(){return P(W)})}),Jo(r,"_onFocus",function(){return r.setState({isFocused:!0})}),Jo(r,"_onBlur",function(){return r.setState({isFocused:!1})}),Jo(r,"onFocus",function(S){r._onFocus();var _=r.props.onFocus;_&&_(S)}),Jo(r,"onBlur",function(S){var _=r.props.onBlur;r._onBlur(),_&&_(S)}),Jo(r,"onCountryFocus",function(S){r._onFocus();var _=r.props.countrySelectProps;if(_){var C=_.onFocus;C&&C(S)}}),Jo(r,"onCountryBlur",function(S){r._onBlur();var _=r.props.countrySelectProps;if(_){var C=_.onBlur;C&&C(S)}}),r.inputRef=Re.createRef();var i=r.props,s=i.value;i.labels;var a=i.international,o=i.addInternationalOption,c=i.displayInitialValueAsLocalNumber,u=i.initialValueFormat,f=i.metadata,h=r.props,g=h.defaultCountry,m=h.countries;g&&(r.isCountrySupportedWithError(g)||(g=void 0)),s&&$R(s),m=RR(m,f);var x=OR(s,f);r.CountryIcon=TR(r.props);var y=one({value:s,phoneNumber:x,defaultCountry:g,required:!o,countries:m||cP(f),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:m})},metadata:f});return r.state={props:r.props,country:y,countries:m,phoneDigits:FR({value:s,phoneNumber:x,defaultCountry:g,international:a,useNationalFormat:c||u==="national",metadata:f}),value:s},r}return kne(t,e),Nne(t,[{key:"componentDidMount",value:function(){var r=this.props.onCountryChange,i=this.props.defaultCountry,s=this.state.country;r&&(i&&(this.isCountrySupportedWithError(i)||(i=void 0)),s!==i&&r(s))}},{key:"componentDidUpdate",value:function(r,i){var s=this.props.onCountryChange,a=this.state.country;s&&a!==i.country&&s(a)}},{key:"getCountrySelectOptions",value:function(r){var i=r.countries,s=this.props,a=s.international,o=s.countryCallingCodeEditable,c=s.countryOptionsOrder,u=s.addInternationalOption,f=s.labels,h=s.locales,g=s.metadata;return this.useMemoCountrySelectOptions(function(){return Zte(lne({countries:i||cP(g),countryNames:f,addInternationalOption:a&&o===!1?!1:u,compareStringsLocales:h}),Qte(c,g))},[i,c,u,f,g])}},{key:"useMemoCountrySelectOptions",value:function(r,i){return(!this.countrySelectOptionsMemoDependencies||!Tne(i,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=r(),this.countrySelectOptionsMemoDependencies=i),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(r){var i=r.countries,s=this.getCountrySelectOptions({countries:i});return s[0].value}},{key:"render",value:function(){var r=this.props,i=r.name,s=r.disabled,a=r.readOnly,o=r.autoComplete,c=r.style,u=r.className;r.inputRef;var f=r.inputComponent,h=r.numberInputProps,g=r.smartCaret,m=r.countrySelectComponent,x=r.countrySelectProps,y=r.containerComponent,S=r.containerComponentProps;r.defaultCountry,r.countries,r.countryOptionsOrder;var _=r.labels;r.flags,r.flagComponent,r.flagUrl,r.addInternationalOption,r.internationalIcon,r.displayInitialValueAsLocalNumber,r.initialValueFormat,r.onCountryChange,r.limitMaxLength,r.countryCallingCodeEditable,r.focusInputOnCountrySelection,r.reset;var C=r.metadata,P=r.international;r.locales;var A=Sne(r,wne),R=this.state,D=R.country,T=R.countries,M=R.phoneDigits,U=R.isFocused,ee=g?Pte:Rte,F=this.getCountrySelectOptions({countries:T});return Re.createElement(y,vm({style:c,className:zy(u,"PhoneInput",{"PhoneInput--focus":U,"PhoneInput--disabled":s,"PhoneInput--readOnly":a})},S),Re.createElement(m,vm({name:i?"".concat(i,"Country"):void 0,"aria-label":_.country},x,{value:D,options:F,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:s||x&&x.disabled,readOnly:a||x&&x.readOnly,iconComponent:this.CountryIcon})),Re.createElement(ee,vm({ref:this.setInputRef,type:"tel",autoComplete:o},h,A,{inputFormat:P===!0?"INTERNATIONAL":P===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:P?!0:void 0,withCountryCallingCode:P?!0:void 0,name:i,metadata:C,country:D,value:M||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:s,readOnly:a,inputComponent:f,className:zy("PhoneInputInput",h&&h.className,A.className)})))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return BR({props:r},bne(r,i.props,i))}}])}(Re.PureComponent),UR=Re.forwardRef(function(e,t){return Re.createElement($ne,vm({},Rne(e),{inputRef:t}))});UR.propTypes={value:ze.string,onChange:ze.func.isRequired,onFocus:ze.func,onBlur:ze.func,disabled:ze.bool,readOnly:ze.bool,autoComplete:ze.string,initialValueFormat:ze.oneOf(["national"]),displayInitialValueAsLocalNumber:ze.bool,defaultCountry:ze.string,countries:ze.arrayOf(ze.string),labels:DR,locales:ze.oneOfType([ze.string,ze.arrayOf(ze.string)]),flagUrl:ze.string,flags:ze.objectOf(ze.elementType),flagComponent:ze.elementType,addInternationalOption:ze.bool,internationalIcon:ze.elementType,countryOptionsOrder:ze.arrayOf(ze.string),style:ze.object,className:ze.string,countrySelectComponent:ze.elementType,countrySelectProps:ze.object,inputComponent:ze.elementType,numberInputProps:ze.object,containerComponent:ze.elementType,containerComponentProps:ze.object,smartCaret:ze.bool,international:ze.bool,limitMaxLength:ze.bool,countryCallingCodeEditable:ze.bool,metadata:LR,onCountryChange:ze.func,focusInputOnCountrySelection:ze.bool};var bP={autoComplete:"tel",countrySelectComponent:PR,flagComponent:q4,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:v2,inputComponent:"input",containerComponent:"div",reset:ze.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function Rne(e){e=BR({},e);for(var t in bP)e[t]===void 0&&(e[t]=bP[t]);return e}function Tne(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}const Lne={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var Dne=["metadata","labels"];function m3(){return m3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m3.apply(this,arguments)}function One(e,t){if(e==null)return{};var n=Ine(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ine(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WR(e){var t=Re.forwardRef(function(n,r){var i=n.metadata,s=i===void 0?e:i,a=n.labels,o=a===void 0?Lne:a,c=One(n,Dne);return Re.createElement(UR,m3({},c,{ref:r,metadata:s,labels:o}))});return t.propTypes={metadata:LR,labels:DR},t}WR();function HR(e,t){var n=Array.prototype.slice.call(t);return n.push(nR),e.apply(this,n)}const Mne=WR(nR);function Fne(){return HR(uee,arguments)}function Bne(){return HR(fee,arguments)}const Vne=[{text:"",color:"bg-muted"},{text:"Débil",color:"bg-destructive"},{text:"Regular",color:"bg-yellow-500"},{text:"Buena",color:"bg-blue-500"},{text:"Fuerte",color:"bg-green-500"},{text:"Fuerte",color:"bg-green-500"}],zne=()=>{var f,h,g,m,x,y;const{control:e,register:t,watch:n,formState:{errors:r,dirtyFields:i}}=hv(),[s,a]=w.useState(0),o=n("password"),c=n("phone");w.useEffect(()=>{let S=0;if(!o){a(0);return}o.length>=6&&(S+=1),/[a-z]/.test(o)&&(S+=1),/[A-Z]/.test(o)&&(S+=1),/\d/.test(o)&&(S+=1),/[!@#$%^&*()_\-+={}[\]|;:'",.<>?/]/.test(o)&&(S+=1),a(S)},[o]),i.phone&&r.phone;const u=w.useMemo(()=>Vne[s],[s]);return l.jsxs(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Información Básica"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Completa tus datos para crear tu cuenta"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"fullName",className:"text-sm font-medium",children:"Nombre Completo"}),l.jsx(Ot,{id:"fullName",placeholder:"Ej: Juan Pérez",...t("fullName"),className:"mt-1"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Utiliza tu nombre como en tu identificación oficial."}),l.jsx(Op,{message:(f=r.fullName)==null?void 0:f.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"email",className:"text-sm font-medium",children:"Correo Electrónico"}),l.jsx(Ot,{id:"email",type:"email",placeholder:"usuario@email.com",...t("email"),className:"mt-1"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No podrá ser cambiado por tu cuenta una vez registrado."}),l.jsx(Op,{message:(h=r.email)==null?void 0:h.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"phone",className:"text-sm font-medium",children:"Teléfono *"}),l.jsx(fo,{name:"phone",control:e,rules:{validate:S=>Bne(S||"")||"Número de teléfono inválido"},render:({field:S})=>l.jsx(Mne,{...S,id:"phone",international:!0,defaultCountry:"US",placeholder:"Ej: 281 123 4567",className:"mt-1",inputComponent:Ot})}),l.jsx(Op,{message:(g=r.phone)==null?void 0:g.message})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"password",children:"Contraseña *"}),l.jsx(Ot,{id:"password",type:"password",placeholder:"••••••••",...t("password"),className:"mt-1"}),l.jsx(Op,{message:(m=r.password)==null?void 0:m.message}),o&&l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${u.color}`,style:{width:`${s/5*100}%`}})}),l.jsx("span",{className:"text-xs text-muted-foreground w-16 text-right",children:u.text})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Mínimo: 6 caracteres, 1 mayúscula, 1 minúscula, 1 número."})]})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"confirmPassword",children:"Confirmar Contraseña *"}),l.jsx(Ot,{id:"confirmPassword",type:"password",placeholder:"••••••••",...t("confirmPassword"),className:"mt-1"}),l.jsx(Op,{message:(x=r.confirmPassword)==null?void 0:x.message})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 pt-4",children:[l.jsx(fo,{name:"acceptTerms",control:e,render:({field:S})=>l.jsx(B4,{id:"acceptTerms",checked:S.value,onCheckedChange:S.onChange,className:"mt-1"})}),l.jsxs("div",{className:"grid gap-1.5 leading-none",children:[l.jsxs(ht,{htmlFor:"acceptTerms",className:"text-sm font-normal leading-relaxed",children:["Acepto los"," ",l.jsxs(vl,{children:[l.jsx(MJ,{asChild:!0,children:l.jsx(Ue,{variant:"link",className:"p-0 h-auto text-primary underline",children:"Términos y Condiciones"})}),l.jsxs(bo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(wo,{children:[l.jsxs(So,{className:"flex items-center",children:[l.jsx(mo,{className:"w-5 h-5 mr-2"}),"Términos y Condiciones"]}),l.jsx(_o,{children:"Términos de uso de Opulent Auto Gallery"})]}),l.jsx("div",{className:"space-y-4 text-sm text-muted-foreground py-4"})]})]})," ","y la"," ",l.jsx(Ue,{variant:"link",className:"p-0 h-auto text-primary underline",children:"Política de Privacidad"})]}),l.jsx(Op,{message:(y=r.acceptTerms)==null?void 0:y.message})]})]})]}),l.jsxs(Ue,{type:"submit",className:"w-full mt-6",size:"lg",children:["Crear Cuenta",l.jsx(DS,{className:"w-4 h-4 ml-2"})]})]})};var On;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(On||(On={}));var wP;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(wP||(wP={}));const Et=On.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ld=e=>{switch(typeof e){case"undefined":return Et.undefined;case"string":return Et.string;case"number":return Number.isNaN(e)?Et.nan:Et.number;case"boolean":return Et.boolean;case"function":return Et.function;case"bigint":return Et.bigint;case"symbol":return Et.symbol;case"object":return Array.isArray(e)?Et.array:e===null?Et.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Et.promise:typeof Map<"u"&&e instanceof Map?Et.map:typeof Set<"u"&&e instanceof Set?Et.set:typeof Date<"u"&&e instanceof Date?Et.date:Et.object;default:return Et.unknown}},it=On.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Su extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),r}static assert(t){if(!(t instanceof Su))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,On.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Su.create=e=>new Su(e);const g3=(e,t)=>{let n;switch(e.code){case it.invalid_type:e.received===Et.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case it.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,On.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:n=`Unrecognized key(s) in object: ${On.joinValues(e.keys,", ")}`;break;case it.invalid_union:n="Invalid input";break;case it.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${On.joinValues(e.options)}`;break;case it.invalid_enum_value:n=`Invalid enum value. Expected ${On.joinValues(e.options)}, received '${e.received}'`;break;case it.invalid_arguments:n="Invalid function arguments";break;case it.invalid_return_type:n="Invalid function return type";break;case it.invalid_date:n="Invalid date";break;case it.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:On.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case it.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case it.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case it.custom:n="Invalid input";break;case it.invalid_intersection_types:n="Intersection results could not be merged";break;case it.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case it.not_finite:n="Number must be finite";break;default:n=t.defaultError,On.assertNever(e)}return{message:n}};let Une=g3;function Wne(){return Une}const Hne=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function vt(e,t){const n=Wne(),r=Hne({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===g3?void 0:g3].filter(i=>!!i)});e.common.issues.push(r)}class Va{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return an;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Va.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return an;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:t.value,value:r}}}const an=Object.freeze({status:"aborted"}),Wg=e=>({status:"dirty",value:e}),Co=e=>({status:"valid",value:e}),SP=e=>e.status==="aborted",_P=e=>e.status==="dirty",Tm=e=>e.status==="valid",Yy=e=>typeof Promise<"u"&&e instanceof Promise;var Lt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Lt||(Lt={}));class rf{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CP=(e,t)=>{if(Tm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Su(e.common.issues);return this._error=n,this._error}}};function gn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class $n{get description(){return this._def.description}_getType(t){return Ld(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ld(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Va,ctx:{common:t.parent.common,data:t.data,parsedType:Ld(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Yy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ld(t)},i=this._parseSync({data:t,path:r.path,parent:r});return CP(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ld(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return Tm(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>Tm(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ld(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(Yy(i)?i:Promise.resolve(i));return CP(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=t(i),o=()=>s.addIssue({code:it.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new af({schema:this,typeName:cn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return yu.create(this,this._def)}nullable(){return Lh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lc.create(this)}promise(){return ex.create(this,this._def)}or(t){return Jy.create([this,t],this._def)}and(t){return Zy.create(this,t,this._def)}transform(t){return new af({...gn(this._def),schema:this,typeName:cn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new tx({...gn(this._def),innerType:this,defaultValue:n,typeName:cn.ZodDefault})}brand(){return new YR({typeName:cn.ZodBranded,type:this,...gn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new nx({...gn(this._def),innerType:this,catchValue:n,typeName:cn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Y4.create(this,t)}readonly(){return rx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qne=/^c[^\s-]{8,}$/i,Gne=/^[0-9a-z]+$/,Kne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xne=/^[a-z0-9_-]{21}$/i,Jne=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Zne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ere="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _w;const tre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rre=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ire=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sre=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,are=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ore=new RegExp(`^${qR}$`);function GR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function lre(e){return new RegExp(`^${GR(e)}$`)}function cre(e){let t=`${qR}T${GR(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ure(e,t){return!!((t==="v4"||!t)&&tre.test(e)||(t==="v6"||!t)&&rre.test(e))}function dre(e,t){if(!Jne.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function fre(e,t){return!!((t==="v4"||!t)&&nre.test(e)||(t==="v6"||!t)&&ire.test(e))}class pu extends $n{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Et.string){const s=this._getOrReturnCtx(t);return vt(s,{code:it.invalid_type,expected:Et.string,received:s.parsedType}),an}const r=new Va;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),vt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),vt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,o=t.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?vt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&vt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Qne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"email",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")_w||(_w=new RegExp(ere,"u")),_w.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"emoji",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Yne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"uuid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Xne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"nanoid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")qne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"cuid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Gne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"cuid2",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Kne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"ulid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),vt(i,{validation:"url",code:it.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"regex",code:it.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?cre(s).test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?ore.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?lre(s).test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{code:it.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Zne.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"duration",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ure(t.data,s.version)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"ip",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?dre(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"jwt",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?fre(t.data,s.version)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"cidr",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?sre.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"base64",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?are.test(t.data)||(i=this._getOrReturnCtx(t,i),vt(i,{validation:"base64url",code:it.invalid_string,message:s.message}),r.dirty()):On.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:it.invalid_string,...Lt.errToObj(r)})}_addCheck(t){return new pu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Lt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Lt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Lt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Lt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Lt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Lt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Lt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Lt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Lt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Lt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Lt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Lt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Lt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Lt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Lt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Lt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Lt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Lt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Lt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Lt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Lt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Lt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Lt.errToObj(n)})}nonempty(t){return this.min(1,Lt.errToObj(t))}trim(){return new pu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}pu.create=e=>new pu({checks:[],typeName:cn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gn(e)});function hre(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}class Eh extends $n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Et.number){const s=this._getOrReturnCtx(t);return vt(s,{code:it.invalid_type,expected:Et.number,received:s.parsedType}),an}let r;const i=new Va;for(const s of this._def.checks)s.kind==="int"?On.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),vt(r,{code:it.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?hre(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),vt(r,{code:it.not_finite,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Lt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Lt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Lt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Lt.toString(n))}setLimit(t,n,r,i){return new Eh({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Lt.toString(i)}]})}_addCheck(t){return new Eh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Lt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Lt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Lt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Lt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Lt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Lt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Lt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Lt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Lt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&On.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Eh.create=e=>new Eh({checks:[],typeName:cn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class $h extends $n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Et.bigint)return this._getInvalidInput(t);let r;const i=new Va;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),vt(r,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return vt(n,{code:it.invalid_type,expected:Et.bigint,received:n.parsedType}),an}gte(t,n){return this.setLimit("min",t,!0,Lt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Lt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Lt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Lt.toString(n))}setLimit(t,n,r,i){return new $h({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Lt.toString(i)}]})}_addCheck(t){return new $h({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Lt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Lt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Lt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Lt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Lt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}$h.create=e=>new $h({checks:[],typeName:cn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gn(e)});class Xy extends $n{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Et.boolean){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.boolean,received:r.parsedType}),an}return Co(t.data)}}Xy.create=e=>new Xy({typeName:cn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class Lm extends $n{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Et.date){const s=this._getOrReturnCtx(t);return vt(s,{code:it.invalid_type,expected:Et.date,received:s.parsedType}),an}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return vt(s,{code:it.invalid_date}),an}const r=new Va;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),vt(i,{code:it.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),vt(i,{code:it.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):On.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lm({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Lt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Lt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Lm.create=e=>new Lm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:cn.ZodDate,...gn(e)});class NP extends $n{_parse(t){if(this._getType(t)!==Et.symbol){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.symbol,received:r.parsedType}),an}return Co(t.data)}}NP.create=e=>new NP({typeName:cn.ZodSymbol,...gn(e)});class v3 extends $n{_parse(t){if(this._getType(t)!==Et.undefined){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.undefined,received:r.parsedType}),an}return Co(t.data)}}v3.create=e=>new v3({typeName:cn.ZodUndefined,...gn(e)});class y3 extends $n{_parse(t){if(this._getType(t)!==Et.null){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.null,received:r.parsedType}),an}return Co(t.data)}}y3.create=e=>new y3({typeName:cn.ZodNull,...gn(e)});class x3 extends $n{constructor(){super(...arguments),this._any=!0}_parse(t){return Co(t.data)}}x3.create=e=>new x3({typeName:cn.ZodAny,...gn(e)});class jP extends $n{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Co(t.data)}}jP.create=e=>new jP({typeName:cn.ZodUnknown,...gn(e)});class sf extends $n{_parse(t){const n=this._getOrReturnCtx(t);return vt(n,{code:it.invalid_type,expected:Et.never,received:n.parsedType}),an}}sf.create=e=>new sf({typeName:cn.ZodNever,...gn(e)});class PP extends $n{_parse(t){if(this._getType(t)!==Et.undefined){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.void,received:r.parsedType}),an}return Co(t.data)}}PP.create=e=>new PP({typeName:cn.ZodVoid,...gn(e)});class lc extends $n{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Et.array)return vt(n,{code:it.invalid_type,expected:Et.array,received:n.parsedType}),an;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(vt(n,{code:a?it.too_big:it.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(vt(n,{code:it.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(vt(n,{code:it.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new rf(n,a,n.path,o)))).then(a=>Va.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new rf(n,a,n.path,o)));return Va.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new lc({...this._def,minLength:{value:t,message:Lt.toString(n)}})}max(t,n){return new lc({...this._def,maxLength:{value:t,message:Lt.toString(n)}})}length(t,n){return new lc({...this._def,exactLength:{value:t,message:Lt.toString(n)}})}nonempty(t){return this.min(1,t)}}lc.create=(e,t)=>new lc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:cn.ZodArray,...gn(t)});function nm(e){if(e instanceof hi){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=yu.create(nm(r))}return new hi({...e._def,shape:()=>t})}else return e instanceof lc?new lc({...e._def,type:nm(e.element)}):e instanceof yu?yu.create(nm(e.unwrap())):e instanceof Lh?Lh.create(nm(e.unwrap())):e instanceof Rh?Rh.create(e.items.map(t=>nm(t))):e}class hi extends $n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=On.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Et.object){const u=this._getOrReturnCtx(t);return vt(u,{code:it.invalid_type,expected:Et.object,received:u.parsedType}),an}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof sf&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const f=s[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new rf(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof sf){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")o.length>0&&(vt(i,{code:it.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of o){const h=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new rf(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key,g=await f.value;u.push({key:h,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>Va.mergeObjectSync(r,u)):Va.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Lt.errToObj,new hi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Lt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new hi({...this._def,unknownKeys:"strip"})}passthrough(){return new hi({...this._def,unknownKeys:"passthrough"})}extend(t){return new hi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new hi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:cn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new hi({...this._def,catchall:t})}pick(t){const n={};for(const r of On.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new hi({...this._def,shape:()=>n})}omit(t){const n={};for(const r of On.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new hi({...this._def,shape:()=>n})}deepPartial(){return nm(this)}partial(t){const n={};for(const r of On.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new hi({...this._def,shape:()=>n})}required(t){const n={};for(const r of On.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof yu;)s=s._def.innerType;n[r]=s}return new hi({...this._def,shape:()=>n})}keyof(){return KR(On.objectKeys(this.shape))}}hi.create=(e,t)=>new hi({shape:()=>e,unknownKeys:"strip",catchall:sf.create(),typeName:cn.ZodObject,...gn(t)});hi.strictCreate=(e,t)=>new hi({shape:()=>e,unknownKeys:"strict",catchall:sf.create(),typeName:cn.ZodObject,...gn(t)});hi.lazycreate=(e,t)=>new hi({shape:e,unknownKeys:"strip",catchall:sf.create(),typeName:cn.ZodObject,...gn(t)});class Jy extends $n{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Su(o.ctx.common.issues));return vt(n,{code:it.invalid_union,unionErrors:a}),an}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new Su(c));return vt(n,{code:it.invalid_union,unionErrors:o}),an}}get options(){return this._def.options}}Jy.create=(e,t)=>new Jy({options:e,typeName:cn.ZodUnion,...gn(t)});const su=e=>e instanceof w3?su(e.schema):e instanceof af?su(e.innerType()):e instanceof Qy?[e.value]:e instanceof Th?e.options:e instanceof S3?On.objectValues(e.enum):e instanceof tx?su(e._def.innerType):e instanceof v3?[void 0]:e instanceof y3?[null]:e instanceof yu?[void 0,...su(e.unwrap())]:e instanceof Lh?[null,...su(e.unwrap())]:e instanceof YR||e instanceof rx?su(e.unwrap()):e instanceof nx?su(e._def.innerType):[];class K4 extends $n{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.object)return vt(n,{code:it.invalid_type,expected:Et.object,received:n.parsedType}),an;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(vt(n,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),an)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const a=su(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,s)}}return new K4({typeName:cn.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...gn(r)})}}function b3(e,t){const n=Ld(e),r=Ld(t);if(e===t)return{valid:!0,data:e};if(n===Et.object&&r===Et.object){const i=On.objectKeys(t),s=On.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of s){const c=b3(e[o],t[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===Et.array&&r===Et.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],o=t[s],c=b3(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Et.date&&r===Et.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zy extends $n{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,a)=>{if(SP(s)||SP(a))return an;const o=b3(s.value,a.value);return o.valid?((_P(s)||_P(a))&&n.dirty(),{status:n.value,value:o.data}):(vt(r,{code:it.invalid_intersection_types}),an)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zy.create=(e,t,n)=>new Zy({left:e,right:t,typeName:cn.ZodIntersection,...gn(n)});class Rh extends $n{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.array)return vt(r,{code:it.invalid_type,expected:Et.array,received:r.parsedType}),an;if(r.data.length<this._def.items.length)return vt(r,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),an;!this._def.rest&&r.data.length>this._def.items.length&&(vt(r,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new rf(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Va.mergeArray(n,a)):Va.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Rh({...this._def,rest:t})}}Rh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rh({items:e,typeName:cn.ZodTuple,rest:null,...gn(t)})};class AP extends $n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.map)return vt(r,{code:it.invalid_type,expected:Et.map,received:r.parsedType}),an;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],u)=>({key:i._parse(new rf(r,o,r.path,[u,"key"])),value:s._parse(new rf(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return an;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(u.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return an;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(u.value,f.value)}return{status:n.value,value:o}}}}AP.create=(e,t,n)=>new AP({valueType:t,keyType:e,typeName:cn.ZodMap,...gn(n)});class D0 extends $n{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Et.set)return vt(r,{code:it.invalid_type,expected:Et.set,received:r.parsedType}),an;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(vt(r,{code:it.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(vt(r,{code:it.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const f of c){if(f.status==="aborted")return an;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>s._parse(new rf(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(t,n){return new D0({...this._def,minSize:{value:t,message:Lt.toString(n)}})}max(t,n){return new D0({...this._def,maxSize:{value:t,message:Lt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}D0.create=(e,t)=>new D0({valueType:e,minSize:null,maxSize:null,typeName:cn.ZodSet,...gn(t)});class w3 extends $n{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}w3.create=(e,t)=>new w3({getter:e,typeName:cn.ZodLazy,...gn(t)});class Qy extends $n{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return vt(n,{received:n.data,code:it.invalid_literal,expected:this._def.value}),an}return{status:"valid",value:t.data}}get value(){return this._def.value}}Qy.create=(e,t)=>new Qy({value:e,typeName:cn.ZodLiteral,...gn(t)});function KR(e,t){return new Th({values:e,typeName:cn.ZodEnum,...gn(t)})}class Th extends $n{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return vt(n,{expected:On.joinValues(r),received:n.parsedType,code:it.invalid_type}),an}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return vt(n,{received:n.data,code:it.invalid_enum_value,options:r}),an}return Co(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Th.create(t,{...this._def,...n})}exclude(t,n=this._def){return Th.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Th.create=KR;class S3 extends $n{_parse(t){const n=On.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Et.string&&r.parsedType!==Et.number){const i=On.objectValues(n);return vt(r,{expected:On.joinValues(i),received:r.parsedType,code:it.invalid_type}),an}if(this._cache||(this._cache=new Set(On.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=On.objectValues(n);return vt(r,{received:r.data,code:it.invalid_enum_value,options:i}),an}return Co(t.data)}get enum(){return this._def.values}}S3.create=(e,t)=>new S3({values:e,typeName:cn.ZodNativeEnum,...gn(t)});class ex extends $n{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.promise&&n.common.async===!1)return vt(n,{code:it.invalid_type,expected:Et.promise,received:n.parsedType}),an;const r=n.parsedType===Et.promise?n.data:Promise.resolve(n.data);return Co(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ex.create=(e,t)=>new ex({type:e,typeName:cn.ZodPromise,...gn(t)});class af extends $n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===cn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{vt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return an;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?an:c.status==="dirty"||n.value==="dirty"?Wg(c.value):c});{if(n.value==="aborted")return an;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?an:o.status==="dirty"||n.value==="dirty"?Wg(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?an:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?an:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Tm(a))return an;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Tm(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):an);On.assertNever(i)}}af.create=(e,t,n)=>new af({schema:e,typeName:cn.ZodEffects,effect:t,...gn(n)});af.createWithPreprocess=(e,t,n)=>new af({schema:t,effect:{type:"preprocess",transform:e},typeName:cn.ZodEffects,...gn(n)});class yu extends $n{_parse(t){return this._getType(t)===Et.undefined?Co(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yu.create=(e,t)=>new yu({innerType:e,typeName:cn.ZodOptional,...gn(t)});class Lh extends $n{_parse(t){return this._getType(t)===Et.null?Co(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Lh.create=(e,t)=>new Lh({innerType:e,typeName:cn.ZodNullable,...gn(t)});class tx extends $n{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Et.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tx.create=(e,t)=>new tx({innerType:e,typeName:cn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gn(t)});class nx extends $n{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Su(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Su(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nx.create=(e,t)=>new nx({innerType:e,typeName:cn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gn(t)});class kP extends $n{_parse(t){if(this._getType(t)!==Et.nan){const r=this._getOrReturnCtx(t);return vt(r,{code:it.invalid_type,expected:Et.nan,received:r.parsedType}),an}return{status:"valid",value:t.data}}}kP.create=e=>new kP({typeName:cn.ZodNaN,...gn(e)});class YR extends $n{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Y4 extends $n{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?an:s.status==="dirty"?(n.dirty(),Wg(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?an:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Y4({in:t,out:n,typeName:cn.ZodPipeline})}}class rx extends $n{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Tm(i)&&(i.value=Object.freeze(i.value)),i);return Yy(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}rx.create=(e,t)=>new rx({innerType:e,typeName:cn.ZodReadonly,...gn(t)});var cn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(cn||(cn={}));const En=pu.create,pre=Eh.create;$h.create;const XR=Xy.create,X4=Lm.create,Ko=x3.create;sf.create;lc.create;const Gd=hi.create;Jy.create;const mre=K4.create;Zy.create;Rh.create;const a0=Qy.create,JR=Th.create;ex.create;yu.create;Lh.create;const gre=af.createWithPreprocess,vre={string:e=>pu.create({...e,coerce:!0}),number:e=>Eh.create({...e,coerce:!0}),boolean:e=>Xy.create({...e,coerce:!0}),bigint:e=>$h.create({...e,coerce:!0}),date:e=>Lm.create({...e,coerce:!0})},yre=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/),xre=Gd({fullName:En().min(2,{message:"El nombre debe tener al menos 2 caracteres."}).optional().or(a0("")),email:En().email("Correo electrónico no válido").optional().or(a0("")),phone:En().refine(e=>!e||Fne(e),{message:"El número de teléfono no es válido."}).optional(),password:En().regex(yre,{message:"La contraseña debe tener: mínimo 6 caracteres, 1 mayúscula, 1 minúscula y 1 número."}),confirmPassword:En().min(1,"Debes confirmar tu contraseña."),acceptTerms:XR().refine(e=>e===!0,{message:"Debes aceptar los términos y condiciones."})}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]}).refine(e=>!!e.email||!!e.phone,{message:"Debes proporcionar un email o un teléfono.",path:["email"]}),bre=async(e,t)=>{const n={message:`¡Nuevo usuario! ${t.fullName||t.email} se ha registrado.`,type:"new_user",target_role:"admin"},{error:r}=await e.from("notifications").insert(n);r&&console.error("Error al crear la notificación de nuevo usuario:",r)},wre=()=>{const{toast:e}=Pn(),t=Pu(),{signUp:n}=vo(),r=qn.useSupabaseClient(),[i,s]=w.useState(!1),a=pv({resolver:mv(xre),mode:"onChange",defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",acceptTerms:!1}}),{formState:{isSubmitting:o}}=a,c=async u=>{try{const f=await n(u.email,u.password,{full_name:u.fullName,phone:u.phone});f.success?(s(!0),e({title:"¡Cuenta Creada!",description:"Tu registro se ha completado exitosamente."}),await bre(r,u),setTimeout(()=>t("/login"),2e3)):e({variant:"destructive",title:"Error de registro",description:f.error.message})}catch(f){e({variant:"destructive",title:"Error inesperado",description:f.message})}};return i?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-background via-muted to-background p-4",children:l.jsx(Bt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:l.jsx(ct,{className:"w-full max-w-md bg-card border-border shadow-xl",children:l.jsxs(ut,{className:"p-8 text-center space-y-6",children:[l.jsx(vn,{className:"mx-auto h-16 w-16 text-green-500"}),l.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:"¡Cuenta Creada!"}),l.jsx("p",{className:"text-muted-foreground",children:"Serás redirigido en un momento..."}),l.jsx(Ue,{onClick:()=>t("/login"),size:"lg",className:"w-full",children:"Ir al Login Ahora"})]})})})}):l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-background via-muted to-background p-4",children:l.jsx(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg",children:l.jsxs(ct,{className:"bg-card border-border shadow-xl overflow-hidden",children:[l.jsxs(_t,{className:"text-center border-b p-6",children:[l.jsx(DS,{className:"mx-auto h-8 w-8 text-primary mb-2"}),l.jsx(Ct,{className:"text-2xl",children:"Crear una Cuenta"}),l.jsx(pn,{children:"Completa el formulario para unirte."})]}),l.jsx(O$,{...a,children:l.jsx("form",{onSubmit:a.handleSubmit(c),children:l.jsxs(ut,{className:"p-6 md:p-8 relative",children:[l.jsx(zne,{}),o&&l.jsx("div",{className:"absolute inset-0 bg-card/80 flex items-center justify-center z-10 rounded-b-lg",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(jn,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Creando tu cuenta..."})]})})]})})}),l.jsx(n$,{className:"flex justify-center border-t p-4 bg-muted/50",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["¿Ya tienes cuenta?"," ",l.jsx(Ue,{variant:"link",className:"p-0 h-auto",asChild:!0,children:l.jsx(bs,{to:"/login",children:"Inicia Sesión"})})]})})]})})})},Sre=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center px-4 bg-gradient-to-br from-background via-secondary to-background",children:[l.jsxs(Bt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},className:"flex flex-col items-center",children:[l.jsx(Ni,{className:"w-24 h-24 text-destructive mb-6"}),l.jsx("h1",{className:"text-6xl font-extrabold text-foreground mb-4",children:"404"}),l.jsx("p",{className:"text-2xl font-medium text-muted-foreground mb-8",children:"¡Ups! La página que buscas no existe."})]}),l.jsx(Bt.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},children:l.jsx(Ue,{asChild:!0,variant:"outline",size:"lg",children:l.jsx(bs,{to:"/",children:"Volver al Inicio"})})})]}),_re=qm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vv({className:e,variant:t,...n}){return l.jsx("div",{className:Je(_re({variant:t}),e),...n})}const Cre=()=>{const{userProfile:e,loading:t}=vo(),[n,r]=w.useState(0);w.useEffect(()=>{e&&r(e.buying_power||0)},[e]);const i=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return t?l.jsx(ct,{className:"bg-card border-border shadow-lg",children:l.jsx(ut,{className:"p-4",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-muted rounded mb-2"}),l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]})})}):l.jsx(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:l.jsx(ct,{className:"bg-card border-border shadow-lg hover:shadow-primary/10 transition-shadow",children:l.jsxs(ut,{className:"p-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(Au,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Poder de Compra"}),l.jsx("p",{className:"text-xl font-bold text-foreground",children:i(n)})]})]})}),l.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border",children:[l.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n>=1e4?"bg-primary/10 text-primary":n>=5e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n>=1e4?"✓ Alto":n>=5e3?"⚡ Medio":"⚠️ Bajo"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ue,{asChild:!0,size:"sm",variant:"outline",className:"h-8 px-3",children:l.jsxs(bs,{to:"/dashboard/deposits",children:[l.jsx(Vk,{className:"w-3 h-3 mr-1"}),"Historial"]})}),l.jsx(Ue,{asChild:!0,size:"sm",className:"h-8 px-3",children:l.jsxs(bs,{to:"/dashboard/power-buying",children:[l.jsx(wV,{className:"w-3 h-3 mr-1"}),"Aumentar"]})})]})]})]})})})},ZR=({isVerified:e=!1,className:t=""})=>e?l.jsxs(Bt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg ${t}`,children:[l.jsx(tm,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Perfil Verificado"}),l.jsx(vn,{className:"w-3 h-3 ml-1"})]}):null,Nre=()=>{const{user:e,userRole:t,userProfile:n}=Pi(),r=qn.useSupabaseClient(),[i,s]=w.useState(null),[a,o]=w.useState(!0),[c,u]=w.useState(null),f=(n==null?void 0:n.verification_status)==="verified";return w.useEffect(()=>{(async()=>{if(!e){o(!1);return}o(!0),u(null);try{const{data:g,error:m}=await r.rpc("get_client_dashboard_stats",{p_user_id:e.id});if(m)throw m;const x=[{title:"Inspecciones Activas",value:g.active_inspections,icon:eV,color:"text-blue-400",link:"/dashboard/inspections"},{title:"Legalizaciones en Proceso",value:g.processing_legalizations,icon:Rk,color:"text-green-400",link:"/dashboard/legalization"},{title:"Documentos Pendientes",value:g.pending_documents,icon:mo,color:"text-yellow-400",link:"/dashboard/documents"},{title:"Mensajes Nuevos",value:g.new_messages,icon:Ox,color:"text-purple-400",link:"/dashboard/chat"}];s(x)}catch(g){console.error("Error fetching dashboard stats:",g),u("No se pudieron cargar las estadísticas.")}finally{o(!1)}})()},[e]),a?l.jsxs("div",{className:"flex justify-center items-center h-64",children:[l.jsx(jn,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("p",{className:"ml-4 text-muted-foreground",children:"Cargando tu panel..."})]}):t&&t!=="client"?l.jsx("p",{className:"text-destructive",children:"Acceso no autorizado."}):c?l.jsx("p",{className:"text-destructive",children:c}):l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Panel del Cliente"}),f&&l.jsx(ZR,{isVerified:!0})]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Bienvenido a tu panel personal de Opulent Auto Gallery."})]}),l.jsx("div",{className:"w-full",children:l.jsx(Cre,{})}),i&&l.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:i.map((h,g)=>l.jsx(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+g*.1},children:l.jsxs(ct,{className:"bg-card border-border shadow-md hover:shadow-lg transition-shadow h-full flex flex-col justify-between",children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:h.title}),l.jsx(h.icon,{className:`h-4 w-4 ${h.color}`})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold text-foreground",children:h.value}),h.link&&l.jsx(Ue,{variant:"link",size:"sm",className:"p-0 h-auto text-primary text-xs mt-2",asChild:!0,children:l.jsx(bs,{to:h.link,children:"Ver detalles"})})]})]})},g))}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{className:"text-xl text-foreground",children:"Mis Solicitudes Recientes"}),l.jsx(pn,{className:"text-muted-foreground",children:"Últimas actualizaciones de tus servicios."})]}),l.jsxs(ut,{children:[l.jsx("p",{className:"text-muted-foreground italic",children:"(Próximamente verás aquí un resumen de tus actividades más recientes)"}),l.jsx(Ue,{className:"mt-4",asChild:!0,children:l.jsx(bs,{to:"/dashboard/inspections",children:"Solicitar Nueva Inspección"})})]})]})]})};function In(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function za(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ms(e,t){const n=In(e);return isNaN(t)?za(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function hl(e,t){const n=In(e);if(isNaN(t))return za(e,NaN);if(!t)return n;const r=n.getDate(),i=za(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const J4=6048e5,jre=864e5;let Pre={};function yv(){return Pre}function hc(e,t){var o,c,u,f;const n=yv(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=In(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Dh(e){return hc(e,{weekStartsOn:1})}function QR(e){const t=In(e),n=t.getFullYear(),r=za(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Dh(r),s=za(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Dh(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Dm(e){const t=In(e);return t.setHours(0,0,0,0),t}function ix(e){const t=In(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function rc(e,t){const n=Dm(e),r=Dm(t),i=+n-ix(n),s=+r-ix(r);return Math.round((i-s)/jre)}function Are(e){const t=QR(e),n=za(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dh(n)}function _3(e,t){const n=t*7;return Ms(e,n)}function kre(e,t){return hl(e,t*12)}function Ere(e){let t;return e.forEach(function(n){const r=In(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function $re(e){let t;return e.forEach(n=>{const r=In(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function ca(e,t){const n=Dm(e),r=Dm(t);return+n==+r}function Z4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rre(e){if(!Z4(e)&&typeof e!="number")return!1;const t=In(e);return!isNaN(Number(t))}function O0(e,t){const n=In(e),r=In(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Tre(e,t,n){const r=hc(e,n),i=hc(t,n),s=+r-ix(r),a=+i-ix(i);return Math.round((s-a)/J4)}function Q4(e){const t=In(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function da(e){const t=In(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eT(e){const t=In(e),n=za(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function e_(e,t){var o,c,u,f;const n=yv(),r=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=In(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function tT(e){return e_(e,{weekStartsOn:1})}const Lre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dre=(e,t,n)=>{let r;const i=Lre[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ym(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ore={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ire={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fre={date:ym({formats:Ore,defaultWidth:"full"}),time:ym({formats:Ire,defaultWidth:"full"}),dateTime:ym({formats:Mre,defaultWidth:"full"})},Bre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vre=(e,t,n,r)=>Bre[e];function Ql(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const zre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ure={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kre=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yre={ordinalNumber:Kre,era:Ql({values:zre,defaultWidth:"wide"}),quarter:Ql({values:Ure,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ql({values:Wre,defaultWidth:"wide"}),day:Ql({values:Hre,defaultWidth:"wide"}),dayPeriod:Ql({values:qre,defaultWidth:"wide",formattingValues:Gre,defaultFormattingWidth:"wide"})};function ec(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?Jre(o,h=>h.test(a)):Xre(o,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function Xre(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Jre(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function nT(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(i.length);return{value:a,rest:o}}}const Zre=/^(\d+)(th|st|nd|rd)?/i,Qre=/\d+/i,eie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tie={any:[/^b/i,/^(a|c)/i]},nie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rie={any:[/1/i,/2/i,/3/i,/4/i]},iie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uie={ordinalNumber:nT({matchPattern:Zre,parsePattern:Qre,valueCallback:e=>parseInt(e,10)}),era:ec({matchPatterns:eie,defaultMatchWidth:"wide",parsePatterns:tie,defaultParseWidth:"any"}),quarter:ec({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:rie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ec({matchPatterns:iie,defaultMatchWidth:"wide",parsePatterns:sie,defaultParseWidth:"any"}),day:ec({matchPatterns:aie,defaultMatchWidth:"wide",parsePatterns:oie,defaultParseWidth:"any"}),dayPeriod:ec({matchPatterns:lie,defaultMatchWidth:"any",parsePatterns:cie,defaultParseWidth:"any"})},rT={code:"en-US",formatDistance:Dre,formatLong:Fre,formatRelative:Vre,localize:Yre,match:uie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function die(e){const t=In(e);return rc(t,eT(t))+1}function iT(e){const t=In(e),n=+Dh(t)-+Are(t);return Math.round(n/J4)+1}function sT(e,t){var f,h,g,m;const n=In(e),r=n.getFullYear(),i=yv(),s=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(g=i.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,a=za(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=hc(a,t),c=za(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=hc(c,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function fie(e,t){var o,c,u,f;const n=yv(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=sT(e,t),s=za(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),hc(s,t)}function aT(e,t){const n=In(e),r=+hc(n,t)-+fie(n,t);return Math.round(r/J4)+1}function er(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Cd={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return er(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):er(n+1,2)},d(e,t){return er(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return er(e.getHours()%12||12,t.length)},H(e,t){return er(e.getHours(),t.length)},m(e,t){return er(e.getMinutes(),t.length)},s(e,t){return er(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return er(i,t.length)}},Fp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Cd.y(e,t)},Y:function(e,t,n,r){const i=sT(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return er(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):er(s,t.length)},R:function(e,t){const n=QR(e);return er(n,t.length)},u:function(e,t){const n=e.getFullYear();return er(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return er(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return er(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Cd.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return er(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=aT(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):er(i,t.length)},I:function(e,t,n){const r=iT(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):er(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Cd.d(e,t)},D:function(e,t,n){const r=die(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):er(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return er(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return er(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return er(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Fp.noon:r===0?i=Fp.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Fp.evening:r>=12?i=Fp.afternoon:r>=4?i=Fp.morning:i=Fp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Cd.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Cd.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Cd.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Cd.s(e,t)},S:function(e,t){return Cd.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return RP(r);case"XXXX":case"XX":return uh(r);case"XXXXX":case"XXX":default:return uh(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return RP(r);case"xxxx":case"xx":return uh(r);case"xxxxx":case"xxx":default:return uh(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$P(r,":");case"OOOO":default:return"GMT"+uh(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$P(r,":");case"zzzz":default:return"GMT"+uh(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return er(r,t.length)},T:function(e,t,n){const r=e.getTime();return er(r,t.length)}};function $P(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+er(s,2)}function RP(e,t){return e%60===0?(e>0?"-":"+")+er(Math.abs(e)/60,2):uh(e,t)}function uh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=er(Math.trunc(r/60),2),s=er(r%60,2);return n+i+t+s}const TP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hie=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return TP(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",TP(r,t)).replace("{{time}}",oT(i,t))},pie={p:oT,P:hie},mie=/^D+$/,gie=/^Y+$/,vie=["D","DD","YY","YYYY"];function yie(e){return mie.test(e)}function xie(e){return gie.test(e)}function bie(e,t,n){const r=wie(e,t,n);if(console.warn(r),vie.includes(e))throw new RangeError(r)}function wie(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cie=/^'([^]*?)'?$/,Nie=/''/g,jie=/[a-zA-Z]/;function Hr(e,t,n){var f,h,g,m,x,y,S,_;const r=yv(),i=(n==null?void 0:n.locale)??r.locale??rT,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((_=(S=r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,o=In(e);if(!Rre(o))throw new RangeError("Invalid time value");let c=t.match(_ie).map(C=>{const P=C[0];if(P==="p"||P==="P"){const A=pie[P];return A(C,i.formatLong)}return C}).join("").match(Sie).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const P=C[0];if(P==="'")return{isToken:!1,value:Pie(C)};if(EP[P])return{isToken:!0,value:C};if(P.match(jie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(C=>{if(!C.isToken)return C.value;const P=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xie(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&yie(P))&&bie(P,t,String(e));const A=EP[P[0]];return A(o,P,i.localize,u)}).join("")}function Pie(e){const t=e.match(Cie);return t?t[1].replace(Nie,"'"):e}function Aie(e){const t=In(e),n=t.getFullYear(),r=t.getMonth(),i=za(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function kie(e){return Math.trunc(+In(e)/1e3)}function Eie(e){const t=In(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function $ie(e,t){return Tre(Eie(e),da(e),t)+1}function C3(e,t){const n=In(e),r=In(t);return n.getTime()>r.getTime()}function lT(e,t){const n=In(e),r=In(t);return+n<+r}function t_(e,t){const n=In(e),r=In(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Rie(e,t){const n=In(e),r=In(t);return n.getFullYear()===r.getFullYear()}function o0(e,t){return Ms(e,-t)}function Cw(e,t){const n=In(e),r=n.getFullYear(),i=n.getDate(),s=za(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const a=Aie(s);return n.setMonth(t,Math.min(i,a)),n}function LP(e,t){const n=In(e);return isNaN(+n)?za(e,NaN):(n.setFullYear(t),n)}const Tie={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Lie=(e,t,n)=>{let r;const i=Tie[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Die={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Oie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Iie={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mie={date:ym({formats:Die,defaultWidth:"full"}),time:ym({formats:Oie,defaultWidth:"full"}),dateTime:ym({formats:Iie,defaultWidth:"full"})},Fie={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Bie={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Vie=(e,t,n,r)=>t.getHours()!==1?Bie[e]:Fie[e],zie={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Uie={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Wie={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Hie={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},qie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Gie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Kie=(e,t)=>Number(e)+"º",Yie={ordinalNumber:Kie,era:Ql({values:zie,defaultWidth:"wide"}),quarter:Ql({values:Uie,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ql({values:Wie,defaultWidth:"wide"}),day:Ql({values:Hie,defaultWidth:"wide"}),dayPeriod:Ql({values:qie,defaultWidth:"wide",formattingValues:Gie,defaultFormattingWidth:"wide"})},Xie=/^(\d+)(º)?/i,Jie=/\d+/i,Zie={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Qie={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},ese={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},tse={any:[/1/i,/2/i,/3/i,/4/i]},nse={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},rse={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},ise={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},sse={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ase={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ose={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},lse={ordinalNumber:nT({matchPattern:Xie,parsePattern:Jie,valueCallback:function(e){return parseInt(e,10)}}),era:ec({matchPatterns:Zie,defaultMatchWidth:"wide",parsePatterns:Qie,defaultParseWidth:"any"}),quarter:ec({matchPatterns:ese,defaultMatchWidth:"wide",parsePatterns:tse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ec({matchPatterns:nse,defaultMatchWidth:"wide",parsePatterns:rse,defaultParseWidth:"any"}),day:ec({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:sse,defaultParseWidth:"any"}),dayPeriod:ec({matchPatterns:ase,defaultMatchWidth:"any",parsePatterns:ose,defaultParseWidth:"any"})},Fa={code:"es",formatDistance:Lie,formatLong:Mie,formatRelative:Vie,localize:Yie,match:lse,options:{weekStartsOn:1,firstWeekContainsDate:1}},_u=w.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));_u.displayName="Textarea";function sx(e,[t,n]){return Math.min(n,Math.max(t,e))}var cse=w.createContext(void 0);function Ym(e){const t=w.useContext(cse);return e||t||"ltr"}var use=[" ","Enter","ArrowUp","ArrowDown"],dse=[" ","Enter"],Oh="Select",[x2,b2,fse]=J0(Oh),[Xm,oxe]=Ui(Oh,[fse,pf]),w2=pf(),[hse,vf]=Xm(Oh),[pse,mse]=Xm(Oh),cT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:g,required:m,form:x}=e,y=w2(t),[S,_]=w.useState(null),[C,P]=w.useState(null),[A,R]=w.useState(!1),D=Ym(u),[T,M]=go({prop:r,defaultProp:i??!1,onChange:s,caller:Oh}),[U,ee]=go({prop:a,defaultProp:o,onChange:c,caller:Oh}),F=w.useRef(null),O=S?x||!!S.closest("form"):!0,[H,V]=w.useState(new Set),ae=Array.from(H).map(J=>J.props.value).join(";");return l.jsx(GS,{...y,children:l.jsxs(hse,{required:m,scope:t,trigger:S,onTriggerChange:_,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:A,onValueNodeHasChildrenChange:R,contentId:ol(),value:U,onValueChange:ee,open:T,onOpenChange:M,dir:D,triggerPointerDownPosRef:F,disabled:g,children:[l.jsx(x2.Provider,{scope:t,children:l.jsx(pse,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(J=>{V(W=>new Set(W).add(J))},[]),onNativeOptionRemove:w.useCallback(J=>{V(W=>{const z=new Set(W);return z.delete(J),z})},[]),children:n})}),O?l.jsxs($T,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:h,value:U,onChange:J=>ee(J.target.value),disabled:g,form:x,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(H)]},ae):null]})})};cT.displayName=Oh;var uT="SelectTrigger",dT=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=w2(n),a=vf(uT,n),o=a.disabled||r,c=tn(t,a.onTriggerChange),u=b2(n),f=w.useRef("touch"),[h,g,m]=TT(y=>{const S=u().filter(P=>!P.disabled),_=S.find(P=>P.value===a.value),C=LT(S,y,_);C!==void 0&&a.onValueChange(C.value)}),x=y=>{o||(a.onOpenChange(!0),m()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(X0,{asChild:!0,...s,children:l.jsx(jt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":RT(a.value)?"":void 0,...i,ref:c,onClick:rt(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:rt(i.onPointerDown,y=>{f.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:rt(i.onKeyDown,y=>{const S=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(S&&y.key===" ")&&use.includes(y.key)&&(x(),y.preventDefault())})})})});dT.displayName=uT;var fT="SelectValue",hT=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=vf(fT,n),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,h=tn(t,c.onValueNodeChange);return mi(()=>{u(f)},[u,f]),l.jsx(jt.span,{...o,ref:h,style:{pointerEvents:"none"},children:RT(c.value)?l.jsx(l.Fragment,{children:a}):s})});hT.displayName=fT;var gse="SelectIcon",pT=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(jt.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});pT.displayName=gse;var vse="SelectPortal",mT=e=>l.jsx(Hm,{asChild:!0,...e});mT.displayName=vse;var Ih="SelectContent",gT=w.forwardRef((e,t)=>{const n=vf(Ih,e.__scopeSelect),[r,i]=w.useState();if(mi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?zh.createPortal(l.jsx(vT,{scope:e.__scopeSelect,children:l.jsx(x2.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(yT,{...e,ref:t})});gT.displayName=Ih;var el=10,[vT,yf]=Xm(Ih),yse="SelectContentImpl",xse=Zd("SelectContent.RemoveScroll"),yT=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:S,..._}=e,C=vf(Ih,n),[P,A]=w.useState(null),[R,D]=w.useState(null),T=tn(t,he=>A(he)),[M,U]=w.useState(null),[ee,F]=w.useState(null),O=b2(n),[H,V]=w.useState(!1),ae=w.useRef(!1);w.useEffect(()=>{if(P)return c2(P)},[P]),o2();const J=w.useCallback(he=>{const[ge,...be]=O().map(qe=>qe.ref.current),[Le]=be.slice(-1),$e=document.activeElement;for(const qe of he)if(qe===$e||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ge&&R&&(R.scrollTop=0),qe===Le&&R&&(R.scrollTop=R.scrollHeight),qe==null||qe.focus(),document.activeElement!==$e))return},[O,R]),W=w.useCallback(()=>J([M,P]),[J,M,P]);w.useEffect(()=>{H&&W()},[H,W]);const{onOpenChange:z,triggerPointerDownPosRef:ne}=C;w.useEffect(()=>{if(P){let he={x:0,y:0};const ge=Le=>{var $e,qe;he={x:Math.abs(Math.round(Le.pageX)-((($e=ne.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((qe=ne.current)==null?void 0:qe.y)??0))}},be=Le=>{he.x<=10&&he.y<=10?Le.preventDefault():P.contains(Le.target)||z(!1),document.removeEventListener("pointermove",ge),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",be,{capture:!0})}}},[P,z,ne]),w.useEffect(()=>{const he=()=>z(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[z]);const[se,X]=TT(he=>{const ge=O().filter($e=>!$e.disabled),be=ge.find($e=>$e.ref.current===document.activeElement),Le=LT(ge,he,be);Le&&setTimeout(()=>Le.ref.current.focus())}),B=w.useCallback((he,ge,be)=>{const Le=!ae.current&&!be;(C.value!==void 0&&C.value===ge||Le)&&(U(he),Le&&(ae.current=!0))},[C.value]),Q=w.useCallback(()=>P==null?void 0:P.focus(),[P]),re=w.useCallback((he,ge,be)=>{const Le=!ae.current&&!be;(C.value!==void 0&&C.value===ge||Le)&&F(he)},[C.value]),ce=r==="popper"?N3:xT,ue=ce===N3?{side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:S}:{};return l.jsx(vT,{scope:n,content:P,viewport:R,onViewportChange:D,itemRefCallback:B,selectedItem:M,onItemLeave:Q,itemTextRefCallback:re,focusSelectedItem:W,selectedItemText:ee,position:r,isPositioned:H,searchRef:se,children:l.jsx(av,{as:xse,allowPinchZoom:!0,children:l.jsx(sv,{asChild:!0,trapped:C.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:rt(i,he=>{var ge;(ge=C.trigger)==null||ge.focus({preventScroll:!0}),he.preventDefault()}),children:l.jsx(Wh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:l.jsx(ce,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:he=>he.preventDefault(),..._,...ue,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:rt(_.onKeyDown,he=>{const ge=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!ge&&he.key.length===1&&X(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Le=O().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const $e=he.target,qe=Le.indexOf($e);Le=Le.slice(qe+1)}setTimeout(()=>J(Le)),he.preventDefault()}})})})})})})});yT.displayName=yse;var bse="SelectItemAlignedPosition",xT=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=vf(Ih,n),a=yf(Ih,n),[o,c]=w.useState(null),[u,f]=w.useState(null),h=tn(t,T=>f(T)),g=b2(n),m=w.useRef(!1),x=w.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:_,focusSelectedItem:C}=a,P=w.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&y&&S&&_){const T=s.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),ee=_.getBoundingClientRect();if(s.dir!=="rtl"){const $e=ee.left-M.left,qe=U.left-$e,Qe=T.left-qe,yt=T.width+Qe,De=Math.max(yt,M.width),fe=window.innerWidth-el,Dt=sx(qe,[el,Math.max(el,fe-De)]);o.style.minWidth=yt+"px",o.style.left=Dt+"px"}else{const $e=M.right-ee.right,qe=window.innerWidth-U.right-$e,Qe=window.innerWidth-T.right-qe,yt=T.width+Qe,De=Math.max(yt,M.width),fe=window.innerWidth-el,Dt=sx(qe,[el,Math.max(el,fe-De)]);o.style.minWidth=yt+"px",o.style.right=Dt+"px"}const F=g(),O=window.innerHeight-el*2,H=y.scrollHeight,V=window.getComputedStyle(u),ae=parseInt(V.borderTopWidth,10),J=parseInt(V.paddingTop,10),W=parseInt(V.borderBottomWidth,10),z=parseInt(V.paddingBottom,10),ne=ae+J+H+z+W,se=Math.min(S.offsetHeight*5,ne),X=window.getComputedStyle(y),B=parseInt(X.paddingTop,10),Q=parseInt(X.paddingBottom,10),re=T.top+T.height/2-el,ce=O-re,ue=S.offsetHeight/2,he=S.offsetTop+ue,ge=ae+J+he,be=ne-ge;if(ge<=re){const $e=F.length>0&&S===F[F.length-1].ref.current;o.style.bottom="0px";const qe=u.clientHeight-y.offsetTop-y.offsetHeight,Qe=Math.max(ce,ue+($e?Q:0)+qe+W),yt=ge+Qe;o.style.height=yt+"px"}else{const $e=F.length>0&&S===F[0].ref.current;o.style.top="0px";const Qe=Math.max(re,ae+y.offsetTop+($e?B:0)+ue)+be;o.style.height=Qe+"px",y.scrollTop=ge-re+y.offsetTop}o.style.margin=`${el}px 0`,o.style.minHeight=se+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,s.trigger,s.valueNode,o,u,y,S,_,s.dir,r]);mi(()=>P(),[P]);const[A,R]=w.useState();mi(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const D=w.useCallback(T=>{T&&x.current===!0&&(P(),C==null||C(),x.current=!1)},[P,C]);return l.jsx(Sse,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(jt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});xT.displayName=bse;var wse="SelectPopperPosition",N3=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=el,...s}=e,a=w2(n);return l.jsx(zx,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});N3.displayName=wse;var[Sse,n_]=Xm(Ih,{}),j3="SelectViewport",bT=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=yf(j3,n),a=n_(j3,n),o=tn(t,s.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(x2.Slot,{scope:n,children:l.jsx(jt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:rt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&h){const m=Math.abs(c.current-f.scrollTop);if(m>0){const x=window.innerHeight-el*2,y=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),_=Math.max(y,S);if(_<x){const C=_+m,P=Math.min(x,C),A=C-P;h.style.height=P+"px",h.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});bT.displayName=j3;var wT="SelectGroup",[_se,Cse]=Xm(wT),Nse=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ol();return l.jsx(_se,{scope:n,id:i,children:l.jsx(jt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Nse.displayName=wT;var ST="SelectLabel",_T=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Cse(ST,n);return l.jsx(jt.div,{id:i.id,...r,ref:t})});_T.displayName=ST;var ax="SelectItem",[jse,CT]=Xm(ax),NT=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=vf(ax,n),c=yf(ax,n),u=o.value===r,[f,h]=w.useState(s??""),[g,m]=w.useState(!1),x=tn(t,C=>{var P;return(P=c.itemRefCallback)==null?void 0:P.call(c,C,r,i)}),y=ol(),S=w.useRef("touch"),_=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(jse,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:w.useCallback(C=>{h(P=>P||((C==null?void 0:C.textContent)??"").trim())},[]),children:l.jsx(x2.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:l.jsx(jt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:rt(a.onFocus,()=>m(!0)),onBlur:rt(a.onBlur,()=>m(!1)),onClick:rt(a.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:rt(a.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:rt(a.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:rt(a.onPointerMove,C=>{var P;S.current=C.pointerType,i?(P=c.onItemLeave)==null||P.call(c):S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(a.onPointerLeave,C=>{var P;C.currentTarget===document.activeElement&&((P=c.onItemLeave)==null||P.call(c))}),onKeyDown:rt(a.onKeyDown,C=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&C.key===" "||(dse.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});NT.displayName=ax;var Hg="SelectItemText",jT=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=vf(Hg,n),o=yf(Hg,n),c=CT(Hg,n),u=mse(Hg,n),[f,h]=w.useState(null),g=tn(t,_=>h(_),c.onItemTextChange,_=>{var C;return(C=o.itemTextRefCallback)==null?void 0:C.call(o,_,c.value,c.disabled)}),m=f==null?void 0:f.textContent,x=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return mi(()=>(y(x),()=>S(x)),[y,S,x]),l.jsxs(l.Fragment,{children:[l.jsx(jt.span,{id:c.textId,...s,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zh.createPortal(s.children,a.valueNode):null]})});jT.displayName=Hg;var PT="SelectItemIndicator",AT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return CT(PT,n).isSelected?l.jsx(jt.span,{"aria-hidden":!0,...r,ref:t}):null});AT.displayName=PT;var P3="SelectScrollUpButton",Pse=w.forwardRef((e,t)=>{const n=yf(P3,e.__scopeSelect),r=n_(P3,e.__scopeSelect),[i,s]=w.useState(!1),a=tn(t,r.onScrollButtonChange);return mi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(kT,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Pse.displayName=P3;var A3="SelectScrollDownButton",Ase=w.forwardRef((e,t)=>{const n=yf(A3,e.__scopeSelect),r=n_(A3,e.__scopeSelect),[i,s]=w.useState(!1),a=tn(t,r.onScrollButtonChange);return mi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(kT,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Ase.displayName=A3;var kT=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=yf("SelectScrollButton",n),a=w.useRef(null),o=b2(n),c=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),mi(()=>{var f;const u=o().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),l.jsx(jt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:rt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:rt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:rt(i.onPointerLeave,()=>{c()})})}),kse="SelectSeparator",ET=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(jt.div,{"aria-hidden":!0,...r,ref:t})});ET.displayName=kse;var k3="SelectArrow",Ese=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=w2(n),s=vf(k3,n),a=yf(k3,n);return s.open&&a.position==="popper"?l.jsx(Ux,{...i,...r,ref:t}):null});Ese.displayName=k3;var $se="SelectBubbleInput",$T=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=w.useRef(null),s=tn(r,i),a=gv(t);return w.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&f){const h=new Event("change",{bubbles:!0});f.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(jt.select,{...n,style:{...NE,...n.style},ref:s,defaultValue:t})});$T.displayName=$se;function RT(e){return e===""||e===void 0}function TT(e){const t=Fs(e),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function LT(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Rse(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Rse(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Tse=cT,DT=dT,Lse=hT,Dse=pT,Ose=mT,OT=gT,Ise=bT,IT=_T,MT=NT,Mse=jT,Fse=AT,FT=ET;const Pr=Tse,Ar=Lse,dr=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(DT,{ref:r,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,l.jsx(Dse,{asChild:!0,children:l.jsx(oV,{className:"h-4 w-4 opacity-50"})})]}));dr.displayName=DT.displayName;const fr=w.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(Ose,{children:l.jsx(OT,{ref:i,className:Je("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:l.jsx(Ise,{className:Je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));fr.displayName=OT.displayName;const Bse=w.forwardRef(({className:e,...t},n)=>l.jsx(IT,{ref:n,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Bse.displayName=IT.displayName;const nt=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(MT,{ref:r,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Fse,{children:l.jsx(Tx,{className:"h-4 w-4"})})}),l.jsx(Mse,{children:t})]}));nt.displayName=MT.displayName;const Vse=w.forwardRef(({className:e,...t},n)=>l.jsx(FT,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));Vse.displayName=FT.displayName;var Nw="rovingFocusGroup.onEntryFocus",zse={bubbles:!1,cancelable:!0},xv="RovingFocusGroup",[E3,BT,Use]=J0(xv),[Wse,Jm]=Ui(xv,[Use]),[Hse,qse]=Wse(xv),VT=w.forwardRef((e,t)=>l.jsx(E3.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(E3.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Gse,{...e,ref:t})})}));VT.displayName=xv;var Gse=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,g=w.useRef(null),m=tn(t,g),x=Ym(s),[y,S]=go({prop:a,defaultProp:o??null,onChange:c,caller:xv}),[_,C]=w.useState(!1),P=Fs(u),A=BT(n),R=w.useRef(!1),[D,T]=w.useState(0);return w.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(Nw,P),()=>M.removeEventListener(Nw,P)},[P]),l.jsx(Hse,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(M=>S(M),[S]),onItemShiftTab:w.useCallback(()=>C(!0),[]),onFocusableItemAdd:w.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:w.useCallback(()=>T(M=>M-1),[]),children:l.jsx(jt.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:rt(e.onMouseDown,()=>{R.current=!0}),onFocus:rt(e.onFocus,M=>{const U=!R.current;if(M.target===M.currentTarget&&U&&!_){const ee=new CustomEvent(Nw,zse);if(M.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const F=A().filter(J=>J.focusable),O=F.find(J=>J.active),H=F.find(J=>J.id===y),ae=[O,H,...F].filter(Boolean).map(J=>J.ref.current);WT(ae,f)}}R.current=!1}),onBlur:rt(e.onBlur,()=>C(!1))})})}),zT="RovingFocusGroupItem",UT=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=e,c=ol(),u=s||c,f=qse(zT,n),h=f.currentTabStopId===u,g=BT(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:y}=f;return w.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),l.jsx(E3.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(jt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:rt(e.onMouseDown,S=>{r?f.onItemFocus(u):S.preventDefault()}),onFocus:rt(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:rt(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=Xse(S,f.orientation,f.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let P=g().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")P.reverse();else if(_==="prev"||_==="next"){_==="prev"&&P.reverse();const A=P.indexOf(S.currentTarget);P=f.loop?Jse(P,A+1):P.slice(A+1)}setTimeout(()=>WT(P))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});UT.displayName=zT;var Kse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xse(e,t,n){const r=Yse(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Kse[r]}function WT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Jse(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var r_=VT,i_=UT,s_="Radio",[Zse,HT]=Ui(s_),[Qse,eae]=Zse(s_),qT=w.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:c,form:u,...f}=e,[h,g]=w.useState(null),m=tn(t,S=>g(S)),x=w.useRef(!1),y=h?u||!!h.closest("form"):!0;return l.jsxs(Qse,{scope:n,checked:i,disabled:a,children:[l.jsx(jt.button,{type:"button",role:"radio","aria-checked":i,"data-state":XT(i),"data-disabled":a?"":void 0,disabled:a,value:o,...f,ref:m,onClick:rt(e.onClick,S=>{i||c==null||c(),y&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),y&&l.jsx(YT,{control:h,bubbles:!x.current,name:r,value:o,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});qT.displayName=s_;var GT="RadioIndicator",KT=w.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=eae(GT,n);return l.jsx(Vs,{present:r||s.checked,children:l.jsx(jt.span,{"data-state":XT(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});KT.displayName=GT;var tae="RadioBubbleInput",YT=w.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=w.useRef(null),o=tn(a,s),c=gv(n),u=Y0(t);return w.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const x=new Event("click",{bubbles:r});m.call(f,n),f.dispatchEvent(x)}},[c,n,r]),l.jsx(jt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});YT.displayName=tae;function XT(e){return e?"checked":"unchecked"}var nae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S2="RadioGroup",[rae,lxe]=Ui(S2,[Jm,HT]),JT=Jm(),ZT=HT(),[iae,sae]=rae(S2),QT=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:c,dir:u,loop:f=!0,onValueChange:h,...g}=e,m=JT(n),x=Ym(u),[y,S]=go({prop:s,defaultProp:i??null,onChange:h,caller:S2});return l.jsx(iae,{scope:n,name:r,required:a,disabled:o,value:y,onValueChange:S,children:l.jsx(r_,{asChild:!0,...m,orientation:c,dir:x,loop:f,children:l.jsx(jt.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":o?"":void 0,dir:x,...g,ref:t})})})});QT.displayName=S2;var eL="RadioGroupItem",tL=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=sae(eL,n),a=s.disabled||r,o=JT(n),c=ZT(n),u=w.useRef(null),f=tn(t,u),h=s.value===i.value,g=w.useRef(!1);return w.useEffect(()=>{const m=y=>{nae.includes(y.key)&&(g.current=!0)},x=()=>g.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),l.jsx(i_,{asChild:!0,...o,focusable:!a,active:h,children:l.jsx(qT,{disabled:a,required:s.required,checked:h,...c,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:rt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:rt(i.onFocus,()=>{var m;g.current&&((m=u.current)==null||m.click())})})})});tL.displayName=eL;var aae="RadioGroupIndicator",nL=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=ZT(n);return l.jsx(KT,{...i,...r,ref:t})});nL.displayName=aae;var rL=QT,iL=tL,oae=nL;const _2=w.forwardRef(({className:e,...t},n)=>l.jsx(rL,{className:Je("grid gap-2",e),...t,ref:n}));_2.displayName=rL.displayName;const Kd=w.forwardRef(({className:e,...t},n)=>l.jsx(iL,{ref:n,className:Je("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(oae,{className:"flex items-center justify-center",children:l.jsx(Ek,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Kd.displayName=iL.displayName;var C2="Popover",[sL,cxe]=Ui(C2,[pf]),bv=pf(),[lae,xf]=sL(C2),aL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,o=bv(t),c=w.useRef(null),[u,f]=w.useState(!1),[h,g]=go({prop:r,defaultProp:i??!1,onChange:s,caller:C2});return l.jsx(GS,{...o,children:l.jsx(lae,{scope:t,contentId:ol(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(m=>!m),[g]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:a,children:n})})};aL.displayName=C2;var oL="PopoverAnchor",cae=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=xf(oL,n),s=bv(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return w.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(X0,{...s,...r,ref:t})});cae.displayName=oL;var lL="PopoverTrigger",cL=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=xf(lL,n),s=bv(n),a=tn(t,i.triggerRef),o=l.jsx(jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pL(i.open),...r,ref:a,onClick:rt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(X0,{asChild:!0,...s,children:o})});cL.displayName=lL;var a_="PopoverPortal",[uae,dae]=sL(a_,{forceMount:void 0}),uL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=xf(a_,t);return l.jsx(uae,{scope:t,forceMount:n,children:l.jsx(Vs,{present:n||s.open,children:l.jsx(Hm,{asChild:!0,container:i,children:r})})})};uL.displayName=a_;var Om="PopoverContent",dL=w.forwardRef((e,t)=>{const n=dae(Om,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=xf(Om,e.__scopePopover);return l.jsx(Vs,{present:r||s.open,children:s.modal?l.jsx(hae,{...i,ref:t}):l.jsx(pae,{...i,ref:t})})});dL.displayName=Om;var fae=Zd("PopoverContent.RemoveScroll"),hae=w.forwardRef((e,t)=>{const n=xf(Om,e.__scopePopover),r=w.useRef(null),i=tn(t,r),s=w.useRef(!1);return w.useEffect(()=>{const a=r.current;if(a)return c2(a)},[]),l.jsx(av,{as:fae,allowPinchZoom:!0,children:l.jsx(fL,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),pae=w.forwardRef((e,t)=>{const n=xf(Om,e.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return l.jsx(fL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),fL=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,g=xf(Om,n),m=bv(n);return o2(),l.jsx(sv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Wh,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(zx,{"data-state":pL(g.open),role:"dialog",id:g.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hL="PopoverClose",mae=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=xf(hL,n);return l.jsx(jt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>i.onOpenChange(!1))})});mae.displayName=hL;var gae="PopoverArrow",vae=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=bv(n);return l.jsx(Ux,{...i,...r,ref:t})});vae.displayName=gae;function pL(e){return e?"open":"closed"}var yae=aL,xae=cL,bae=uL,mL=dL;const N2=yae,j2=xae,wv=w.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>l.jsx(bae,{children:l.jsx(mL,{ref:i,align:t,sideOffset:n,className:Je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wv.displayName=mL.displayName;var en=function(){return en=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},en.apply(this,arguments)};function wae(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function gL(e,t,n){for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Sv(e){return e.mode==="multiple"}function _v(e){return e.mode==="range"}function P2(e){return e.mode==="single"}var Sae={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _ae(e,t){return Hr(e,"LLLL y",t)}function Cae(e,t){return Hr(e,"d",t)}function Nae(e,t){return Hr(e,"LLLL",t)}function jae(e){return"".concat(e)}function Pae(e,t){return Hr(e,"cccccc",t)}function Aae(e,t){return Hr(e,"yyyy",t)}var kae=Object.freeze({__proto__:null,formatCaption:_ae,formatDay:Cae,formatMonthCaption:Nae,formatWeekNumber:jae,formatWeekdayName:Pae,formatYearCaption:Aae}),Eae=function(e,t,n){return Hr(e,"do MMMM (EEEE)",n)},$ae=function(){return"Month: "},Rae=function(){return"Go to next month"},Tae=function(){return"Go to previous month"},Lae=function(e,t){return Hr(e,"cccc",t)},Dae=function(e){return"Week n. ".concat(e)},Oae=function(){return"Year: "},Iae=Object.freeze({__proto__:null,labelDay:Eae,labelMonthDropdown:$ae,labelNext:Rae,labelPrevious:Tae,labelWeekNumber:Dae,labelWeekday:Lae,labelYearDropdown:Oae});function Mae(){var e="buttons",t=Sae,n=rT,r={},i={},s=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:kae,labels:Iae,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function Fae(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return r?s=da(r):t&&(s=new Date(t,0,1)),i?a=Q4(i):n&&(a=new Date(n,11,31)),{fromDate:s?Dm(s):void 0,toDate:a?Dm(a):void 0}}var vL=w.createContext(void 0);function Bae(e){var t,n=e.initialProps,r=Mae(),i=Fae(n),s=i.fromDate,a=i.toDate,o=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var c;(P2(n)||Sv(n)||_v(n))&&(c=n.onSelect);var u=en(en(en({},r),n),{captionLayout:o,classNames:en(en({},r.classNames),n.classNames),components:en({},n.components),formatters:en(en({},r.formatters),n.formatters),fromDate:s,labels:en(en({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:en(en({},r.modifiers),n.modifiers),modifiersClassNames:en(en({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:en(en({},r.styles),n.styles),toDate:a});return l.jsx(vL.Provider,{value:u,children:e.children})}function hr(){var e=w.useContext(vL);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function yL(e){var t=hr(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function Vae(e){return l.jsx("svg",en({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xL(e){var t,n,r=e.onChange,i=e.value,s=e.children,a=e.caption,o=e.className,c=e.style,u=hr(),f=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:Vae;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function zae(e){var t,n=hr(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,f=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var h=[];if(Rie(r,i))for(var g=da(r),m=r.getMonth();m<=i.getMonth();m++)h.push(Cw(g,m));else for(var g=da(new Date),m=0;m<=11;m++)h.push(Cw(g,m));var x=function(S){var _=Number(S.target.value),C=Cw(da(e.displayMonth),_);e.onChange(C)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:xL;return l.jsx(y,{name:"months","aria-label":f(),className:c.dropdown_month,style:s.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:h.map(function(S){return l.jsx("option",{value:S.getMonth(),children:o(S,{locale:a})},S.getMonth())})})}function Uae(e){var t,n=e.displayMonth,r=hr(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,c=r.classNames,u=r.components,f=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,g=[];if(!i)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});for(var m=i.getFullYear(),x=s.getFullYear(),y=m;y<=x;y++)g.push(LP(eT(new Date),y));var S=function(C){var P=LP(da(n),Number(C.target.value));e.onChange(P)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:xL;return l.jsx(_,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:S,value:n.getFullYear(),caption:f(n,{locale:a}),children:g.map(function(C){return l.jsx("option",{value:C.getFullYear(),children:f(C,{locale:a})},C.getFullYear())})})}function Wae(e,t){var n=w.useState(e),r=n[0],i=n[1],s=t===void 0?r:t;return[s,i]}function Hae(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,s=e.toDate,a=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(s&&O0(s,i)<0){var u=-1*(c-1);i=hl(s,u)}return a&&O0(i,a)<0&&(i=a),da(i)}function qae(){var e=hr(),t=Hae(e),n=Wae(t,e.month),r=n[0],i=n[1],s=function(a){var o;if(!e.disableNavigation){var c=da(a);i(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[r,s]}function Gae(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=da(e),s=da(hl(i,r)),a=O0(s,i),o=[],c=0;c<a;c++){var u=hl(i,c);o.push(u)}return n&&(o=o.reverse()),o}function Kae(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=da(e);if(!n)return hl(o,a);var c=O0(n,e);if(!(c<s))return hl(o,a)}}function Yae(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=da(e);if(!n)return hl(o,-a);var c=O0(o,n);if(!(c<=0))return hl(o,-a)}}var bL=w.createContext(void 0);function Xae(e){var t=hr(),n=qae(),r=n[0],i=n[1],s=Gae(r,t),a=Kae(r,t),o=Yae(r,t),c=function(h){return s.some(function(g){return t_(h,g)})},u=function(h,g){c(h)||(g&&lT(h,g)?i(hl(h,1+t.numberOfMonths*-1)):i(h))},f={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:c};return l.jsx(bL.Provider,{value:f,children:e.children})}function Cv(){var e=w.useContext(bL);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function DP(e){var t,n=hr(),r=n.classNames,i=n.styles,s=n.components,a=Cv().goToMonth,o=function(f){a(hl(f,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:yL,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(zae,{onChange:o,displayMonth:e.displayMonth}),l.jsx(Uae,{onChange:o,displayMonth:e.displayMonth})]})}function Jae(e){return l.jsx("svg",en({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Zae(e){return l.jsx("svg",en({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ox=w.forwardRef(function(e,t){var n=hr(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var a=s.join(" "),o=en(en({},i.button_reset),i.button);return e.style&&Object.assign(o,e.style),l.jsx("button",en({},e,{ref:t,type:"button",className:a,style:o}))});function Qae(e){var t,n,r=hr(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,c=r.labels,u=c.labelPrevious,f=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var g=u(e.previousMonth,{locale:s}),m=[a.nav_button,a.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:s}),y=[a.nav_button,a.nav_button_next].join(" "),S=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Zae,_=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:Jae;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(ox,{name:"previous-month","aria-label":g,className:m,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(S,{className:a.nav_icon,style:o.nav_icon}):l.jsx(_,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(ox,{name:"next-month","aria-label":x,className:y,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(_,{className:a.nav_icon,style:o.nav_icon}):l.jsx(S,{className:a.nav_icon,style:o.nav_icon})})]})}function OP(e){var t=hr().numberOfMonths,n=Cv(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(x){return t_(e.displayMonth,x)}),c=o===0,u=o===a.length-1,f=t>1&&(c||!u),h=t>1&&(u||!c),g=function(){r&&s(r)},m=function(){i&&s(i)};return l.jsx(Qae,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:i,previousMonth:r,onPreviousClick:g,onNextClick:m})}function eoe(e){var t,n=hr(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:yL,u;return i?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=l.jsx(DP,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(DP,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(OP,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(OP,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:s.caption,children:u})}function toe(e){var t=hr(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function noe(e,t,n){for(var r=n?Dh(new Date):hc(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=Ms(r,s);i.push(a)}return i}function roe(){var e=hr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=noe(i,s,a);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(f,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:i}),children:o(f,{locale:i})},h)})]})}function ioe(){var e,t=hr(),n=t.classNames,r=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:roe;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(s,{})})}function soe(e){var t=hr(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var o_=w.createContext(void 0);function aoe(e){if(!Sv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(o_.Provider,{value:t,children:e.children})}return l.jsx(ooe,{initialProps:e.initialProps,children:e.children})}function ooe(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,a=function(u,f,h){var g,m;(g=t.onDayClick)===null||g===void 0||g.call(t,u,f,h);var x=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var y=!!(!f.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var S=r?gL([],r):[];if(f.selected){var _=S.findIndex(function(C){return ca(u,C)});S.splice(_,1)}else S.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,S,u,f,h)}}},o={disabled:[]};r&&o.disabled.push(function(u){var f=s&&r.length>s-1,h=r.some(function(g){return ca(g,u)});return!!(f&&!h)});var c={selected:r,onDayClick:a,modifiers:o};return l.jsx(o_.Provider,{value:c,children:n})}function l_(){var e=w.useContext(o_);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function loe(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?ca(i,e)&&ca(r,e)?void 0:ca(i,e)?{from:i,to:void 0}:ca(r,e)?void 0:C3(r,e)?{from:e,to:i}:{from:r,to:e}:i?C3(e,i)?{from:i,to:e}:{from:e,to:i}:r?lT(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var c_=w.createContext(void 0);function coe(e){if(!_v(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(c_.Provider,{value:t,children:e.children})}return l.jsx(uoe,{initialProps:e.initialProps,children:e.children})}function uoe(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,a=i.to,o=t.min,c=t.max,u=function(m,x,y){var S,_;(S=t.onDayClick)===null||S===void 0||S.call(t,m,x,y);var C=loe(m,r);(_=t.onSelect)===null||_===void 0||_.call(t,C,m,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(f.range_start=[s],a?(f.range_end=[a],ca(s,a)||(f.range_middle=[{after:s,before:a}])):f.range_end=[s]):a&&(f.range_start=[a],f.range_end=[a]),o&&(s&&!a&&f.disabled.push({after:o0(s,o-1),before:Ms(s,o-1)}),s&&a&&f.disabled.push({after:s,before:Ms(s,o-1)}),!s&&a&&f.disabled.push({after:o0(a,o-1),before:Ms(a,o-1)})),c){if(s&&!a&&(f.disabled.push({before:Ms(s,-c+1)}),f.disabled.push({after:Ms(s,c-1)})),s&&a){var h=rc(a,s)+1,g=c-h;f.disabled.push({before:o0(s,g)}),f.disabled.push({after:Ms(a,g)})}!s&&a&&(f.disabled.push({before:Ms(a,-c+1)}),f.disabled.push({after:Ms(a,c-1)}))}return l.jsx(c_.Provider,{value:{selected:r,onDayClick:u,modifiers:f},children:n})}function u_(){var e=w.useContext(c_);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function uy(e){return Array.isArray(e)?gL([],e):e!==void 0?[e]:[]}function doe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=uy(i)}),t}var pl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(pl||(pl={}));var foe=pl.Selected,tu=pl.Disabled,hoe=pl.Hidden,poe=pl.Today,jw=pl.RangeEnd,Pw=pl.RangeMiddle,Aw=pl.RangeStart,moe=pl.Outside;function goe(e,t,n){var r,i=(r={},r[foe]=uy(e.selected),r[tu]=uy(e.disabled),r[hoe]=uy(e.hidden),r[poe]=[e.today],r[jw]=[],r[Pw]=[],r[Aw]=[],r[moe]=[],r);return e.fromDate&&i[tu].push({before:e.fromDate}),e.toDate&&i[tu].push({after:e.toDate}),Sv(e)?i[tu]=i[tu].concat(t.modifiers[tu]):_v(e)&&(i[tu]=i[tu].concat(n.modifiers[tu]),i[Aw]=n.modifiers[Aw],i[Pw]=n.modifiers[Pw],i[jw]=n.modifiers[jw]),i}var wL=w.createContext(void 0);function voe(e){var t=hr(),n=l_(),r=u_(),i=goe(t,n,r),s=doe(t.modifiers),a=en(en({},i),s);return l.jsx(wL.Provider,{value:a,children:e.children})}function SL(){var e=w.useContext(wL);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function yoe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function xoe(e){return!!(e&&typeof e=="object"&&"from"in e)}function boe(e){return!!(e&&typeof e=="object"&&"after"in e)}function woe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Soe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function _oe(e,t){var n,r=t.from,i=t.to;if(r&&i){var s=rc(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=rc(e,r)>=0&&rc(i,e)>=0;return a}return i?ca(i,e):r?ca(r,e):!1}function Coe(e){return Z4(e)}function Noe(e){return Array.isArray(e)&&e.every(Z4)}function joe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Coe(n))return ca(e,n);if(Noe(n))return n.includes(e);if(xoe(n))return _oe(e,n);if(Soe(n))return n.dayOfWeek.includes(e.getDay());if(yoe(n)){var r=rc(n.before,e),i=rc(n.after,e),s=r>0,a=i<0,o=C3(n.before,n.after);return o?a&&s:s||a}return boe(n)?rc(e,n.after)>0:woe(n)?rc(n.before,e)>0:typeof n=="function"?n(e):!1})}function d_(e,t,n){var r=Object.keys(t).reduce(function(s,a){var o=t[a];return joe(e,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!t_(e,n)&&(i.outside=!0),i}function Poe(e,t){for(var n=da(e[0]),r=Q4(e[e.length-1]),i,s,a=n;a<=r;){var o=d_(a,t),c=!o.disabled&&!o.hidden;if(!c){a=Ms(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=Ms(a,1)}return s||i}var Aoe=365;function _L(e,t){var n=t.moveBy,r=t.direction,i=t.context,s=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,h=i.locale,g={day:Ms,week:_3,month:hl,year:kre,startOfWeek:function(S){return i.ISOWeek?Dh(S):hc(S,{locale:h,weekStartsOn:c})},endOfWeek:function(S){return i.ISOWeek?tT(S):e_(S,{locale:h,weekStartsOn:c})}},m=g[n](e,r==="after"?1:-1);r==="before"&&u?m=Ere([u,m]):r==="after"&&f&&(m=$re([f,m]));var x=!0;if(s){var y=d_(m,s);x=!y.disabled&&!y.hidden}return x?m:o.count>Aoe?o.lastFocused:_L(m,{moveBy:n,direction:r,context:i,modifiers:s,retry:en(en({},o),{count:o.count+1})})}var CL=w.createContext(void 0);function koe(e){var t=Cv(),n=SL(),r=w.useState(),i=r[0],s=r[1],a=w.useState(),o=a[0],c=a[1],u=Poe(t.displayMonths,n),f=i??(o&&t.isDateDisplayed(o))?o:u,h=function(){c(i),s(void 0)},g=function(S){s(S)},m=hr(),x=function(S,_){if(i){var C=_L(i,{moveBy:S,direction:_,context:m,modifiers:n});ca(i,C)||(t.goToDate(C,i),g(C))}},y={focusedDay:i,focusTarget:f,blur:h,focus:g,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return l.jsx(CL.Provider,{value:y,children:e.children})}function f_(){var e=w.useContext(CL);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Eoe(e,t){var n=SL(),r=d_(e,n,t);return r}var h_=w.createContext(void 0);function $oe(e){if(!P2(e.initialProps)){var t={selected:void 0};return l.jsx(h_.Provider,{value:t,children:e.children})}return l.jsx(Roe,{initialProps:e.initialProps,children:e.children})}function Roe(e){var t=e.initialProps,n=e.children,r=function(s,a,o){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,a,o),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,a,o);return}(f=t.onSelect)===null||f===void 0||f.call(t,s,s,a,o)},i={selected:t.selected,onDayClick:r};return l.jsx(h_.Provider,{value:i,children:n})}function NL(){var e=w.useContext(h_);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Toe(e,t){var n=hr(),r=NL(),i=l_(),s=u_(),a=f_(),o=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,f=a.focusWeekBefore,h=a.blur,g=a.focus,m=a.focusMonthBefore,x=a.focusMonthAfter,y=a.focusYearBefore,S=a.focusYearAfter,_=a.focusStartOfWeek,C=a.focusEndOfWeek,P=function(W){var z,ne,se,X;P2(n)?(z=r.onDayClick)===null||z===void 0||z.call(r,e,t,W):Sv(n)?(ne=i.onDayClick)===null||ne===void 0||ne.call(i,e,t,W):_v(n)?(se=s.onDayClick)===null||se===void 0||se.call(s,e,t,W):(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,W)},A=function(W){var z;g(e),(z=n.onDayFocus)===null||z===void 0||z.call(n,e,t,W)},R=function(W){var z;h(),(z=n.onDayBlur)===null||z===void 0||z.call(n,e,t,W)},D=function(W){var z;(z=n.onDayMouseEnter)===null||z===void 0||z.call(n,e,t,W)},T=function(W){var z;(z=n.onDayMouseLeave)===null||z===void 0||z.call(n,e,t,W)},M=function(W){var z;(z=n.onDayPointerEnter)===null||z===void 0||z.call(n,e,t,W)},U=function(W){var z;(z=n.onDayPointerLeave)===null||z===void 0||z.call(n,e,t,W)},ee=function(W){var z;(z=n.onDayTouchCancel)===null||z===void 0||z.call(n,e,t,W)},F=function(W){var z;(z=n.onDayTouchEnd)===null||z===void 0||z.call(n,e,t,W)},O=function(W){var z;(z=n.onDayTouchMove)===null||z===void 0||z.call(n,e,t,W)},H=function(W){var z;(z=n.onDayTouchStart)===null||z===void 0||z.call(n,e,t,W)},V=function(W){var z;(z=n.onDayKeyUp)===null||z===void 0||z.call(n,e,t,W)},ae=function(W){var z;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),u();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),f();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?y():m();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?S():x();break;case"Home":W.preventDefault(),W.stopPropagation(),_();break;case"End":W.preventDefault(),W.stopPropagation(),C();break}(z=n.onDayKeyDown)===null||z===void 0||z.call(n,e,t,W)},J={onClick:P,onFocus:A,onBlur:R,onKeyDown:ae,onKeyUp:V,onMouseEnter:D,onMouseLeave:T,onPointerEnter:M,onPointerLeave:U,onTouchCancel:ee,onTouchEnd:F,onTouchMove:O,onTouchStart:H};return J}function Loe(){var e=hr(),t=NL(),n=l_(),r=u_(),i=P2(e)?t.selected:Sv(e)?n.selected:_v(e)?r.selected:void 0;return i}function Doe(e){return Object.values(pl).includes(e)}function Ooe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(Doe(r)){var s=e.classNames["day_".concat(r)];s&&n.push(s)}}),n}function Ioe(e,t){var n=en({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=en(en({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function Moe(e,t,n){var r,i,s,a=hr(),o=f_(),c=Eoe(e,t),u=Toe(e,c),f=Loe(),h=!!(a.onDayClick||a.mode!=="default");w.useEffect(function(){var D;c.outside||o.focusedDay&&h&&ca(o.focusedDay,e)&&((D=n.current)===null||D===void 0||D.focus())},[o.focusedDay,e,n,h,c.outside]);var g=Ooe(a,c).join(" "),m=Ioe(a,c),x=!!(c.outside&&!a.showOutsideDays||c.hidden),y=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:soe,S=l.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),_={style:m,className:g,children:S,role:"gridcell"},C=o.focusTarget&&ca(o.focusTarget,e)&&!c.outside,P=o.focusedDay&&ca(o.focusedDay,e),A=en(en(en({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=P||C?0:-1,r)),u),R={isButton:h,isHidden:x,activeModifiers:c,selectedDays:f,buttonProps:A,divProps:_};return R}function Foe(e){var t=w.useRef(null),n=Moe(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(ox,en({name:"day",ref:t},n.buttonProps)):l.jsx("div",en({},n.divProps))}function Boe(e){var t=e.number,n=e.dates,r=hr(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,f=u(Number(t),{locale:o});if(!i)return l.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:f});var h=c(Number(t),{locale:o}),g=function(m){i(t,n,m)};return l.jsx(ox,{name:"week-number","aria-label":h,className:a.weeknumber,style:s.weeknumber,onClick:g,children:f})}function Voe(e){var t,n,r=hr(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:Foe,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:Boe,f;return a&&(f=l.jsx("td",{className:s.cell,style:i.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:s.row,style:i.row,children:[f,e.dates.map(function(h){return l.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},kie(h))})]})}function IP(e,t,n){for(var r=n!=null&&n.ISOWeek?tT(t):e_(t,n),i=n!=null&&n.ISOWeek?Dh(e):hc(e,n),s=rc(r,i),a=[],o=0;o<=s;o++)a.push(Ms(i,o));var c=a.reduce(function(u,f){var h=n!=null&&n.ISOWeek?iT(f):aT(f,n),g=u.find(function(m){return m.weekNumber===h});return g?(g.dates.push(f),u):(u.push({weekNumber:h,dates:[f]}),u)},[]);return c}function zoe(e,t){var n=IP(da(e),Q4(e),t);if(t!=null&&t.useFixedWeeks){var r=$ie(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=_3(s,6-r),o=IP(_3(s,1),a,t);n.push.apply(n,o)}}return n}function Uoe(e){var t,n,r,i=hr(),s=i.locale,a=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,h=i.weekStartsOn,g=i.firstWeekContainsDate,m=i.ISOWeek,x=zoe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:h,firstWeekContainsDate:g}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:ioe,S=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:Voe,_=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:toe;return l.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:x.map(function(C){return l.jsx(S,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),l.jsx(_,{displayMonth:e.displayMonth})]})}function Woe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hoe=Woe()?w.useLayoutEffect:w.useEffect,kw=!1,qoe=0;function MP(){return"react-day-picker-".concat(++qoe)}function Goe(e){var t,n=e??(kw?MP():null),r=w.useState(n),i=r[0],s=r[1];return Hoe(function(){i===null&&s(MP())},[]),w.useEffect(function(){kw===!1&&(kw=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Koe(e){var t,n,r=hr(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,c=Cv().displayMonths,u=Goe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[s.month],g=a.month,m=e.displayIndex===0,x=e.displayIndex===c.length-1,y=!m&&!x;i==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(h.push(s.caption_start),g=en(en({},g),a.caption_start)),x&&(h.push(s.caption_end),g=en(en({},g),a.caption_end)),y&&(h.push(s.caption_between),g=en(en({},g),a.caption_between));var S=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:eoe;return l.jsxs("div",{className:h.join(" "),style:g,children:[l.jsx(S,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Uoe,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Yoe(e){var t=hr(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function Xoe(e){var t,n,r=e.initialProps,i=hr(),s=f_(),a=Cv(),o=w.useState(!1),c=o[0],u=o[1];w.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var h=en(en({},i.styles.root),i.style),g=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var S;return en(en({},x),(S={},S[y]=r[y],S))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Yoe;return l.jsx("div",en({className:f.join(" "),style:h,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:l.jsx(m,{children:a.displayMonths.map(function(x,y){return l.jsx(Koe,{displayIndex:y,displayMonth:x},y)})})}))}function Joe(e){var t=e.children,n=wae(e,["children"]);return l.jsx(Bae,{initialProps:n,children:l.jsx(Xae,{children:l.jsx($oe,{initialProps:n,children:l.jsx(aoe,{initialProps:n,children:l.jsx(coe,{initialProps:n,children:l.jsx(voe,{children:l.jsx(koe,{children:t})})})})})})})}function Zoe(e){return l.jsx(Joe,en({},e,{children:l.jsx(Xoe,{initialProps:e})}))}function Nv({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(Zoe,{showOutsideDays:n,className:Je("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Je($0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Je($0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>l.jsx(RS,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(Lx,{className:"h-4 w-4"})},...r})}Nv.displayName="Calendar";const Qoe=O$,jL=w.createContext({}),nu=({...e})=>l.jsx(jL.Provider,{value:{name:e.name},children:l.jsx(fo,{...e})}),A2=()=>{const e=w.useContext(jL),t=w.useContext(PL),{getFieldState:n,formState:r}=hv(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},PL=w.createContext({}),Ea=w.forwardRef(({className:e,...t},n)=>{const r=w.useId();return l.jsx(PL.Provider,{value:{id:r},children:l.jsx("div",{ref:n,className:Je("space-y-2",e),...t})})});Ea.displayName="FormItem";const $a=w.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=A2();return l.jsx(ht,{ref:n,className:Je(r&&"text-destructive",e),htmlFor:i,...t})});$a.displayName="FormLabel";const Ra=w.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=A2();return l.jsx(Qk,{ref:t,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...e})});Ra.displayName="FormControl";const ele=w.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=A2();return l.jsx("p",{ref:n,id:r,className:Je("text-[0.8rem] text-muted-foreground",e),...t})});ele.displayName="FormDescription";const Gl=w.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:s}=A2(),a=i?String((i==null?void 0:i.message)??""):t;return a?l.jsx("p",{ref:r,id:s,className:Je("text-[0.8rem] font-medium text-destructive",e),...n,children:a}):null});Gl.displayName="FormMessage";const tle=qm("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yd=w.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:Je(tle({variant:t}),e),...n}));Yd.displayName="Alert";const _h=w.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:Je("mb-1 font-medium leading-none tracking-tight",e),...t}));_h.displayName="AlertTitle";const Xd=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Je("text-sm [&_p]:leading-relaxed",e),...t}));Xd.displayName="AlertDescription";const bf=()=>{const[e,t]=w.useState(!1),{toast:n}=Pn(),r=qn.useSupabaseClient(),i=w.useCallback(async(A,R)=>{t(!0);try{const{data:D,error:T}=await r.from(A).insert(R).select().single();if(T)throw T;return{success:!0,data:D}}catch(D){return console.error(`Error creating record in ${A}:`,D),n({variant:"destructive",title:"Error al crear registro",description:D.message}),{success:!1,error:D.message}}finally{t(!1)}},[r,n]),s=w.useCallback(async(A,R,D)=>{t(!0);try{const{data:T,error:M}=await r.from(A).update(D).eq("id",R).select().single();if(M)throw M;return{success:!0,data:T}}catch(T){return n({variant:"destructive",title:"Error al actualizar",description:T.message}),{success:!1,error:T.message}}finally{t(!1)}},[r,n]),a=w.useCallback(async(A,R)=>{t(!0);try{const{error:D}=await r.from(A).delete().eq("id",R);if(D)throw D;return{success:!0}}catch(D){return n({variant:"destructive",title:"Error al eliminar",description:D.message}),{success:!1,error:D.message}}finally{t(!1)}},[r,n]),o=w.useCallback(async(A,R={},D={})=>{t(!0);try{let T=r.from(A).select(D.select||"*");Object.entries(R).forEach(([ee,F])=>{T=T.eq(ee,F)}),D.orderBy&&(T=T.order(D.orderBy.column,{ascending:D.orderBy.ascending!==!1})),D.limit&&(T=T.limit(D.limit));const{data:M,error:U}=await T;if(U)throw U;return{success:!0,data:M}}catch(T){return n({variant:"destructive",title:"Error al obtener datos",description:T.message}),{success:!1,error:T.message}}finally{t(!1)}},[r,n]),c=w.useCallback(async(A,R,D)=>{t(!0);try{const{data:T,error:M}=await r.storage.from(A).upload(R,D,{cacheControl:"3600",upsert:!1});if(M)throw M;return{success:!0,data:T}}catch(T){return n({variant:"destructive",title:"Error al subir archivo",description:T.message}),{success:!1,error:T.message}}finally{t(!1)}},[r,n]),u=w.useCallback((A,R)=>{const{data:D}=r.storage.from(A).getPublicUrl(R);return D.publicUrl},[r]),f=w.useCallback(async(A,R)=>{try{const{error:D}=await r.storage.from(A).remove([R]);if(D)throw D;return{success:!0}}catch(D){return n({variant:"destructive",title:"Error al eliminar archivo",description:D.message}),{success:!1,error:D.message}}},[r,n]),h=w.useCallback(A=>i("notifications",A),[i]),g=w.useCallback((A,R)=>s("notifications",A,R),[s]),m=w.useCallback(A=>i("vin_check_logs",A),[i]),x=w.useCallback(A=>i("inspections",A),[i]),y=w.useCallback(A=>i("chat_messages",A),[i]),S=w.useCallback(A=>i("power_buying_requests",A),[i]),_=w.useCallback((A,R)=>{const D={...R,user_id:A};return i("legalizations",D)},[i]),C=w.useCallback(A=>i("documents",A),[i]),P=w.useCallback((A,R)=>{const D={...R,user_id:A};return i("deposits",D)},[i]);return{loading:e,createRecord:i,updateRecord:s,deleteRecord:a,fetchRecords:o,uploadFile:c,getFileUrl:u,deleteFile:f,createNotification:h,markNotificationAsRead:g,createVinCheck:m,createInspection:x,createLegalization:_,createDocument:C,createChatMessage:y,createPowerBuyingRequest:S,createDeposit:P}},nle=(e,t)=>`${e}-${t.replace(/\s+/g,"-").toLowerCase()}`,rle=`
TX - Abilene - 7700 U.S. Hwy. 277 S., Abilene, TX 79601
CA - ACE - Carson - 16920 S. Figueroa St., Gardena, CA 90248
CA - ACE - Perris - 495 Harley Knox Blvd., Perris, CA 92571
CA - ACE - Perris 2 - 775 Harley Knox Blvd., Perris, CA 92571
OH - Akron-Canton - 2932 State Route 259 S.E., New Philadelphia, OH 44663
NY - Albany - 1210 Kings Rd., Schenectady, NY 12303
NM - Albuquerque - 4400 Broadway Blvd. S.E., Albuquerque, NM 87105
PA - Altoona - 15369 Dunnings Hwy., East Freedom, PA 16637
TX - Amarillo - 11150 S. FM 1541, Amarillo, TX 79118
CA - Anaheim - 2961 E. La Jolla St., Anaheim, CA 92806
CA - Anaheim Consolidated - 2961 E. La Jolla St., Anaheim, CA 92806
AK - Anchorage - 1446 W. Mystery Ave., Wasilla, AK 99654
WI - Appleton - 2591 S. Casaloma Dr., Appleton, WI 54914
NC - Asheville - 4900 Hendersonville Rd., Fletcher, NC 28732
KY - Ashland - 123 Four Wheel Dr., Ashland, KY 41102
GA - Atlanta - 125 Old Highway 138, Loganville, GA 30052
GA - Atlanta East - 1045 Atlanta Hwy. S.E., Winder, GA 30680
GA - Atlanta North - 6242 BlackAcre Trl. N.W., Acworth, GA 30101
GA - Atlanta South - 1930 Rex Rd., Lake City, GA 30260
TX - Austin - 2191 Highway 21 West, Dale, TX 78616
TX - Austin North - 23010 Firefly Rd, Florence, TX 76527
NJ - Avenel New Jersey - 87 Randolph Ave., Avenel, NJ 07001
MD - Baltimore - 3131 Hawkins Point Rd., Baltimore, MD 21226
LA - Baton Rouge - 5978 Highway 75, Carville, LA 70721
MT - Billings - 75 Cerise Rd., Billings, MT 59101
AL - Birmingham - 1600 Highway 150, Bessemer, AL 35022
ID - Boise - 1881 W. Marcon Ln., Meridian, ID 83642
MA - Boston - Shirley - 2 Going Rd., Shirley, MA 01464
KY - Bowling Green - 710 Woodford Ave., Bowling Green, KY 42101
PA - Bridgeport - 396 E. Schuylkill River Rd., Bridgeport, PA 19405
WV - Buckhannon - 200 Auction Ln., Buckhannon, WV 26201
NY - Buffalo - 366 Vulcan St., Buffalo, NY 14207
VT - Burlington - 304 Colchester Rd., Essex Junction, VT 05451
WY - Casper - 2305 Salt Creek Hwy., Casper, WY 82601
NJ - Central New Jersey - 426 Texas Rd., Morganville, NJ 07751
SC - Charleston - 430 Tannenbaum Rd., Ravenel, SC 29470
NC - Charlotte - 1710 Starita Rd., Charlotte, NC 28206
TN - Chattanooga - 2801 Asbury Park St., Chattanooga, TN 37404
IL - Chicago-North - 605 Healy Rd., East Dundee, IL 60118
IL - Chicago-South - 16425 Crawford Ave., Markham, IL 60428
IL - Chicago-West - 280 E. Sullivan Rd., Aurora, IL 60505
OH - Cincinnati - 10100 Windisch Rd., West Chester, OH 45069
OH - Cincinnati-South - 1736 Lindale Mount Holly Rd., Amelia, OH 45102
FL - Clearwater - 5152 126 Ave. N., Clearwater, FL 33760
OH - Cleveland - 7437 Deer Trail Ln., Lorain, OH 44053
CO - Colorado Springs - 8500 Import Ct., Colorado Springs, CO 80925
OH - Columbus - 1601 Thrailkill Road, Grove City, OH 43123
NC - Concord - 5100 Merle Rd., Concord, NC 28025
TX - Corpus Christi - 4701 Agnes St., Corpus Christi, TX 78405
VA - Culpeper - 15201 Review Rd., Culpeper, VA 22701
TX - Dallas - 204 Mars Rd., Wilmer, TX 75172
TX - Dallas/Ft Worth - 4226 E. Main St., Grand Prairie, TX 75050
IA - Davenport - 5403 Rockingham Rd., Davenport, IA 52802
OH - Dayton - 400 Cherokee Dr., Dayton, OH 45417
CO - Denver East - 8510 Brighton Rd., Commerce City, CO 80022
IA - Des Moines - 1000 Armstrong Dr., De Soto, IA 50069
MI - Detroit - 8251 Rawsonville Rd., Belleville, MI 48111
AL - Dothan - 15994 U.S. Highway 431 N., Headland, AL 36345
IL - Dream Rides - Two Westbrook Corporate Center, Westchester, IL 60154
MD - Dundalk - 8143 Beachwood Rd., Dundalk, MD 21222
CA - East Bay - 2780 Willow Pass Rd., Bay Point, CA 94565
TX - El Paso - 14751 Marina Ave., El Paso, TX 79938
IL - Electric Vehicle Auctions - Two Westbrook Corporate Center 10th Floo, Westchester, IL 60154
MD - Elkton - 183 Zeitler Rd, Elkton, MD 21921
NJ - Englishtown - 230 Pension Rd., Manalapan, NJ 07726
PA - Erie - 261 Hamilton Road, Garland, PA 16416
OR - Eugene - 1000 Bethel Dr., Eugene, OR 97402
ND - Fargo - 4401 37th St. N., Fargo, ND 58102
AR - Fayetteville - 2801 E. Pridemore Dr., Lincoln, AR 72744
MI - Flint - 3088 S. Dye Rd., Flint, MI 48507
CA - Fontana - 9951 Banana Ave., Fontana, CA 92335
FL - Fort Myers - 11950 State Road 82, Fort Myers, FL 33913
FL - Fort Pierce - 3798 Selvitz Rd, Fort Pierce, FL 34981
IN - Fort Wayne - 4300 Oxford St., Fort Wayne, IN 46806
TX - Fort Worth North - 3748 McPherson Dr., Justin, TX 76247
CA - Fremont - 6700 Stevenson Blvd., Fremont, CA 94538
CA - Fresno - 1805 N. Lafayette Ave., Fresno, CA 93705
MI - Grand Rapids - 700 100th St. S.W, Byron Center, MI 49315
NC - Greensboro - 171 Carden Rd., Graham, NC 27253
SC - Greenville - 422 Scuffletown Rd., Simpsonville, SC 29681
MS - Grenada - 101 Highway 404, Grenada, MS 38901
MS - Gulf Coast - 8209 Old Stage Rd., Moss Point, MS 39562
CT - Hartford - 47 Newberry Rd., East Windsor, CT 06088
CA - High Desert - 11385 G Ave., Hesperia, CA 92345
NC - High Point - 6695 Auction Road, High Point, NC 27263
HI - Honolulu - 91-401 Malakole St, Kapolei, HI 96707
TX - Houston - 2535 W. Mount Houston Rd., Houston, TX 77038
TX - Houston South - 2839 E. FM 1462 Rd., Rosharon, TX 77583
TX - Houston-North - 16602 E. Hardy Rd., Houston, TX 77032
AL - Huntsville - 16326 Ennis Rd., Athens, AL 35613
IN - Indianapolis - 3302 S. Harding St., Indianapolis, IN 46217
IN - Indianapolis South - 1947 S County Road SCR 1240E, Crothersville, IN 47229
MS - Jackson - 100 Auction Way, Byram, MS 39272
FL - Jacksonville - 186 Pecan Park Rd., Jacksonville, FL 32218
KS - Kansas City - 2663 S. 88th St., Kansas City, KS 66111
MO - Kansas City East - 1700 W. Old Highway 40, Odessa, MO 64076
TN - Knoxville - 3634 E. Governor John Sevier Hwy., Knoxville, TN 37914
LA - Lafayette - 301 Malapart Rd., Lafayette, LA 70507
NV - Las Vegas - 3225 South Hollywood Blvd, Las Vegas, NV 89122
SC - Lexington - 424 Two Notch Rd., Lexington, SC 29073
IL - Lincoln - 301 Madigan Dr., Lincoln, IL 62656
AR - Little Rock - 4900 S. Kerr Rd., Scott, AR 72142
NY - Long Island - 66 Peconic Ave., Medford, NY 11763
TX - Longview - 5577 E. U.S. Highway 80, Longview, TX 75605
CA - Los Angeles - 18300 S. Vermont Ave., Gardena, CA 90248
CA - Los Angeles South - 1903 Blinn Ave., Wilmington, CA 90744
KY - Louisville North - 891 Ballardsville Rd., Eminence, KY 40019
TX - Lubbock - 5311 N. County Road 2000, Lubbock, TX 79415
GA - Macon - 2200 Trade Dr., Macon, GA 31217
NH - Manchester - 75 Lowell Rd., Salem, NH 03079
TX - McAllen - 900 N. Hutto Rd., Donna, TX 78537
TN - Memphis - 3033 Fite Rd, Millington, TN 38053
MD - Metro DC - 14149 Brandywine Rd., Brandywine, MD 20613
FL - Miami-North - 20499 Stirling Rd., Southwest Ranches, FL 33332
WI - Milwaukee - N70W25277 Indian Grass Ln., Sussex, WI 53089
MN - Minneapolis South - 28261 Dressler Ct, Randolph, MN 55065
MN - Minneapolis/St. Paul - 1280 Jackson St., Saint Paul, MN 55117
MT - Missoula - 10131 Garrymore Ln., Missoula, MT 59808
NY - Monticello - 65 Kaufman Rd, Monticello, NY 12701
TN - Nashville - 3896 Stewarts Ln., Nashville, TN 37218
DE - New Castle - 417 Old Airport Rd., New Castle, DE 19720
LA - New Orleans East - 6600 Almonaster Ave., New Orleans, LA 70126
NY - Newburgh - 39 Stone Castle Rd., Rock Tavern, NY 12575
CA - North Hollywood - 7245 Laurel Canyon Blvd., North Hollywood, CA 91605
VA - Northern Virginia - 15 Le Way Dr., Fredericksburg, VA 22406
OK - Oklahoma City - 7300 N. I 35 Service Rd., Oklahoma City, OK 73121
NE - Omaha - 14749 Meredythe Plz., Springfield, NE 68059
NE - Omaha South - 13909 238th St, Greenwood, NE 68366
ME - Online Exclusive - 69 Hinckley Road, Clinton, ME 04927
FL - Orlando - 151 W. Taft Vineland Rd., Orlando, FL 32824
FL - Orlando-North - 2500 Adesa Dr., Sanford, FL 32773
KY - Paducah - 1701 Lane Rd., Paducah, KY 42003
FL - Pensacola - 11221 Highway 90, Milton, FL 32583
TX - Permian Basin - 701 W. 81st St., Odessa, TX 79764
PA - Philadelphia - 100 Industrial Way, Conshohocken, PA 19428
AZ - Phoenix - 2299 W. Broadway Rd., Phoenix, AZ 85041
PA - Pittsburgh - 57 Woodlawn Rd., Aliquippa, PA 15001
PA - Pittsburgh-North - 49 Bairdford Rd., Gibsonia, PA 15044
NJ - Port Murray - 985 Rt 57, Port Murray, NJ 07865
WI - Portage - W10321 State Road 16, Portage, WI 53901
OR - Portland - 4415 NE 158th Ave., Portland, OR 97230
ME - Portland - Gorham - 9 Moody Dr., Gorham, ME 04038
OR - Portland South - 605 S. Pacific Hwy, Woodburn, OR 97071
OR - Portland West - 10498 N. Vancouver Way, Portland, OR 97217
RI - Providence - 160 Amaral St., Riverside, RI 02915
UT - Provo - 1768 West 6300 South, Nephi, UT 84648
VA - Pulaski - 1250 E. Main St., Pulaski, VA 24301
NC - Raleigh - 60 Sadisco Rd., Clayton, NC 27520
IL - REC RIDES - Online-Exclusive - Two Westbrook Corporate Center, Tenth Fl, Westchester, IL 60154
NV - Reno - 4086 Peru Dr., Sparks, NV 89437
VA - Richmond - 10390 Sadisco Dr., Ashland, VA 23005
CA - Riverside - 3600 Pyrite St, Riverside, CA 92509-1103
VA - Roanoke - 1576 Quarterwood Rd., Montvale, VA 24122
NY - Rochester - 7149 Appletree Ave., Bergen, NY 14416
CA - Sacramento - 11499 Douglas Rd., Rancho Cordova, CA 95742
UT - Salt Lake City - 1800 S. 1100 W., Ogden, UT 84401
TX - San Antonio-South - 11275 S. Zarzamora St., San Antonio, TX 78224
CA - San Diego - 2380 Britannia Blvd., San Diego, CA 92154
CA - Santa Clarita - 14320 Soledad Canyon Rd, Santa Clarita, CA 91387
GA - Savannah - 348 Commerce Dr., Rincon, GA 31326
NJ - Sayreville - 580 Jernee Mill Rd., Sayreville, NJ 08872
PA - Scranton - 103 Thompson St., Pittston, PA 18640
WA - Seattle - 15801 110th Ave. E., Puyallup, WA 98374
WV - Shady Spring - 4163 Pluto Rd., Shady Spring, WV 25918
LA - Shreveport - 4836 McGee Rd., Greenwood, LA 71033
SD - Sioux Falls - 47028 276th St., Lennox, SD 57039
IN - South Bend - 25631 State Road 2, South Bend, IN 46619
NJ - Southern New Jersey - 250 Blackwood Barnsboro Rd., Turnersville, NJ 08012
IL - Specialty Division - 2040 E. Algonquin Rd., Schaumburg, IL 60173
WA - Spokane - 3520 N. Tschirley Rd., Spokane Valley, WA 99216
MO - Springfield - 1155 N Eldon Ave., Springfield, MO 65803
MN - St. Cloud - 13289 25th Ave NW, Rice, MN 56367
IL - St. Louis - 2436 Old Country Inn Dr., Caseyville, IL 62232
NY - Staten Island - 1900 South Avenue, Staten Island, NY 10314
CA - Stockton - 3235 Newton Road, Stockton, CA 95205
VA - Suffolk - 1389 Portsmouth Blvd., Suffolk, VA 23434
NY - Syracuse - 8459 Brewerton Rd., Cicero, NY 13039
FL - Tampa - 1208 17th St. East, Palmetto, FL 34221
FL - Tampa North - 8838 Bolton Ave., Hudson, FL 34667
MA - Taunton - 580 Myricks St., East Taunton, MA 02718
MA - Templeton - 223 Baldwinville Rd., Templeton, MA 01468
VA - Tidewater - 211 Production Dr., Yorktown, VA 23693
GA - Tifton - 368 Oakridge Church Rd., Tifton, GA 31794
AZ - Tucson - 4650 E. Irvington Rd., Tucson, AZ 85714
OK - Tulsa - 5311 W. 46th St., Tulsa, OK 74107
ME - Virtual Lane A - 69 Hinckley Rd, Clinton, ME 04927
ME - Virtual Lane B - 69 Hinckley Rd, Clinton, ME 04927
ME - Virtual Lane C - 69 Hinckley Rd, Clinton, ME 04927
FL - West Palm Beach - 14344 Corporate Rd S, Jupiter, FL 33478
CO - Western Colorado - 1280 Highway 50, Delta, CO 81416
KS - Wichita - 6335 N. Broadway Ave., Park City, KS 67219
NC - Wilmington - 415 Madeline Trask Dr., Castle Hayne, NC 28429
PA - York Springs - 10 Auction Dr., York Springs, PA 17372
`,ile=`
AB - Copart Calgary - 234082 84 STREET SE, T1X 0K2
AB - Copart Edmonton - 3175 4TH STREET, T9E 8L1
AK - Copart Anchorage - 401 W CHIPPERFIELD DR, 99501
AL - Copart Dothan - 10428 WEST US 84, 36352
AL - Copart Mobile South - 9401 OLD PASCAGOULA RD, 36582
AL - Copart Mobile - 4763 LOTT ROAD, 36613
AL - Copart Birmingham - 3101 DAVEY ALLISON BLVD, 35023
AL - Copart Montgomery - 6044 TROY HIGHWAY, 36116
AL - Copart Tanner - 20760 SANDY ROAD, 35671
AR - Copart Little Rock - 703 MAIN ST, 72032
AR - Copart Fayetteville - 15976 BILL CAMPBELL ROAD, 72753
AZ - Copart Phoenix - 615 SO. 51ST AVENUE, 85043
AZ - Copart Tuscon - 5600 S. ARCADIA AVENUE, 85706
CA - Copart Antelope - 8650 ANTELOPE NORTH ROAD, 95843
CA - Copart Bakersfield - 2216 COY AVENUE, 93307
CA - Copart San Bernardino - 1203 S. RANCHO AVENUE, 92324
CA - Copart Fresno - 1255 EAST CENTRAL, 93725
CA - Copart Hayward - 1964 SABRE STREET, 94545
CA - Copart Los Angeles - 8423 SOUTH ALAMEDA, 90001
CA - Copart Martinez - 2701 WATERFRONT ROAD, 94553
CA - Copart Rancho Cucamonga - 12167 ARROW ROUTE, 91739
CA - Copart South Sacramento - 8687 WEYAND AVE, 95828
CA - Copart Sacramento - 8600 MORRISON CREEK DRIVE, 95828
CA - Copart San Diego - 7847 AIRWAY ROAD, 92154
CA - Copart San Jose - 13895 LLAGAS AVENUE, 95046
CA - Copart Sun Valley - 11409 PENROSE STREET, 91352
CA - Copart Redding - 4603 LOCUST ROAD, 96007
CA - Copart Vallejo - 282 FIFTH STREET, 94590
CA - Copart Van Nuys - 7519 WOODMAN AVENUE, 91405
CA - Copart Long Beach - 1000E. LOMITA BLVD, 90744
CA - Copart Adelanto - 10429 PANSY RD, 92301
CO - Copart Denver - 1281 COUNTY ROAD 27, 80603
CO - Copart Colorado Springs - 3701 N. NEVADA AVE, 80907
CO - Copart Denver Central - 6464 DOWNING STREET, 80229
CO - Copart Denver South - 8300 BLAKELAND DRIVE, 80125
CT - Copart Hartford - 138 CHRISTIAN LANE, 06051
CT - Copart Hartford Springfield - 49 RUSSELL ROAD, 06026
DE - Copart Seaford - 26029 BETHEL CONCORD ROAD, 19973
FL - Copart Orlando North - 3352 W ORANGE BLOSSOM TRAIL, 32712
FL - Copart Ft. Pierce - 2601 CENTER ROAD, 34946
FL - Copart Miami South - 24301 SW 137TH AVE, 33032
FL - Copart Jacksonville North - 10200 ALTON BOX RD, 32218
FL - Copart Miami Central - 11858 NW 36TH AVE, 33167
FL - Copart Miami North - 12850 NW 27TH AVE, 33054
FL - Copart Tallahassee - 1825 COMMERCE BLVD, 32343
FL - Copart Ocala - 7100 NW 44 AVE, 34482
FL - Copart Orlando South - 307 EAST LANDSTREET ROAD, 32824
FL - Copart Punta Gorda - 5017 DUNCAN ROAD, 33982
FL - Copart Tampa South - 12020 US HIGHWAY 301 SOUTH, 33578
FL - Copart West Palm Beach - 7876 W BELVEDERE ROAD, 33411
GA - Copart Atlanta West - 2568 OLD ALABAMA ROAD, 30168
GA - Copart Cartersville - 1880 HWY 113, 30120
GA - Copart Atlanta South - 761 CLARK DRIVE, 30294
GA - Copart Atlanta North - 1602 ATHENS HIGHWAY, 30507
GA - Copart Fairburn - 6737 ROOSEVELT HWY, 30213
GA - Copart Atlanta East - 6089 HIGHWAY 20, 30052
GA - Copart Macon - 304 SMITH ROAD, 31008
GA - Copart Savannah - 5510 SILK HOPE ROAD, 31405
GA - Copart Tifton - 399 OAKRIDGE CHURCH RD, 31794
HI - Copart Honolulu - 91-542 AWAKUMOKO ST, 96707
IA - Copart Des Moines - 3300 VANDALIA ROAD, 50317
IA - Copart Davenport - 3601 S 1ST STREET, 52748
ID - Copart Boise - 3716 NORTH MIDDLETON ROAD, 83651
IL - Copart Southern Illinois - 99 RACEHORSE DRIVE, 62205
IL - Copart Chicago South - 89 E SAUK TRAIL, 60411
IL - Copart Chicago North - 1475 BLUFF CITY BLVD, 60120
IL - Copart Peoria - 350 VETERANS DRIVE, 61554
IL - Copart Wheeling - 110 EAST PALATINE ROAD, 60090
IN - Copart Dyer - 641 JOLIET ST, 46311
IN - Copart Cicero - 1461 E 226TH STREET, 46034
IN - Copart Fort Wayne - 3600 E. WASHINGTON BLVD., 46803
IN - Copart Hammond - 1849 SUMMER ST, 46320
IN - Copart Hartford City - 696 EAST STATE ROAD 26, 47348
IN - Copart Indianapolis - 4040 OFFICE PLAZA BLVD, 46254
KS - Copart Kansas City - 6211 KANSAS AVE, 66111
KS - Copart Wichita - 4510 S MADISON, 67216
KY - Copart Lexington West - 1051 INDUSTRY ROAD, 40342
KY - Copart Lexington East - 5801 KASP COURT, 40509
KY - Copart Earlington - 700 N SANDCUT RD, 42410
KY - Copart Louisville - 3100 POND STATION RD, 40272
KY - Copart Walton - 13273 DIXIE HIGHWAY, 41094
LA - Copart Baton Rouge - 21595 GREENWELL SPRINGS RD, 70739
LA - Copart New Orleans - 14600 OLD GENTILLY RD, 70129
LA - Copart Shreveport - 5235 GREENWOOD RD, 71109
MA - Copart South Boston - 82 CAPE ROAD, 01756
MA - Copart North Boston - 55R HIGH ST, 01682
MA - Copart West Warren - 600 OLD WEST WARREN RD, 01092
MD - Copart Baltimore - 2251 OLD WESTMINSTER PIKE, 21048
MD - Copart Washington Dc - 11055 BILLINGSLEY ROAD, 20602
MD - Copart Baltimore East - 601 W PATAPSCO AVE, 21225
ME - Copart Lyman - 136 KENNEBUNK POND ROAD, 04002
MI - Copart Flint - 5000 N STATE ROAD, 48243
MI - Copart Kincheloe - 5030 W KINCHELOE ROAD, 49788
MI - Copart Lansing - 3902 SOUTH CANAL RD, 48917
MI - Copart Ionia - 8460 S STATE ROAD, 48875
MI - Copart Detroit - 21000 HAYDEN DRIVE, 48183
MN - Copart St. Cloud - 200 COUNTY ROAD 159, 56310
MN - Copart Minneapolis - 10588 CENTRAL AVE NE, 55434
MN - Copart Minneapolis North - 1526 BUNKER LAKE BLVD, 55304
MO - Copart St. Louis - 13033 TAUSSIG AVE, 63044
MO - Copart Columbia - 8485 RICHLAND RD, 65201
MO - Copart Springfield - 2889 E US HIGHWAY 60, 65742
MO - Copart Sikeston - 687 E OUTER RD, 63801
MS - Copart Jackson - 205 S RANKIN INDUSTRIAL DRIVE, 39073
MT - Copart Billings - 1090 ISLAND PARK RD, 59101
MT - Copart Helena - 3333 BOZEMAN AVENUE, 59601
NB - Copart Moncton - 1300 BERRY MILLS RD, E1E 4R8
NC - Copart China Grove - 1081 RECOVERY ROAD, 28023
NC - Copart Concord - 7940 U.S. HIGHWAY 601 S., 28025
NC - Copart Raleigh North - 1900 OLD CREWS RD, 27545
NC - Copart Raleigh - 310 COPART ROAD, 28334
NC - Copart Lumberton - 4019 NC 72 HWY W, 28360
NC - Copart Gastonia - 1900 OLD CREWS RD, 27545
NC - Copart Mebane - 1870 US 70 HWY, 27302
NC - Copart Mocksville - 2668 US-601, 27028
ND - Copart Bismarck - 3700 APPLE CREEK RD, 58501
NE - Copart Lincoln - 13603 238TH ST, 68366
NH - Copart Candia - 134 RAYMOND RD, 03034
NJ - Copart Glassboro East - 200 GROVE ST, 08028
NJ - Copart Glassboro West - 781 JACOB HARRIS AVENUE, 08028
NJ - Copart Somerville - 2124 WEST CAMPLAIN ROAD, 08844
NJ - Copart Trenton - 108 N MAIN STREET, 08561
NM - Copart Albuquerque - 7705 BROADWAY SE, 87105
NS - Copart Halifax - 128 PARK ROAD, B2S 2L3
NV - Copart Las Vegas - 4810 N LAMB BLVD, 89115
NV - Copart Reno - 9915 N VIRGINIA STREET, 89506
NY - Copart Albany - 1916 CENTRAL AVE, 12205
NY - Copart Buffalo - 8418 SOUTHWESTERN BLVD., 14006
NY - Copart Long Island - 1983 MONTAUK HIGHWAY, 11719
NY - Copart Syracuse - 46 ZUK-PIERCE RD, 13036
NY - Copart Rochester - 4 WEST AVE, 14482
NY - Copart Newburgh - 91 RIVERVIEW DRIVE, 12542
OH - Copart Cleveland West - 34417 E ROYALTON ROAD, 44028
OH - Copart Colombus - 1680 WILLIAMS ROAD, 43207
OH - Copart Dayton - 4691 SPRINGBORO PIKE, 45439
OH - Copart Cleveland East - 286 EAST TWINSBURG ROAD, 44067
OK - Copart Oklahoma City - 2829 SE 15TH STREET, 73129
OK - Copart Tulsa - 2408 W 21ST STREET, 74107
ON - Copart London - 1809 GORE ROAD, N5W 6C8
ON - Copart Toronto - 175 OSBORNE ROAD, L1E 2R3
OR - Copart Eugene - 29815 END ROAD EAST, 97402
OR - Copart Portland North - 6900 NE CORNFOOT DRIVE, 97218
OR - Copart Portland South - 2885 NATIONAL WAY, 97071
PA - Copart Chambersburg - 2962 LINCOLN WAY WEST, 17201
PA - Copart Scranton - 210 MCALPINE STREET, 18642
PA - Copart Altoona - 4007 ADMIRAL PEARY HWY, 15931
PA - Copart Pittsburgh North - 2000 RIVER ROAD, 16117
PA - Copart Harrisburg - 8 PARK DRIVE, 17028
PA - Copart Philadelphia - 2704 GERYVILLE PIKE, 18073
PA - Copart Philadelphia East - 77 BRISTOL ROAD, 18914
PA - Copart Pittsburgh West - 1451 LEBANON SCHOOL ROAD, 15122
PA - Copart Pittsburgh South - 526 THOMPSON RUN RD, 15122
PA - Copart York Haven - 795 SIPE RD, 17370
QC - Copart Montreal - 6900 MARIEN AVENUE, H1B 4W3
RI - Copart Exeter - 10 INDUSTRIAL DRIVE, 02822
SC - Copart Columbia - 4324 HIGHWAY 321 SOUTH, 29053
SC - Copart Spartanburg - 1922 NAZARETH CHURCH ROAD, 29301
SC - Copart North Charleston - 120 COMMERCE AVE, 29448
TN - Copart Nashville - 865 STUMPY LANE, 37090
TN - Copart Knoxville - 6355 B HIGHWAY 411, 37354
TN - Copart Memphis - 5545 SWINNEA RD, 38118
TX - Copart Abilene - 2630 FM ROAD #3034, 79601
TX - Copart Amarillo - 3999 S LOOP 335 E, 79118
TX - Copart Andrews - 1975 SOUTH WEST 860, 79714
TX - Copart El Paso - 501 VALLEY CHILI RD, 79821
TX - Crashedtoys Dallas - 7777 JOHN W CARPENTER FREEWAY, 75247
TX - Copart Dallas - 505 IDLEWILD ROAD, 75051
TX - Copart Houston East - 15706 BEAUMONT HWY, 77049
TX - Copart Ft. Worth - 950 BLUE MOUND ROAD WEST, 76052
TX - Copart Houston - 1655 RANKIN ROAD, 77073
TX - Copart Longview - 3046 HIGHWAY 322 SOUTH, 75603
TX - Copart Lufkin - 3700 OLD UNION ROAD, 75904
TX - Copart Mcallen - 301 MILE 1 EAST, 78570
TX - Copart Austin - 8725 N INTERSTATE 35, 78130
TX - Copart San Antonio - 11130 APPLEWHITE RD, 78224
TX - Copart Waco - 7201 N GENERAL BRUCE DR, 76501
TX - Copart Dallas South - 1701 EAST BELTLINE RD, 75172
UT - Copart Ogden - 3586 NORTH 2000 WEST, 84404
UT - Copart Salt Lake City - 7320 WEST 2100 SOUTH, 84044
VA - Copart Richmond East - 6300 CHAMBERS ROAD, 23030
VA - Copart Danville - 12360 US HWY 29, 24531
VA - Copart Fredericksburg - 4717 MASSAPONAX CHURCH ROAD, 22408
VA - Copart Hampton - 16 NETTLES LANE, 23666
VA - Copart Richmond - 5701 WHITESIDE RD, 23150
WA - Copart Spokane - 11019 WEST MCFARLANE ROAD, 99001
WA - Copart North Seattle - 16701 51ST AVE NE, 98223
WA - Copart Graham - 21421 MERIDIAN E, 98338
WA - Copart Pasco - 3333 N RAILROAD AVENUE, 99301
WI - Copart Appleton - 2500 AMERICAN DRIVE, 54914
WI - Copart Milwaukee North - 9201 N 107TH ST, 54914
WI - Copart Milwaukee - 4825 S WHITNALL AVE, 53110
WI - Copart Madison - 5448 LIEN ROAD, 53718
WV - Copart Charleston - 1746 US ROUTE 60, 25526
WY - Copart Casper - 1998 OIL FIELD CENTER RD, 82604
`,AL=e=>e.trim().split(`
`).map(t=>{const n=t.split(" - ");if(n.length<3)return null;const r=n[0].trim(),i=n[1].trim(),s=n.slice(2).join(" - ").trim();return{id:nle(r,i),state:r,name:i,address:s,full:`${i} - ${s}`}}).filter(Boolean),kL=e=>e.reduce((t,n)=>{const{state:r}=n;return t[r]||(t[r]=[]),t[r].push(n),t},{}),EL=AL(rle),$L=AL(ile),RL=kL(EL),TL=kL($L),$3=EL,R3=$L,sle=mre("locationType",[Gd({locationType:a0("iaa"),state:En({required_error:"Debes seleccionar un estado."}),locationId:En({required_error:"Debes seleccionar una sucursal."})}),Gd({locationType:a0("copart"),state:En({required_error:"Debes seleccionar un estado."}),locationId:En({required_error:"Debes seleccionar una sucursal."})}),Gd({locationType:a0("other"),otherLocationAddress:En().min(10,"La dirección debe tener al menos 10 caracteres.")})]),ale=Gd({stockNumber:En().min(1,"El número de stock/lote es requerido.").regex(/^[a-zA-Z0-9]+$/,"Solo caracteres alfanuméricos."),vehicleUrl:En().url("Debe ser una URL válida.").min(1,"La URL del vehículo es requerida."),auctionDate:X4({required_error:"La fecha de subasta es requerida."}),comments:En().max(500,"Máximo 500 caracteres.").optional(),exactLocationDetails:En().optional()}).and(sle),ole=({inspections:e,loading:t,supabase:n})=>{const[r,i]=w.useState(null),{toast:s}=Pn(),a=async u=>{if(!u||!n){s({variant:"destructive",title:"Error de configuración",description:"No se pudo contactar el servicio de almacenamiento."});return}const f="inspection-reports";i(u);try{const{data:h,error:g}=await n.storage.from(f).createSignedUrl(u,60,{download:!0});if(g)throw g;window.open(h.signedUrl,"_blank")}catch(h){console.error("Error al generar la URL de descarga:",h),s({variant:"destructive",title:"Error en la descarga",description:"No se pudo generar el enlace. Revisa que el archivo exista y los permisos del bucket."})}finally{i(null)}};if(t)return l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx(jn,{className:"mr-2 h-6 w-6 animate-spin"}),l.jsx("span",{className:"text-muted-foreground",children:"Cargando historial..."})]});if(e.length===0)return l.jsx("p",{className:"text-muted-foreground italic text-center py-4",children:"No tienes solicitudes de inspección registradas."});const o=u=>{switch(u){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300";case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300";case"pending_payment":return"bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300"}},c=u=>{switch(u){case"completed":return"Completada";case"scheduled":return"Programada";case"pending_payment":return"Pago Pendiente";default:return"Pendiente"}};return l.jsx("div",{className:"space-y-4",children:e.map(u=>l.jsxs("div",{className:"p-4 border rounded-lg bg-background hover:bg-muted/40 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-lg",children:["Stock# ",u.stock_number]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitada: ",Hr(new Date(u.created_at),"PPP",{locale:Fa})]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${o(u.status)}`,children:c(u.status)})]}),u.status==="completed"&&u.report_url&&l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs(Ue,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>a(u.report_url),disabled:r===u.report_url,children:[r===u.report_url?l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(zm,{className:"mr-2 h-4 w-4"}),"Descargar Reporte"]})}),u.status==="pending_payment"&&u.payment_link&&l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx(Ue,{className:"w-full sm:w-auto",onClick:()=>window.open(u.payment_link,"_blank"),children:"Proceder al Pago"})})]},u.id))})},lle=()=>{const e=qn.useSupabaseClient(),{toast:t}=Pn(),{user:n}=Pi(),{createRecord:r,fetchRecords:i}=bf(),[s,a]=w.useState([]),[o,c]=w.useState(!0),u=pv({resolver:mv(ale),defaultValues:{stockNumber:"",vehicleUrl:"",locationType:"iaa",state:"",locationId:"",otherLocationAddress:"",comments:"",exactLocationDetails:""}}),{isSubmitting:f}=u.formState,h=u.watch("auctionDate"),g=u.watch("locationType"),m=u.watch("state"),x=u.watch("locationId"),y=h?o0(h,1):null,S=g==="iaa"?RL:TL,_=Object.keys(S).sort(),C=m?S[m]:[],P=w.useMemo(()=>!x||!g?null:(g==="iaa"?$3:R3).find(T=>T.id===x),[x,g]);w.useEffect(()=>{u.resetField("state"),u.resetField("locationId")},[g,u]);const A=w.useCallback(async()=>{if(!n){a([]),c(!1);return}c(!0);const{success:D,data:T}=await i("inspections",{user_id:n.id},{orderBy:{column:"created_at",ascending:!1}});D&&a(T||[]),c(!1)},[n,i]);w.useEffect(()=>{A()},[A]);const R=async D=>{if(!n)return;let T={};if(D.locationType==="iaa"||D.locationType==="copart"){const O=(D.locationType==="iaa"?$3:R3).find(H=>H.id===D.locationId);O&&(T={name:O.name,address:O.address})}else T={address:D.otherLocationAddress};const M={user_id:n.id,stock_number:D.stockNumber,vehicle_url:D.vehicleUrl,auction_date:D.auctionDate.toISOString().split("T")[0],inspection_date:o0(D.auctionDate,1).toISOString().split("T")[0],location_type:D.locationType,location_details:T,exact_location_details:D.exactLocationDetails||"",comments:D.comments||"",status:"pending_payment"},{success:U,error:ee}=await r("inspections",M);if(U){const F=`https://buy.stripe.com/test_8x2eV69LA9v55yo366ebu00?stock=${D.stockNumber}`;t({title:"Paso 1: Solicitud Registrada",description:"Tu solicitud ha sido guardada. Completa el pago para procesarla."}),window.open(F,"_blank"),u.reset(),A()}else console.error("Error submitting inspection:",ee),t({variant:"destructive",title:"Error al Registrar",description:"No se pudo registrar la solicitud. Por favor, inténtalo de nuevo."})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inspección Física"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Solicita una inspección profesional antes de la subasta."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs(ct,{className:"shadow-sm",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Nueva Solicitud de Inspección"}),l.jsx(pn,{children:"Completa los datos para agendar tu inspección."})]}),l.jsx(ut,{children:l.jsx(Qoe,{...u,children:l.jsxs("form",{onSubmit:u.handleSubmit(R),className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/30",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:"1. Detalles del Vehículo"}),l.jsx(nu,{control:u.control,name:"stockNumber",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Stock / Lot Number"}),l.jsx(Ra,{children:l.jsx(Ot,{placeholder:"Ej: 12345678",...D})}),l.jsx(Gl,{})]})}),l.jsx(nu,{control:u.control,name:"vehicleUrl",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"URL del Vehículo"}),l.jsx(Ra,{children:l.jsx(Ot,{type:"url",placeholder:"https://www.iaai.com/vehicledetail/...",...D})}),l.jsx(Gl,{})]})})]}),l.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/30",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:"2. Fecha y Ubicación"}),l.jsx(nu,{control:u.control,name:"auctionDate",render:({field:D})=>l.jsxs(Ea,{className:"flex flex-col",children:[l.jsx($a,{children:"Fecha de Subasta"}),l.jsxs(N2,{children:[l.jsx(j2,{asChild:!0,children:l.jsx(Ra,{children:l.jsxs(Ue,{variant:"outline",className:Je("w-full pl-3 text-left font-normal",!D.value&&"text-muted-foreground"),children:[D.value?Hr(D.value,"PPP",{locale:Fa}):l.jsx("span",{children:"Selecciona una fecha"}),l.jsx(Rx,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l.jsx(wv,{className:"w-auto p-0",align:"start",children:l.jsx(Nv,{mode:"single",selected:D.value,onSelect:D.onChange,disabled:T=>T<=new Date,initialFocus:!0,locale:Fa})})]}),l.jsx(Gl,{})]})}),y&&l.jsxs(Yd,{children:[l.jsx(sc,{className:"h-4 w-4"}),l.jsx(_h,{children:"Fecha de Inspección"}),l.jsxs(Xd,{children:["Se programará automáticamente para el: ",l.jsx("strong",{children:Hr(y,"PPP",{locale:Fa})}),"."]})]}),l.jsx(nu,{control:u.control,name:"locationType",render:({field:D})=>l.jsxs(Ea,{className:"space-y-3",children:[l.jsx($a,{children:"Tipo de Subasta"}),l.jsx(Ra,{children:l.jsxs(_2,{onValueChange:D.onChange,defaultValue:D.value,className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[l.jsxs(Ea,{className:"flex items-center space-x-2",children:[l.jsx(Ra,{children:l.jsx(Kd,{value:"iaa"})}),l.jsx($a,{className:"font-normal",children:"IAA"})]}),l.jsxs(Ea,{className:"flex items-center space-x-2",children:[l.jsx(Ra,{children:l.jsx(Kd,{value:"copart"})}),l.jsx($a,{className:"font-normal",children:"Copart"})]}),l.jsxs(Ea,{className:"flex items-center space-x-2",children:[l.jsx(Ra,{children:l.jsx(Kd,{value:"other"})}),l.jsx($a,{className:"font-normal",children:"Otra"})]})]})}),l.jsx(Gl,{})]})}),g!=="other"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(nu,{control:u.control,name:"state",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Estado"}),l.jsxs(Pr,{onValueChange:T=>{D.onChange(T),u.resetField("locationId")},value:D.value,children:[l.jsx(Ra,{children:l.jsx(dr,{children:l.jsx(Ar,{placeholder:"1. Selecciona estado"})})}),l.jsx(fr,{className:"max-h-[16rem]",children:_.map(T=>l.jsx(nt,{value:T,children:T},T))})]}),l.jsx(Gl,{})]})}),l.jsx(nu,{control:u.control,name:"locationId",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Sucursal"}),l.jsxs(Pr,{onValueChange:D.onChange,value:D.value,disabled:!m,children:[l.jsx(Ra,{children:l.jsx(dr,{children:l.jsx(Ar,{placeholder:"2. Selecciona sucursal"})})}),l.jsx(fr,{className:"max-h-[16rem]",children:C.map(T=>l.jsx(nt,{value:T.id,children:T.name},T.id))})]}),l.jsx(Gl,{})]})})]}),P&&l.jsxs(Yd,{variant:"default",className:"bg-background",children:[l.jsx(Ok,{className:"h-5 w-5"}),l.jsx(_h,{className:"font-semibold",children:P.name}),l.jsx(Xd,{children:P.address})]})]}),g==="other"&&l.jsx(nu,{control:u.control,name:"otherLocationAddress",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Dirección Completa"}),l.jsx(Ra,{children:l.jsx(Ot,{placeholder:"Calle, Ciudad, Estado, CP",...D})}),l.jsx(Gl,{})]})}),l.jsx(nu,{control:u.control,name:"exactLocationDetails",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Detalles Adicionales de Ubicación (Opcional)"}),l.jsx(Ra,{children:l.jsx(Ot,{placeholder:"Ej: Fila 5, Espacio 12",...D})}),l.jsx(Gl,{})]})})]}),l.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/30",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:"3. Instrucciones Adicionales"}),l.jsx(nu,{control:u.control,name:"comments",render:({field:D})=>l.jsxs(Ea,{children:[l.jsx($a,{children:"Instrucciones Especiales (Opcional)"}),l.jsx(Ra,{children:l.jsx(_u,{placeholder:"Indica si debemos enfocarnos en algo específico (motor, suspensión, etc.)",className:"resize-none",...D})}),l.jsx(Gl,{})]})})]}),l.jsxs(Yd,{variant:"default",className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:[l.jsx(Ni,{className:"h-4 w-4 !text-blue-600"}),l.jsx(_h,{className:"text-blue-800 dark:text-blue-300",children:"Paso Final: Pago de $50 USD"}),l.jsx(Xd,{className:"text-blue-700 dark:text-blue-400",children:"Al hacer clic en 'Registrar y Pagar', tu solicitud quedará registrada y serás redirigido a Stripe para completar el pago."})]}),l.jsxs(Ue,{type:"submit",className:"w-full",disabled:f,children:[f&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),f?"Registrando...":"Registrar y Proceder al Pago"]})]})})})]}),l.jsxs(ct,{className:"shadow-sm",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Historial de Solicitudes"}),l.jsx(pn,{children:"Revisa el estado de tus inspecciones anteriores."})]}),l.jsx(ut,{children:l.jsx(ole,{inspections:s,loading:o,supabase:e})})]})]})]})},cle=()=>{const{user:e}=Pi(),[t,n]=w.useState(null);return w.useEffect(()=>{console.log("TEST_PAGE: useEffect se ha disparado. El estado del usuario es:",e),(async()=>{if(!e){console.log("TEST_PAGE: No hay usuario, deteniendo carga."),n([]);return}console.log("TEST_PAGE: Usuario encontrado. Empezando a cargar datos de 'deposits'...");const{data:i,error:s}=await supabase.from("deposits").select("id, created_at, amount").eq("user_id",e.id).limit(5);s?(console.error("TEST_PAGE: Error al cargar datos de prueba:",s),n([])):(console.log("TEST_PAGE: Datos cargados exitosamente.",i),n(i||[]))})()},[e]),t===null?l.jsxs("div",{className:"flex justify-center items-center h-64",children:[l.jsx(jn,{className:"h-8 w-8 animate-spin text-primary"}),l.jsx("p",{className:"ml-4 text-muted-foreground",children:"Cargando Página de Prueba..."})]}):l.jsxs("div",{className:"p-4 bg-card rounded-lg border",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Página de Prueba"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Este componente sirve para aislar el problema de la carga infinita."}),l.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Resultados"}),l.jsx("p",{children:"Estado de la carga: **Carga completada.**"}),l.jsxs("p",{children:["Registros encontrados: ",l.jsx("strong",{children:t.length})]}),l.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Datos Crudos:"}),l.jsx("pre",{className:"mt-2 p-4 bg-muted rounded-md text-xs overflow-x-auto",children:JSON.stringify(t,null,2)})]})};function ule(e,t,n,r){var i=this,s=w.useRef(null),a=w.useRef(0),o=w.useRef(0),c=w.useRef(null),u=w.useRef([]),f=w.useRef(),h=w.useRef(),g=w.useRef(e),m=w.useRef(!0);g.current=e;var x=typeof window<"u",y=!t&&t!==0&&x;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var S=!!(n=n||{}).leading,_=!("trailing"in n)||!!n.trailing,C="maxWait"in n,P="debounceOnServer"in n&&!!n.debounceOnServer,A=C?Math.max(+n.maxWait||0,t):null;w.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var R=w.useMemo(function(){var D=function(H){var V=u.current,ae=f.current;return u.current=f.current=null,a.current=H,o.current=o.current||H,h.current=g.current.apply(ae,V)},T=function(H,V){y&&cancelAnimationFrame(c.current),c.current=y?requestAnimationFrame(H):setTimeout(H,V)},M=function(H){if(!m.current)return!1;var V=H-s.current;return!s.current||V>=t||V<0||C&&H-a.current>=A},U=function(H){return c.current=null,_&&u.current?D(H):(u.current=f.current=null,h.current)},ee=function H(){var V=Date.now();if(S&&o.current===a.current&&F(),M(V))return U(V);if(m.current){var ae=t-(V-s.current),J=C?Math.min(ae,A-(V-a.current)):ae;T(H,J)}},F=function(){r&&r({})},O=function(){if(x||P){var H=Date.now(),V=M(H);if(u.current=[].slice.call(arguments),f.current=i,s.current=H,V){if(!c.current&&m.current)return a.current=s.current,T(ee,t),S?D(s.current):h.current;if(C)return T(ee,t),D(s.current)}return c.current||T(ee,t),h.current}};return O.cancel=function(){c.current&&(y?cancelAnimationFrame(c.current):clearTimeout(c.current)),a.current=0,u.current=s.current=f.current=c.current=null},O.isPending=function(){return!!c.current},O.flush=function(){return c.current?U(Date.now()):h.current},O},[S,C,t,A,_,y,x,P,r]);return R}function dle(e,t){return e===t}function fle(e,t,n){var r=dle,i=w.useRef(e),s=w.useState({})[1],a=ule(w.useCallback(function(c){i.current=c,s({})},[s]),t,n,s),o=w.useRef(e);return r(o.current,e)||(a(e),o.current=e),[i.current,a]}const hle=()=>{const t=qn.useSupabaseClient(),{toast:n}=Pn(),{user:r}=Pi(),[i,s]=w.useState(!1),[a,o]=w.useState(0),[c,u]=w.useState(!1),[f,h]=w.useState([]),[g,m]=w.useState(!0),[x,y]=w.useState(1),[S,_]=w.useState(0),[C,P]=w.useState(!1),[A,R]=w.useState([]),D=w.useCallback(async(F=1)=>{if(r){m(!0);try{const{data:O,error:H}=await t.rpc("get_paginated_vin_history",{p_user_id:r.id,p_page_number:F,p_page_size:3});if(H)throw H;h(O||[]),O&&O.length>0?_(Math.ceil(O[0].total_records/3)):_(0),y(F)}catch(O){console.error("Error al cargar historial VIN:",O),n({variant:"destructive",title:"Error",description:"No se pudo cargar el historial."})}finally{m(!1)}}},[r,n]),T=w.useCallback(async()=>{if(!r)return;const{data:F,error:O}=await t.from("users_profile").select("vin_credits").eq("user_id",r.id).single();O||o((F==null?void 0:F.vin_credits)??0)},[r]);w.useEffect(()=>{r&&(T(),D(1))},[r,T,D]);const M=w.useCallback(()=>R([]),[]),U=w.useCallback(async F=>{if(!(!F||F.length!==17)){P(!0),M();try{const{data:O,error:H}=await t.functions.invoke("vpic-decode-vin",{body:{vin:F}});if(H)throw H;R(O.results||[])}catch(O){console.error("Error al decodificar VIN:",O),n({variant:"destructive",title:"Error de Decodificación",description:"No se pudo obtener la información."}),M()}finally{P(!1)}}},[n,M]);return{isLoading:i,vinCredits:a,showLowCreditAlert:c,vinHistory:f,historyLoading:g,handleCheckVin:async F=>{if(!r||a<=0){n({variant:"destructive",title:"Sin Créditos",description:"No tienes créditos suficientes."});return}s(!0);try{await t.from("vin_check_logs").insert([{vin:F,user_id:r.id,status:"pending"}]),await t.rpc("decrement_vin_credits",{user_id_param:r.id,amount:1}),n({title:"Solicitud Enviada",description:`Tu solicitud para el VIN ${F} ha sido registrada.`}),await T(),await D()}catch(O){console.error("Error al enviar solicitud VIN:",O),n({variant:"destructive",title:"Error",description:"No se pudo enviar la solicitud."})}finally{s(!1)}},decoding:C,decodedData:A,decodeVinWithFunction:U,resetDecoder:M,currentPage:x,totalPages:S,loadVinHistory:D}};function al({className:e,...t}){return l.jsx("div",{className:Je("animate-pulse rounded-md bg-primary/10",e),...t})}var ple="Separator",FP="horizontal",mle=["horizontal","vertical"],LL=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=FP,...i}=e,s=gle(r)?r:FP,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(jt.div,{"data-orientation":s,...o,...i,ref:t})});LL.displayName=ple;function gle(e){return mle.includes(e)}var DL=LL;const OL=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>l.jsx(DL,{ref:i,decorative:n,orientation:t,className:Je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));OL.displayName=DL.displayName;const vle=Gd({vin:En().length(17,"El VIN debe tener 17 caracteres.").regex(/^[a-zA-Z0-9]+$/,"Solo caracteres alfanuméricos.")}),yle=({onSubmitVin:e,decoding:t,decodedData:n,decodeVinWithFunction:r,resetDecoder:i})=>{const[s,a]=w.useState(!1),[o,c]=w.useState(!1),{register:u,handleSubmit:f,formState:{errors:h},watch:g,reset:m,setValue:x}=pv({resolver:mv(vle),mode:"onChange"}),y=g("vin"),[S]=fle(y,500),_=w.useCallback(()=>{m(),i(),a(!1)},[m,i]);w.useEffect(()=>{y&&x("vin",y.toUpperCase()),S&&S.length===17&&!h.vin?r(S):i(),a(!1)},[S,h.vin,x,r,i]);const C=w.useMemo(()=>{if(!n||n.length===0)return null;const A=D=>{var T;return((T=n.find(M=>M.Variable===D))==null?void 0:T.Value)||null},R={make:A("Make"),model:A("Model"),year:A("Model Year"),engineCylinders:A("Engine Cylinders"),displacementL:A("Displacement (L)"),driveType:A("Drive Type"),plantCountry:A("Plant Country"),bodyClass:A("Body Class"),vehicleType:A("Vehicle Type"),doors:A("Doors"),fuelType:A("Fuel Type - Primary")};return R.make&&R.model&&R.year?R:null},[n]),P=async A=>{c(!0),await e(A.vin),_(),c(!1)};return l.jsxs("form",{onSubmit:f(P),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"vin",children:"Número de Identificación Vehicular (VIN)"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ot,{id:"vin",placeholder:"Ingresa los 17 caracteres del VIN",...u("vin"),className:`pr-10 text-lg font-mono tracking-wider ${h.vin?"border-destructive":""}`,maxLength:17,disabled:o,autoComplete:"off"}),l.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:t&&l.jsx(jn,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1 h-5",children:[h.vin?l.jsx("p",{className:"text-sm text-destructive",children:h.vin.message}):l.jsx("div",{}),l.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[(y==null?void 0:y.length)||0,"/17"]})]})]}),l.jsx(Vi,{children:C&&!s&&l.jsxs(Bt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"p-4 rounded-lg border bg-muted space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-lg",children:"Vehículo Detectado"}),l.jsxs("p",{className:"text-xl",children:[l.jsx("span",{className:"font-bold",children:C.year}),l.jsx("span",{className:"mx-2 font-light text-muted-foreground",children:"|"}),l.jsxs("span",{children:[C.make," ",C.model]})]})]}),l.jsx(OL,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[l.jsxs("div",{className:"space-y-1",children:[C.bodyClass&&l.jsxs("p",{children:[l.jsx("strong",{children:"Carrocería:"})," ",C.bodyClass]}),C.vehicleType&&l.jsxs("p",{children:[l.jsx("strong",{children:"Tipo:"})," ",C.vehicleType]}),C.driveType&&l.jsxs("p",{children:[l.jsx("strong",{children:"Tracción:"})," ",C.driveType]}),C.doors&&l.jsxs("p",{children:[l.jsx("strong",{children:"Puertas:"})," ",C.doors]})]}),l.jsxs("div",{className:"space-y-1",children:[C.engineCylinders&&l.jsxs("p",{children:[l.jsx("strong",{children:"Cilindros:"})," ",C.engineCylinders]}),C.displacementL&&l.jsxs("p",{children:[l.jsx("strong",{children:"Cilindrada:"})," ",C.displacementL," L"]}),C.fuelType&&l.jsxs("p",{children:[l.jsx("strong",{children:"Combustible:"})," ",C.fuelType]}),C.plantCountry&&l.jsxs("p",{children:[l.jsx("strong",{children:"Ensamblado en:"})," ",C.plantCountry]})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("p",{className:"text-sm text-center font-medium",children:"¿Es este tu vehículo?"}),l.jsxs("div",{className:"flex justify-center gap-2 pt-2",children:[l.jsxs(Ue,{type:"button",onClick:()=>a(!0),size:"sm",children:[l.jsx(Tx,{className:"mr-2 h-4 w-4"})," Sí, confirmar y solicitar"]}),l.jsxs(Ue,{type:"button",variant:"ghost",onClick:_,size:"sm",children:[l.jsx(yo,{className:"mr-2 h-4 w-4"})," Ingresar otro VIN"]})]})]})]})}),l.jsxs(Ue,{type:"submit",className:"w-full text-lg py-6",disabled:o||!s||t||!!h.vin,children:[o?l.jsx(jn,{className:"mr-2 h-5 w-5 animate-spin"}):l.jsx(G0,{className:"mr-2 h-5 w-5"}),o?"Enviando Solicitud...":"Solicitar Reporte Completo"]})]})},BP={completed:{text:"Completado",icon:l.jsx(vn,{className:"h-5 w-5 text-green-500"}),variant:"success"},processing:{text:"Procesando",icon:l.jsx(si,{className:"h-5 w-5 text-blue-500"}),variant:"default"},pending:{text:"Pendiente",icon:l.jsx(Ni,{className:"h-5 w-5 text-yellow-500"}),variant:"secondary"}},xle=({check:e})=>{const t=BP[e.status]||BP.pending;return l.jsxs("div",{className:"p-4 border rounded-lg bg-background hover:bg-muted/50 transition-colors flex flex-col space-y-3",children:[l.jsx("h4",{className:"w-full font-semibold font-mono text-base text-foreground break-all",children:e.vin}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(e.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"})," "," "," ",new Date(e.created_at).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vv,{variant:t.variant,children:t.text}),t.icon]}),e.status==="completed"&&e.pdf_url&&l.jsx("div",{className:"pt-3 mt-3 border-t",children:l.jsx(Ue,{asChild:!0,variant:"outline",className:"w-full",children:l.jsxs("a",{href:e.pdf_url,download:!0,target:"_blank",rel:"noopener noreferrer",children:[l.jsx(zm,{className:"mr-2 h-4 w-4"}),"Descargar Reporte"]})})})]})},ble=({history:e,isLoading:t,currentPage:n,totalPages:r,onPageChange:i})=>t?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>l.jsx(al,{className:"h-24 w-full"},a))}):!e||e.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8 px-4 border-2 border-dashed rounded-lg",children:l.jsx("p",{children:"No tienes verificaciones anteriores."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"space-y-4",children:e.map(s=>l.jsx(xle,{check:s},s.id))}),r>1&&l.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 border-t",children:[l.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>i(n-1),disabled:n===1,children:l.jsx(Ak,{className:"h-4 w-4"})}),l.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[n," / ",r]}),l.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>i(n+1),disabled:n===r,children:l.jsx(tV,{className:"h-4 w-4"})})]})]}),wle=()=>{const{vinCredits:e,showLowCreditAlert:t,vinHistory:n,historyLoading:r,handleCheckVin:i,decoding:s,decodedData:a,decodeVinWithFunction:o,resetDecoder:c,currentPage:u,totalPages:f,loadVinHistory:h}=hle();return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight text-foreground",children:"Verificación de VIN"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Solicita reportes de vehículos procesados por nuestro equipo de expertos."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(Yd,{className:"bg-emerald-50 dark:bg-emerald-950 border-emerald-200 dark:border-emerald-800",children:[l.jsx(sc,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),l.jsx(_h,{className:"text-emerald-900 dark:text-emerald-200",children:"Créditos Disponibles"}),l.jsxs(Xd,{className:"text-emerald-800 dark:text-emerald-300",children:["Tienes ",l.jsx("strong",{className:"text-2xl font-bold",children:e??"..."})," verificaciones restantes."]})]}),l.jsx(Vi,{children:t&&l.jsx(Bt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:l.jsxs(Yd,{variant:"destructive",children:[l.jsx(Ni,{className:"h-4 w-4"}),l.jsx(_h,{children:"Atención Requerida"}),l.jsx(Xd,{children:"Te quedan pocas verificaciones."})]})})})]}),l.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(ct,{className:"shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Solicitar Verificación"}),l.jsx(pn,{children:"Ingresa un VIN para obtener los datos básicos del vehículo y confirmar tu solicitud."})]}),l.jsx(ut,{children:l.jsx(yle,{onSubmitVin:i,decoding:s,decodedData:a,decodeVinWithFunction:o,resetDecoder:c})})]})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs(ct,{className:"shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Historial de Solicitudes"}),l.jsx(pn,{children:"Revisa el estado de tus verificaciones."})]}),l.jsx(ut,{children:l.jsx(ble,{history:n,isLoading:r,currentPage:u,totalPages:f,onPageChange:h})})]})})]})]})},Sle=({currentStep:e,steps:t})=>l.jsx("div",{className:"flex justify-between items-center mb-8 border-b pb-4",children:t.map((n,r)=>l.jsxs(Re.Fragment,{children:[l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors ${e>=r+1?"bg-primary border-primary text-primary-foreground":"bg-muted border-border text-muted-foreground"}`,children:e>r+1?l.jsx(vn,{className:"w-5 h-5"}):l.jsxs(l.Fragment,{children:[n.name==="Información"&&l.jsx($S,{className:"w-4 h-4"}),n.name==="Documentos"&&l.jsx(zk,{className:"w-4 h-4"}),n.name==="Confirmación"&&l.jsx(vn,{className:"w-4 h-4"})]})}),l.jsx("p",{className:`mt-1 text-xs font-medium ${e>=r+1?"text-primary":"text-muted-foreground"}`,children:n.name})]}),r<t.length-1&&l.jsx("div",{className:`flex-1 h-0.5 mx-2 ${e>r+1?"bg-primary":"bg-border"}`})]},n.id))}),_le=({missingDocs:e})=>e.length===0?null:l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ni,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Documentos Faltantes"}),l.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Los siguientes documentos son requeridos. El proceso no se completará hasta que subas todos los documentos:"}),l.jsx("ul",{className:"text-sm text-yellow-700 list-disc list-inside space-y-1",children:e.map((t,n)=>l.jsx("li",{children:t},n))})]})]})}),Cle=({register:e,errors:t})=>l.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-foreground mb-2 flex items-center",children:[l.jsx($S,{className:"w-5 h-5 mr-2"}),"Información del Vehículo"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"vin",children:"VIN"}),l.jsx(Ot,{id:"vin",placeholder:"17 dígitos",...e("vin"),className:`mt-1 ${t.vin?"border-destructive":""}`,maxLength:17}),t.vin&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.vin.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"color",children:"Color"}),l.jsx(Ot,{id:"color",placeholder:"Ej: Rojo, Azul Metálico",...e("color"),className:`mt-1 ${t.color?"border-destructive":""}`}),t.color&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.color.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"marca",children:"Marca"}),l.jsx(Ot,{id:"marca",placeholder:"Ej: Toyota, Ford",...e("marca"),className:`mt-1 ${t.marca?"border-destructive":""}`}),t.marca&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.marca.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"modelo",children:"Modelo"}),l.jsx(Ot,{id:"modelo",placeholder:"Ej: Camry, F-150",...e("modelo"),className:`mt-1 ${t.modelo?"border-destructive":""}`}),t.modelo&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.modelo.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"ano",children:"Año"}),l.jsx(Ot,{id:"ano",type:"number",placeholder:"Ej: 2020",...e("ano"),className:`mt-1 ${t.ano?"border-destructive":""}`,min:"1900",max:new Date().getFullYear()+1}),t.ano&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.ano.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"motor",children:"Motor"}),l.jsx(Ot,{id:"motor",placeholder:"Ej: 2.5L 4 cilindros",...e("motor"),className:`mt-1 ${t.motor?"border-destructive":""}`}),t.motor&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.motor.message})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(ht,{htmlFor:"cilindraje",children:"Cilindraje"}),l.jsx(Ot,{id:"cilindraje",placeholder:"Ej: 2500cc, 3.5L",...e("cilindraje"),className:`mt-1 ${t.cilindraje?"border-destructive":""}`}),t.cilindraje&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.cilindraje.message})]})]})]}),Nle=({register:e,errors:t})=>l.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-foreground mb-2 flex items-center",children:[l.jsx(_0,{className:"w-5 h-5 mr-2"}),"Datos del Propietario"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"ownerName",children:"Nombre Completo"}),l.jsx(Ot,{id:"ownerName",placeholder:"A nombre de quien quedará el vehículo",...e("ownerName"),className:`mt-1 ${t.ownerName?"border-destructive":""}`}),t.ownerName&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.ownerName.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"ownerPhone",children:"Teléfono de Contacto"}),l.jsx(Ot,{id:"ownerPhone",type:"tel",placeholder:"Tu número de contacto",...e("ownerPhone"),className:`mt-1 ${t.ownerPhone?"border-destructive":""}`}),t.ownerPhone&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.ownerPhone.message})]})]})]}),jle=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],lx=[{key:"identificationFront",name:"Identificación (lado frontal)"},{key:"identificationBack",name:"Identificación (lado trasero)"},{key:"proofOfAddress",name:"Comprobante de domicilio"},{key:"titleFront",name:"Título de propiedad (lado frontal)"},{key:"titleBack",name:"Título de propiedad (lado trasero)"},{key:"vehiclePhoto1",name:"Foto del vehículo (ángulo 1)"},{key:"vehiclePhoto2",name:"Foto del vehículo (ángulo 2)"},{key:"vehiclePhoto3",name:"Foto del vehículo (ángulo 3)"},{key:"vehiclePhoto4",name:"Foto del vehículo (ángulo 4)"},{key:"windshieldSerial",name:"Foto del número de serie del parabrisas"},{key:"doorSticker",name:"Foto del sticker de la puerta"}],Ple=[{id:1,name:"Información"},{id:2,name:"Documentos"},{id:3,name:"Confirmación"}],Ale=({control:e,errors:t})=>l.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-foreground mb-2 flex items-center",children:[l.jsx(mo,{className:"w-5 h-5 mr-2"}),"Datos del Título"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"titleIssueDate",children:"Fecha de Emisión del Título"}),l.jsx(fo,{name:"titleIssueDate",control:e,render:({field:n})=>l.jsxs(N2,{children:[l.jsx(j2,{asChild:!0,children:l.jsxs(Ue,{variant:"outline",className:Je("w-full justify-start text-left font-normal mt-1",!n.value&&"text-muted-foreground",t.titleIssueDate?"border-destructive":""),children:[l.jsx(Rx,{className:"mr-2 h-4 w-4"}),n.value?Hr(n.value,"PPP",{locale:Fa}):l.jsx("span",{children:"Selecciona fecha"})]})}),l.jsx(wv,{className:"w-auto p-0",children:l.jsx(Nv,{mode:"single",selected:n.value,onSelect:n.onChange,initialFocus:!0,locale:Fa})})]})}),t.titleIssueDate&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.titleIssueDate.message})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"originState",children:"Estado de Procedencia (USA)"}),l.jsx(fo,{name:"originState",control:e,render:({field:n})=>l.jsxs(Pr,{onValueChange:n.onChange,defaultValue:n.value,children:[l.jsx(dr,{className:`mt-1 w-full ${t.originState?"border-destructive":""}`,children:l.jsx(Ar,{placeholder:"Selecciona el estado de USA"})}),l.jsx(fr,{children:jle.map(r=>l.jsx(nt,{value:r,children:r},r))})]})}),t.originState&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.originState.message})]})]}),l.jsxs("div",{children:[l.jsx(ht,{children:"Tipo de Legalización"}),l.jsx(fo,{name:"legalizationType",control:e,render:({field:n})=>l.jsxs(_2,{onValueChange:n.onChange,value:n.value,className:"flex space-x-4 mt-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kd,{value:"aduana",id:"type-aduana"}),l.jsx(ht,{htmlFor:"type-aduana",className:"font-normal",children:"Vía Aduana"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kd,{value:"decreto",id:"type-decreto"}),l.jsx(ht,{htmlFor:"type-decreto",className:"font-normal",children:"Por Decreto"})]})]})}),t.legalizationType&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:t.legalizationType.message})]})]}),kle=({uploadedFiles:e,onFileChange:t})=>{const n=({id:r,label:i,description:s,required:a=!1})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ht,{htmlFor:r,className:"flex items-center",children:[l.jsx(jh,{className:"w-4 h-4 mr-2"}),i,a&&l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:r,className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted/80 border-border",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-4 pb-5 text-muted-foreground",children:[l.jsx(jh,{className:"w-6 h-6 mb-1"}),l.jsx("p",{id:`${r}-label`,className:"text-xs",children:l.jsx("span",{className:"font-semibold",children:"Subir archivo"})}),l.jsx("p",{className:"text-xs text-center px-2",children:s})]}),l.jsx(Ot,{id:r,type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:o=>t(r,o)})]})}),e[r]&&l.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[l.jsx(vn,{className:"w-4 h-4 mr-1"}),"Archivo subido: ",e[r].name]})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Ni,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Documentos Opcionales"}),l.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-2",children:"Puedes enviar la solicitud sin todos los documentos. Los documentos faltantes se pueden subir posteriormente desde el historial."}),l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Nota:"})," El proceso de legalización no podrá completarse hasta que todos los documentos requeridos estén disponibles."]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(_0,{className:"w-4 h-4 mr-2"}),"Documentos de Identificación"]}),l.jsx(n,{id:"identificationFront",label:"Identificación (Frontal)",description:"INE, Pasaporte o Cédula - Lado frontal",required:!0}),l.jsx(n,{id:"identificationBack",label:"Identificación (Trasero)",description:"INE, Pasaporte o Cédula - Lado trasero",required:!0}),l.jsx(n,{id:"proofOfAddress",label:"Comprobante de Domicilio",description:"Recibo de luz, agua o teléfono (máx. 3 meses)",required:!0})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(mo,{className:"w-4 h-4 mr-2"}),"Documentos del Vehículo"]}),l.jsx(n,{id:"titleFront",label:"Título de Propiedad (Frontal)",description:"Title del vehículo - Lado frontal",required:!0}),l.jsx(n,{id:"titleBack",label:"Título de Propiedad (Trasero)",description:"Title del vehículo - Lado trasero",required:!0})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx(fV,{className:"w-4 h-4 mr-2"}),"Fotografías del Vehículo"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(n,{id:"vehiclePhoto1",label:"Foto Frontal",description:"Vista frontal completa del vehículo"}),l.jsx(n,{id:"vehiclePhoto2",label:"Foto Trasera",description:"Vista trasera completa del vehículo"}),l.jsx(n,{id:"vehiclePhoto3",label:"Foto Lateral Izquierda",description:"Vista lateral izquierda completa"}),l.jsx(n,{id:"vehiclePhoto4",label:"Foto Lateral Derecha",description:"Vista lateral derecha completa"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[l.jsx($S,{className:"w-4 h-4 mr-2"}),"Detalles del Vehículo"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(n,{id:"windshieldSerial",label:"Número de Serie del Parabrisas",description:"Foto clara del número en el parabrisas"}),l.jsx(n,{id:"doorSticker",label:"Sticker de la Puerta",description:"Etiqueta de información en el marco de la puerta"})]})]})]})},Ele=Gd({vin:En().length(17,"El VIN debe tener 17 caracteres"),color:En().min(1,"Color del vehículo requerido"),marca:En().min(1,"Marca del vehículo requerida"),modelo:En().min(1,"Modelo del vehículo requerido"),ano:gre(e=>Number(e),pre().min(1900,"Año inválido").max(new Date().getFullYear()+1,"Año inválido")),motor:En().min(1,"Información del motor requerida"),cilindraje:En().min(1,"Cilindraje requerido"),ownerName:En().min(1,"Nombre del propietario requerido"),ownerPhone:En().min(10,"Teléfono inválido"),titleIssueDate:X4({required_error:"Fecha de emisión requerida"}),originState:En().min(1,"Estado de procedencia requerido"),legalizationType:JR(["aduana","decreto"],{required_error:"Selecciona el tipo de legalización"}),identificationFront:Ko().optional(),identificationBack:Ko().optional(),proofOfAddress:Ko().optional(),titleFront:Ko().optional(),titleBack:Ko().optional(),vehiclePhoto1:Ko().optional(),vehiclePhoto2:Ko().optional(),vehiclePhoto3:Ko().optional(),vehiclePhoto4:Ko().optional(),windshieldSerial:Ko().optional(),doorSticker:Ko().optional()}),$le=({onSubmit:e,isSubmitting:t})=>{const{toast:n}=Pn(),[r,i]=w.useState(1),[s,a]=w.useState({}),{register:o,handleSubmit:c,control:u,formState:{errors:f},trigger:h}=pv({resolver:mv(Ele)}),g=()=>lx.filter(A=>!s[A.key]).map(A=>A.name),m=(A,R)=>{R&&R.length>0&&a(D=>({...D,[A]:R[0]}))},x=(A,R)=>{const D=R.target.files[0];if(D){m(A,[D]);const T=document.getElementById(`${A}-label`);T&&(T.textContent=D.name)}},y=async()=>{await h()?i(R=>R+1):n({title:"Campos Incompletos",description:"Por favor revisa los campos marcados.",variant:"destructive"})},S=()=>{i(A=>A-1)},_=async A=>{await e(A,s),i(3),a({})},C=async A=>{const R=g();R.length>0&&n({title:"Documentos Pendientes",description:`Se enviará la solicitud sin ${R.length} documentos. Podrás subirlos posteriormente desde el historial.`,variant:"default"}),await _(A)},P=()=>{i(1),a({})};return l.jsxs("div",{children:[l.jsx(Sle,{currentStep:r,steps:Ple}),l.jsxs("form",{onSubmit:c(_),className:"space-y-6",children:[r===1&&l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[l.jsx(Cle,{register:o,errors:f}),l.jsx(Nle,{register:o,errors:f}),l.jsx(Ale,{control:u,errors:f}),l.jsx(Ue,{type:"button",onClick:y,className:"w-full",children:"Siguiente: Documentos"})]}),r===2&&l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[l.jsx(_le,{missingDocs:g()}),l.jsx(kle,{uploadedFiles:s,onFileChange:x}),l.jsxs("div",{className:"flex justify-between mt-6 space-x-4",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:S,children:"Anterior"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Ue,{type:"button",variant:"secondary",onClick:c(C),disabled:t,children:[l.jsx(si,{className:"w-4 h-4 mr-2"}),t?"Enviando...":"Enviar Sin Documentos"]}),l.jsxs(Ue,{type:"submit",disabled:t,children:[l.jsx(vn,{className:"w-4 h-4 mr-2"}),t?"Enviando...":"Enviar Solicitud Completa"]})]})]})]}),r===3&&l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4 py-8",children:[l.jsx(vn,{className:"mx-auto h-12 w-12 text-green-500"}),l.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Solicitud Enviada"}),l.jsxs("p",{className:"text-muted-foreground",children:["Hemos recibido tu solicitud de legalización.",g().length>0&&l.jsx("span",{className:"block mt-2 text-yellow-600",children:"Recuerda subir los documentos faltantes desde el historial para completar el proceso."}),"Recibirás notificaciones sobre el estado del proceso."]}),l.jsx(Ue,{variant:"outline",onClick:P,children:"Iniciar Nueva Solicitud"})]})]})]})},Rle=({legalizations:e,onOpenDocumentModal:t})=>{const{user:n}=vo(),{fetchRecords:r}=bf(),[i,s]=w.useState({});w.useEffect(()=>{n&&e.length>0&&a()},[n,e]);const a=async()=>{if(!n)return;const f=e.map(async m=>{const x=await r("documents",{user_id:n.id,legalization_id:m.id});return{legalizationId:m.id,documents:x.success?x.data||[]:[]}}),h=await Promise.all(f),g={};h.forEach(({legalizationId:m,documents:x})=>{g[m]=x}),s(g)},o=f=>{const h=i[f]||[],g=lx.length,m=h.length,x=h.filter(_=>_.status==="approved").length,y=h.filter(_=>_.status==="rejected").length,S=h.filter(_=>_.status==="pending").length;return{total:g,uploaded:m,approved:x,rejected:y,pending:S,missing:g-m,completionPercentage:Math.round(m/g*100)}},c=f=>{const h={completed:{bg:"bg-green-100",text:"text-green-800",label:"Completado"},approved:{bg:"bg-blue-100",text:"text-blue-800",label:"Aprobado"},in_review:{bg:"bg-yellow-100",text:"text-yellow-800",label:"En Revisión"},rejected:{bg:"bg-red-100",text:"text-red-800",label:"Rechazado"},pending:{bg:"bg-gray-100",text:"text-gray-800",label:"Pendiente"}},g=h[f]||h.pending;return l.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.bg} ${g.text}`,children:g.label})},u=({stats:f})=>l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsx("span",{children:"Documentos"}),l.jsxs("span",{children:[f.uploaded,"/",f.total]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${f.completionPercentage}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs mt-1 text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(vn,{className:"w-3 h-3 mr-1 text-green-500"}),f.approved," aprobados"]}),f.rejected>0&&l.jsxs("span",{className:"flex items-center",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1 text-red-500"}),f.rejected," rechazados"]}),f.pending>0&&l.jsxs("span",{className:"flex items-center",children:[l.jsx(si,{className:"w-3 h-3 mr-1 text-yellow-500"}),f.pending," en revisión"]})]})]});return l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Historial de Legalizaciones"}),l.jsx(pn,{children:"Estado de solicitudes anteriores y progreso de documentos."})]}),l.jsx(ut,{children:e.length>0?l.jsx("div",{className:"space-y-4",children:e.map(f=>{const h=o(f.id);return l.jsx("div",{className:"p-4 border border-border rounded-lg bg-secondary",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-medium",children:["VIN: ",f.vin]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.vehicle_info.marca," ",f.vehicle_info.modelo," ",f.vehicle_info.ano]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Creado: ",new Date(f.created_at).toLocaleDateString()]}),l.jsx(u,{stats:h}),h.missing>0&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-950/20 rounded border border-yellow-200 dark:border-yellow-800",children:l.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[l.jsx(Wr,{className:"w-3 h-3 inline mr-1"}),"Faltan ",h.missing," documento(s) por subir"]})}),h.rejected>0&&l.jsx("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-950/20 rounded border border-red-200 dark:border-red-800",children:l.jsxs("p",{className:"text-xs text-red-800 dark:text-red-200",children:[l.jsx(Wr,{className:"w-3 h-3 inline mr-1"}),h.rejected," documento(s) rechazado(s) - requieren nueva subida"]})})]}),l.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[(f.status==="pending"||f.status==="in_review")&&l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>t(f),className:"text-xs",children:[l.jsx(mV,{className:"w-3 h-3 mr-1"}),h.missing>0||h.rejected>0?"Subir Documentos":"Ver Documentos"]}),c(f.status)]})]})},f.id)})}):l.jsx("p",{className:"text-muted-foreground italic",children:"No hay historial disponible."})})]})},Tle=e=>{const t=e.slice(e.lastIndexOf(".")),r=e.slice(0,e.lastIndexOf(".")).toLowerCase().replace(/\s+/g,"-").replace(/ñ/g,"n").replace(/[^\w-]/g,""),i=Date.now();return`${r}-${i}${t}`},Lle=({isOpen:e,onClose:t,legalization:n,onDocumentsUploaded:r})=>{const{toast:i}=Pn(),{user:s}=vo(),{createDocument:a,uploadFile:o,fetchRecords:c}=bf(),[u,f]=w.useState({}),[h,g]=w.useState(!1),[m,x]=w.useState([]),[y,S]=w.useState(!0);w.useEffect(()=>{const H={};lx.forEach(V=>{H[V.id]=null}),f(H)},[]),w.useEffect(()=>{n&&s&&_()},[n,s]);const _=async()=>{if(!(!s||!n)){S(!0);try{const H=await c("documents",{user_id:s.id,legalization_id:n.id});H.success&&x(H.data||[])}catch(H){console.error("Error loading documents:",H),i({variant:"destructive",title:"Error",description:"No se pudieron cargar los documentos existentes"})}finally{S(!1)}}},C=H=>{const V=m.find(ae=>ae.document_type===H);return V?{exists:!0,fileName:V.file_name,status:V.status,uploadedAt:V.created_at}:{exists:!1}},P=H=>{switch(H){case"approved":return"text-green-600";case"rejected":return"text-red-600";case"pending":return"text-yellow-600";default:return"text-gray-600"}},A=H=>{switch(H){case"approved":return"Aprobado";case"rejected":return"Rechazado";case"pending":return"En revisión";default:return"Desconocido"}},R=(H,V)=>{var J;const ae=(J=V.target.files)==null?void 0:J[0];if(ae){f(z=>({...z,[H]:ae}));const W=document.getElementById(`modal-${H}-label`);W&&(W.textContent=ae.name)}},D=async H=>{if(H.preventDefault(),!s||!n)return;const V=Object.entries(u).filter(([ae,J])=>J!==null);if(V.length===0){i({variant:"destructive",title:"Sin documentos",description:"Selecciona al menos un documento para subir."});return}g(!0);try{const ae=await Promise.all(V.map(async([z,ne])=>{try{const se=Tle(ne.name),X=`${s.id}/legalizations/${n.id}/${z}_${Date.now()}_${se}`,B=await o("documents",X,ne);if(!B.success)throw B.error;const Q=await a({user_id:s.id,legalization_id:n.id,document_type:z,file_name:se,file_path:X,file_size:ne.size,mime_type:ne.type,status:"pending"});if(!Q.success)throw Q.error;return{success:!0,key:z}}catch(se){return console.error(`Error uploading ${z}:`,se),{success:!1,key:z,error:se}}})),J=ae.filter(z=>z.success);J.length>0&&(i({title:"Documentos Subidos",description:`Se han subido ${J.length} documento(s) exitosamente.`}),f(z=>{const ne={...z};return J.forEach(({key:se})=>{ne[se]=null}),ne}),await _(),r());const W=ae.filter(z=>!z.success);W.length>0&&i({variant:"destructive",title:"Error en algunos documentos",description:`${W.length} documento(s) no se pudieron subir.`})}catch(ae){console.error("Error in document upload:",ae),i({variant:"destructive",title:"Error",description:"Ocurrió un error al procesar los documentos."})}finally{g(!1)}},T=Re.memo(({id:H,label:V,description:ae,required:J=!1})=>{const W=C(H);return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ht,{htmlFor:`modal-${H}`,className:"flex items-center",children:[l.jsx(jh,{className:"w-4 h-4 mr-2"}),V,J&&l.jsx("span",{className:"text-destructive ml-1",children:"*"}),W.exists&&l.jsx(vn,{className:"w-4 h-4 ml-2 text-green-500"})]}),W.exists&&l.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded border text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Documento actual:"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${P(W.status)}`,children:A(W.status)})]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:W.fileName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Subido: ",new Date(W.uploadedAt).toLocaleDateString()]}),W.status==="rejected"&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Este documento fue rechazado. Sube una nueva versión."})]}),l.jsx("div",{className:"flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:`modal-${H}`,className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted/80 border-border",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-4 text-muted-foreground",children:[l.jsx(jh,{className:"w-5 h-5 mb-1"}),l.jsx("p",{id:`modal-${H}-label`,className:"text-xs",children:l.jsx("span",{className:"font-semibold",children:W.exists?"Reemplazar archivo":"Subir archivo"})}),l.jsx("p",{className:"text-xs text-center px-2",children:ae})]}),l.jsx(Ot,{id:`modal-${H}`,type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:z=>R(H,z)})]})}),u[H]&&l.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[l.jsx(vn,{className:"w-4 h-4 mr-1"}),"Archivo seleccionado: ",u[H].name]})]})});if(!n)return null;const M=lx.length,U=m.length,ee=m.filter(H=>H.status==="approved").length,F=m.filter(H=>H.status==="rejected").length,O=m.filter(H=>H.status==="pending").length;return l.jsx(vl,{open:e,onOpenChange:t,children:l.jsxs(bo,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(wo,{children:[l.jsxs(So,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Subir Documentos Faltantes"}),l.jsx(Ue,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(yo,{className:"h-4 w-4"})})]}),l.jsxs(_o,{children:["Sube los documentos faltantes para la legalización del VIN: ",n.vin]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:U}),l.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Subidos"})]}),l.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:ee}),l.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:"Aprobados"})]}),l.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg border border-yellow-200 dark:border-yellow-800 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:O}),l.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"En Revisión"})]}),l.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:F}),l.jsx("div",{className:"text-sm text-red-800 dark:text-red-200",children:"Rechazados"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{children:"Progreso de documentos"}),l.jsxs("span",{children:[U,"/",M," documentos"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${U/M*100}%`}})})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Estado de Documentos"}),l.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Puedes subir documentos nuevos o reemplazar los existentes. Los documentos rechazados necesitan ser resubidos."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Documentos de Identificación"}),l.jsx(T,{id:"identificationFront",label:"Identificación (Frontal)",description:"INE, Pasaporte o Cédula - Lado frontal",required:!0}),l.jsx(T,{id:"identificationBack",label:"Identificación (Trasero)",description:"INE, Pasaporte o Cédula - Lado trasero",required:!0}),l.jsx(T,{id:"proofOfAddress",label:"Comprobante de Domicilio",description:"Recibo de luz, agua o teléfono (máx. 3 meses)",required:!0})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Documentos del Vehículo"}),l.jsx(T,{id:"titleFront",label:"Título de Propiedad (Frontal)",description:"Title del vehículo - Lado frontal",required:!0}),l.jsx(T,{id:"titleBack",label:"Título de Propiedad (Trasero)",description:"Title del vehículo - Lado trasero",required:!0})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Fotografías del Vehículo"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(T,{id:"vehiclePhoto1",label:"Foto Frontal",description:"Vista frontal completa del vehículo"}),l.jsx(T,{id:"vehiclePhoto2",label:"Foto Trasera",description:"Vista trasera completa del vehículo"}),l.jsx(T,{id:"vehiclePhoto3",label:"Foto Lateral Izquierda",description:"Vista lateral izquierda completa"}),l.jsx(T,{id:"vehiclePhoto4",label:"Foto Lateral Derecha",description:"Vista lateral derecha completa"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Detalles del Vehículo"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(T,{id:"windshieldSerial",label:"Número de Serie del Parabrisas",description:"Foto clara del número en el parabrisas"}),l.jsx(T,{id:"doorSticker",label:"Sticker de la Puerta",description:"Etiqueta de información en el marco de la puerta"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Cancelar"}),l.jsx(Ue,{type:"submit",disabled:h||y,children:h?"Subiendo...":"Subir Documentos"})]})]})]})})},Dle=()=>{const{toast:e}=Pn(),{user:t}=Pi(),{createLegalization:n,createDocument:r,uploadFile:i,fetchRecords:s}=bf(),[a,o]=w.useState([]),[c,u]=w.useState(!0),[f,h]=w.useState(!1),[g,m]=w.useState(null),[x,y]=w.useState(!1),S=w.useCallback(async()=>{if(!t){o([]);return}const R=await s("legalizations",{user_id:t.id},{orderBy:{column:"created_at",ascending:!1}});R.success&&o(R.data||[])},[t,s]);w.useEffect(()=>{(async()=>{if(!t){u(!1);return}u(!0),await S(),u(!1)})()},[t,S]);const _=async(R,D)=>{if(t){h(!0);try{const T={vin:R.vin,vehicle_info:{vin:R.vin,color:R.color,marca:R.marca,modelo:R.modelo,ano:R.ano,motor:R.motor,cilindraje:R.cilindraje},owner_info:{name:R.ownerName,phone:R.ownerPhone},title_info:{issue_date:R.titleIssueDate,origin_state:R.originState,legalization_type:R.legalizationType},status:"pending"},M=await n(t.id,T);if(M.success){if(Object.keys(D).length>0){const U=Object.entries(D).map(async([ee,F])=>{const O=`${t.id}/legalizations/${M.data.id}/${ee}_${F.name}`;return(await i("documents",O,F)).success?r(t.id,{legalization_id:M.data.id,document_type:ee,file_name:F.name,file_path:O,file_size:F.size,mime_type:F.type,status:"pending"}):null});await Promise.all(U)}e({title:"Solicitud Enviada",description:"Tu solicitud de legalización ha sido recibida. Los documentos faltantes pueden subirse posteriormente."}),S()}}catch(T){console.error("Error submitting legalization:",T),e({variant:"destructive",title:"Error",description:"No se pudo enviar la solicitud. Inténtalo de nuevo."})}finally{h(!1)}}},C=R=>{m(R),y(!0)},P=()=>{m(null),y(!1)},A=()=>{S()};return c?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Legalización de Autos"}),l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"Cargando legalizaciones..."})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Legalización de Autos"}),l.jsx("p",{className:"text-muted-foreground",children:"Inicia el proceso para legalizar tu vehículo importado desde Estados Unidos."}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Nueva Solicitud de Legalización"}),l.jsx(pn,{children:"Completa los pasos a continuación."})]}),l.jsx(ut,{children:l.jsx($le,{onSubmit:_,isSubmitting:f})})]}),l.jsx(Rle,{legalizations:a,onOpenDocumentModal:C}),l.jsx(Lle,{isOpen:x,onClose:P,legalization:g,onDocumentsUploaded:A})]})};var IL="basil",Ole=function(t){return t===3?"v3":t},ML="https://js.stripe.com",Ile="".concat(ML,"/").concat(IL,"/stripe.js"),Mle=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Fle=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ble=function(t){return Mle.test(t)||Fle.test(t)},Vle=function(){for(var t=document.querySelectorAll('script[src^="'.concat(ML,'"]')),n=0;n<t.length;n++){var r=t[n];if(Ble(r.src))return r}return null},VP=function(t){var n="",r=document.createElement("script");r.src="".concat(Ile).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},zle=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:n})},kg=null,P1=null,A1=null,Ule=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Wle=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Hle=function(t){return kg!==null?kg:(kg=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Vle();if(!(i&&t)){if(!i)i=VP(t);else if(i&&A1!==null&&P1!==null){var s;i.removeEventListener("load",A1),i.removeEventListener("error",P1),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=VP(t)}}A1=Wle(n,r),P1=Ule(r),i.addEventListener("load",A1),i.addEventListener("error",P1)}catch(a){r(a);return}}),kg.catch(function(n){return kg=null,Promise.reject(n)}))},qle=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),a=Ole(t.version),o=IL;s&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return zle(c,r),c},Eg,FL=!1,BL=function(){return Eg||(Eg=Hle(null).catch(function(t){return Eg=null,Promise.reject(t)}),Eg)};Promise.resolve().then(function(){return BL()}).catch(function(e){FL||console.warn(e)});var Gle=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];FL=!0;var i=Date.now();return BL().then(function(s){return qle(s,n,i)})};function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){VL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dy(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dy=function(t){return typeof t}:dy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function VL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kle(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Yle(e,t){if(e==null)return{};var n=Kle(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zL(e,t){return Xle(e)||Jle(e,t)||Zle(e,t)||Qle()}function Xle(e){if(Array.isArray(e))return e}function Jle(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function Zle(e,t){if(e){if(typeof e=="string")return WP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(e,t)}}function WP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ka=function(t,n,r){var i=!!r,s=Re.useRef(r);Re.useEffect(function(){s.current=r},[r]),Re.useEffect(function(){if(!i||!t)return function(){};var a=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,a),function(){t.off(n,a)}},[i,n,t,s])},T3=function(t){var n=Re.useRef(t);return Re.useEffect(function(){n.current=t},[t]),n.current},Im=function(t){return t!==null&&dy(t)==="object"},ece=function(t){return Im(t)&&typeof t.then=="function"},tce=function(t){return Im(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},HP="[object Object]",nce=function e(t,n){if(!Im(t)||!Im(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===HP,a=Object.prototype.toString.call(n)===HP;if(s!==a)return!1;if(!s&&!r)return t===n;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(var u={},f=0;f<o.length;f+=1)u[o[f]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var g=Object.keys(u);if(g.length!==o.length)return!1;var m=t,x=n,y=function(_){return e(m[_],x[_])};return g.every(y)},UL=function(t,n,r){return Im(t)?Object.keys(t).reduce(function(i,s){var a=!Im(n)||!nce(t[s],n[s]);return r.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?UP(UP({},i||{}),{},VL({},s,t[s])):i},null):null},WL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",qP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WL;if(t===null||tce(t))return t;throw new Error(n)},rce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WL;if(ece(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return qP(i,n)})};var r=qP(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},ice=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},k2=Re.createContext(null);k2.displayName="ElementsContext";var HL=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},qL=function(t){var n=t.stripe,r=t.options,i=t.children,s=Re.useMemo(function(){return rce(n)},[n]),a=Re.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),o=zL(a,2),c=o[0],u=o[1];Re.useEffect(function(){var g=!0,m=function(y){u(function(S){return S.stripe?S:{stripe:y,elements:y.elements(r)}})};return s.tag==="async"&&!c.stripe?s.stripePromise.then(function(x){x&&g&&m(x)}):s.tag==="sync"&&!c.stripe&&m(s.stripe),function(){g=!1}},[s,c,r]);var f=T3(n);Re.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var h=T3(r);return Re.useEffect(function(){if(c.elements){var g=UL(r,h,["clientSecret","fonts"]);g&&c.elements.update(g)}},[r,h,c.elements]),Re.useEffect(function(){ice(c.stripe)},[c.stripe]),Re.createElement(k2.Provider,{value:c},i)};qL.propTypes={stripe:ze.any,options:ze.object};var sce=function(t){var n=Re.useContext(k2);return HL(n,t)},ace=function(){var t=sce("calls useElements()"),n=t.elements;return n};ze.func.isRequired;var GL=Re.createContext(null);GL.displayName="CheckoutSdkContext";var oce=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},lce=Re.createContext(null);lce.displayName="CheckoutContext";ze.any,ze.shape({fetchClientSecret:ze.func.isRequired,elementsOptions:ze.object}).isRequired;var L3=function(t){var n=Re.useContext(GL),r=Re.useContext(k2);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?oce(n,t):HL(r,t)},cce=["mode"],uce=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},gi=function(t,n){var r="".concat(uce(t),"Element"),i=function(c){var u=c.id,f=c.className,h=c.options,g=h===void 0?{}:h,m=c.onBlur,x=c.onFocus,y=c.onReady,S=c.onChange,_=c.onEscape,C=c.onClick,P=c.onLoadError,A=c.onLoaderStart,R=c.onNetworksChange,D=c.onConfirm,T=c.onCancel,M=c.onShippingAddressChange,U=c.onShippingRateChange,ee=L3("mounts <".concat(r,">")),F="elements"in ee?ee.elements:null,O="checkoutSdk"in ee?ee.checkoutSdk:null,H=Re.useState(null),V=zL(H,2),ae=V[0],J=V[1],W=Re.useRef(null),z=Re.useRef(null);ka(ae,"blur",m),ka(ae,"focus",x),ka(ae,"escape",_),ka(ae,"click",C),ka(ae,"loaderror",P),ka(ae,"loaderstart",A),ka(ae,"networkschange",R),ka(ae,"confirm",D),ka(ae,"cancel",T),ka(ae,"shippingaddresschange",M),ka(ae,"shippingratechange",U),ka(ae,"change",S);var ne;y&&(t==="expressCheckout"?ne=y:ne=function(){y(ae)}),ka(ae,"ready",ne),Re.useLayoutEffect(function(){if(W.current===null&&z.current!==null&&(F||O)){var X=null;if(O)switch(t){case"payment":X=O.createPaymentElement(g);break;case"address":if("mode"in g){var B=g.mode,Q=Yle(g,cce);if(B==="shipping")X=O.createShippingAddressElement(Q);else if(B==="billing")X=O.createBillingAddressElement(Q);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":X=O.createExpressCheckoutElement(g);break;case"currencySelector":X=O.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else F&&(X=F.create(t,g));W.current=X,J(X),X&&X.mount(z.current)}},[F,O,g]);var se=T3(g);return Re.useEffect(function(){if(W.current){var X=UL(g,se,["paymentRequest"]);X&&"update"in W.current&&W.current.update(X)}},[g,se]),Re.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),Re.createElement("div",{id:u,className:f,ref:z})},s=function(c){L3("mounts <".concat(r,">"));var u=c.id,f=c.className;return Re.createElement("div",{id:u,className:f})},a=n?s:i;return a.propTypes={id:ze.string,className:ze.string,onChange:ze.func,onBlur:ze.func,onFocus:ze.func,onReady:ze.func,onEscape:ze.func,onClick:ze.func,onLoadError:ze.func,onLoaderStart:ze.func,onNetworksChange:ze.func,onConfirm:ze.func,onCancel:ze.func,onShippingAddressChange:ze.func,onShippingRateChange:ze.func,options:ze.object},a.displayName=r,a.__elementType=t,a},vi=typeof window>"u",dce=Re.createContext(null);dce.displayName="EmbeddedCheckoutProviderContext";var fce=function(){var t=L3("calls useStripe()"),n=t.stripe;return n};gi("auBankAccount",vi);gi("card",vi);gi("cardNumber",vi);gi("cardExpiry",vi);gi("cardCvc",vi);gi("fpxBank",vi);gi("iban",vi);gi("idealBank",vi);gi("p24Bank",vi);gi("epsBank",vi);var hce=gi("payment",vi);gi("expressCheckout",vi);gi("currencySelector",vi);gi("paymentRequestButton",vi);gi("linkAuthentication",vi);gi("address",vi);gi("shippingAddress",vi);gi("paymentMethodMessaging",vi);gi("affirmMessage",vi);gi("afterpayClearpayMessage",vi);const pce=({onSuccessfulPayment:e})=>{const t=fce(),n=ace(),r=qn.useSupabaseClient(),{user:i}=Pi(),{toast:s}=Pn(),[a,o]=w.useState(!1),c=async u=>{if(u.preventDefault(),!t||!n||!i){s({variant:"destructive",title:"Error de inicialización",description:"El formulario de pago no está listo. Por favor, recarga la página."});return}o(!0);try{const{error:f,paymentIntent:h}=await t.confirmPayment({elements:n,redirect:"if_required"});if(f)throw f;if(h&&h.status==="requires_capture"){s({title:"Autorización Exitosa",description:"Actualizando tu poder de compra..."});const{data:g,error:m}=await r.from("power_buying_requests").select("amount").eq("payment_intent_id",h.id).single();if(m||!g)throw new Error("No se pudo encontrar la solicitud de compra original en la base de datos.");const x=g.amount,{error:y}=await r.from("power_buying_requests").update({status:"active"}).eq("payment_intent_id",h.id);if(y)throw y;const{error:S}=await r.rpc("increment_buying_power",{user_id_param:i.id,amount_to_add:x});if(S)throw S;s({title:"¡Listo!",description:"El depósito ha sido autorizado y tu poder de compra ha sido actualizado."}),e()}else throw new Error(`Estado de pago inesperado: ${h?h.status:"desconocido"}.`)}catch(f){console.error("Error detallado en handleSubmit:",f),s({variant:"destructive",title:"Error en el Proceso",description:f.message||"Ocurrió un error desconocido. Revisa la consola."})}finally{o(!1)}};return l.jsxs("form",{onSubmit:c,children:[l.jsx(hce,{}),l.jsxs(Ue,{disabled:a||!t||!n,className:"w-full mt-4",children:[a?l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}):null,l.jsx("span",{children:a?"Procesando...":"Autorizar Depósito"})]})]})};var KL=["PageUp","PageDown"],YL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zm="Slider",[D3,mce,gce]=J0(Zm),[JL,uxe]=Ui(Zm,[gce]),[vce,E2]=JL(Zm),ZL=w.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:m=!1,form:x,...y}=e,S=w.useRef(new Set),_=w.useRef(0),P=a==="horizontal"?yce:xce,[A=[],R]=go({prop:f,defaultProp:u,onChange:F=>{var H;(H=[...S.current][_.current])==null||H.focus(),h(F)}}),D=w.useRef(A);function T(F){const O=Cce(A,F);ee(F,O)}function M(F){ee(F,_.current)}function U(){const F=D.current[_.current];A[_.current]!==F&&g(A)}function ee(F,O,{commit:H}={commit:!1}){const V=Ace(s),ae=kce(Math.round((F-r)/s)*s+r,V),J=sx(ae,[r,i]);R((W=[])=>{const z=Sce(W,J,O);if(Pce(z,c*s)){_.current=z.indexOf(J);const ne=String(z)!==String(W);return ne&&H&&g(z),ne?z:W}else return W})}return l.jsx(vce,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:_,thumbs:S.current,values:A,orientation:a,form:x,children:l.jsx(D3.Provider,{scope:e.__scopeSlider,children:l.jsx(D3.Slot,{scope:e.__scopeSlider,children:l.jsx(P,{"aria-disabled":o,"data-disabled":o?"":void 0,...y,ref:t,onPointerDown:rt(y.onPointerDown,()=>{o||(D.current=A)}),min:r,max:i,inverted:m,onSlideStart:o?void 0:T,onSlideMove:o?void 0:M,onSlideEnd:o?void 0:U,onHomeKeyDown:()=>!o&&ee(r,0,{commit:!0}),onEndKeyDown:()=>!o&&ee(i,A.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:O})=>{if(!o){const ae=KL.includes(F.key)||F.shiftKey&&YL.includes(F.key)?10:1,J=_.current,W=A[J],z=s*ae*O;ee(W+z,J,{commit:!0})}}})})})})});ZL.displayName=Zm;var[QL,eD]=JL(Zm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yce=w.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,g]=w.useState(null),m=tn(t,P=>g(P)),x=w.useRef(void 0),y=Ym(i),S=y==="ltr",_=S&&!s||!S&&s;function C(P){const A=x.current||h.getBoundingClientRect(),R=[0,A.width],T=p_(R,_?[n,r]:[r,n]);return x.current=A,T(P-A.left)}return l.jsx(QL,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:l.jsx(tD,{dir:y,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const A=C(P.clientX);a==null||a(A)},onSlideMove:P=>{const A=C(P.clientX);o==null||o(A)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:P=>{const R=XL[_?"from-left":"from-right"].includes(P.key);u==null||u({event:P,direction:R?-1:1})}})})}),xce=w.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=e,f=w.useRef(null),h=tn(t,f),g=w.useRef(void 0),m=!i;function x(y){const S=g.current||f.current.getBoundingClientRect(),_=[0,S.height],P=p_(_,m?[r,n]:[n,r]);return g.current=S,P(y-S.top)}return l.jsx(QL,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(tD,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const S=x(y.clientY);s==null||s(S)},onSlideMove:y=>{const S=x(y.clientY);a==null||a(S)},onSlideEnd:()=>{g.current=void 0,o==null||o()},onStepKeyDown:y=>{const _=XL[m?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:_?-1:1})}})})}),tD=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=e,f=E2(Zm,n);return l.jsx(jt.span,{...u,ref:t,onKeyDown:rt(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):KL.concat(YL).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:rt(e.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(g)?g.focus():r(h)}),onPointerMove:rt(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:rt(e.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),s(h))})})}),nD="SliderTrack",rD=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=E2(nD,n);return l.jsx(jt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});rD.displayName=nD;var O3="SliderRange",iD=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=E2(O3,n),s=eD(O3,n),a=w.useRef(null),o=tn(t,a),c=i.values.length,u=i.values.map(g=>oD(g,i.min,i.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(jt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...e.style,[s.startEdge]:f+"%",[s.endEdge]:h+"%"}})});iD.displayName=O3;var I3="SliderThumb",sD=w.forwardRef((e,t)=>{const n=mce(e.__scopeSlider),[r,i]=w.useState(null),s=tn(t,o=>i(o)),a=w.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(bce,{...e,ref:s,index:a})}),bce=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,a=E2(I3,n),o=eD(I3,n),[c,u]=w.useState(null),f=tn(t,C=>u(C)),h=c?a.form||!!c.closest("form"):!0,g=Y0(c),m=a.values[r],x=m===void 0?0:oD(m,a.min,a.max),y=_ce(r,a.values.length),S=g==null?void 0:g[o.size],_=S?Nce(S,x,o.direction):0;return w.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${_}px)`},children:[l.jsx(D3.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(jt.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:f,style:m===void 0?{display:"none"}:e.style,onFocus:rt(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&l.jsx(aD,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});sD.displayName=I3;var wce="RadioBubbleInput",aD=w.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=w.useRef(null),s=tn(i,r),a=gv(t);return w.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&f){const h=new Event("input",{bubbles:!0});f.call(o,t),o.dispatchEvent(h)}},[a,t]),l.jsx(jt.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});aD.displayName=wce;function Sce(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function oD(e,t,n){const s=100/(n-t)*(e-t);return sx(s,[0,100])}function _ce(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Cce(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function Nce(e,t,n){const r=e/2,s=p_([0,50],[0,r]);return(r-s(t)*n)*n}function jce(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Pce(e,t){if(t>0){const n=jce(e);return Math.min(...n)>=t}return!0}function p_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ace(e){return(String(e).split(".")[1]||"").length}function kce(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var lD=ZL,Ece=rD,$ce=iD,GP=sD;const cD=w.forwardRef(({className:e,...t},n)=>l.jsxs(lD,{ref:n,className:Je("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(Ece,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx($ce,{className:"absolute h-full bg-primary"})}),l.jsx(GP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),Array.isArray(t.value||t.defaultValue)&&(t.value||t.defaultValue).length>1&&l.jsx(GP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));cD.displayName=lD.displayName;const Rce=Gle("pk_test_51RbR6v2LjLpO3yFTzthjYb7TwzPWmvjA98ks76lHtXNVDYLAJ5fNKdDIRbWwnELswU8ZrtQ5aHHc70dvOb0Ca2r9009bTQYgYA"),Tce=()=>{const e=qn.useSupabaseClient(),{toast:t}=Pn(),{user:n,userProfile:r,session:i}=Pi();bf();const[s,a]=w.useState([6e3]),[o,c]=w.useState(""),[u,f]=w.useState(!1),[h,g]=w.useState(0),[m,x]=w.useState([]),[y,S]=w.useState(!0),[_,C]=w.useState(!1),[P,A]=w.useState(""),[R,D]=w.useState(!1),T=6e3,M=1e5,U=[{amount:6e3,popular:!0,title:"Básico",description:"Ideal para empezar"},{amount:12e3,popular:!1,title:"Estándar",description:"Más opciones"},{amount:25e3,popular:!1,title:"Premium",description:"Mayor flexibilidad"},{amount:5e4,popular:!1,title:"Profesional",description:"Para compradores serios"}],ee=async re=>{if(confirm('¿Estás seguro de que quieres cancelar esta solicitud? El "holding" en tu tarjeta será liberado.')){t({title:"Cancelando solicitud..."});try{const{data:ce,error:ue}=await e.functions.invoke("cancel-power-buying",{headers:{Authorization:`Bearer ${i.access_token}`},body:{request_id:re}});if(ue)throw ue;if(ce.error)throw new Error(ce.error);t({title:"Solicitud Cancelada",description:"La autorización en tu tarjeta ha sido liberada."}),F()}catch(ce){console.error("Error al cancelar:",ce),t({variant:"destructive",title:"Error al Cancelar",description:ce.message})}}},F=w.useCallback(async()=>{if(!n){x([]);return}try{const{data:re,error:ce}=await e.from("power_buying_requests").select("*").eq("user_id",n.id).neq("status","cancelled").order("created_at",{ascending:!1});if(ce)throw ce;x(re||[])}catch(re){console.error("Error al cargar las solicitudes de Power Buying:",re.message),t({variant:"destructive",title:"Error al cargar el historial",description:"No se pudieron obtener las solicitudes."})}},[n,e,t]);w.useEffect(()=>{(async()=>{if(!n){S(!1);return}S(!0),await F(),S(!1)})()},[n,F]),w.useEffect(()=>{r&&g(r.buying_power||0)},[r]);const O=re=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),H=()=>u?parseFloat(o)||0:s[0],V=()=>Math.round(H()*.1),ae=re=>{a(re),f(!1),c("")},J=re=>{const ce=re.target.value;c(ce),f(!0)},W=re=>{a([re]),f(!1),c("")},z=async re=>{if(re.preventDefault(),!n||!(i!=null&&i.access_token)){t({variant:"destructive",title:"Error de Sesión",description:"No se pudo verificar tu sesión. Por favor, recarga la página e intenta de nuevo."});return}const ce=H();if(ce<T){t({variant:"destructive",title:"Monto Inválido",description:`El monto mínimo es ${O(T)}.`});return}C(!0);try{const{data:ue,error:he}=await e.functions.invoke("create-power-buying-intent",{headers:{Authorization:`Bearer ${i.access_token}`},body:{amount:ce}});if(he)throw he;if(ue.error)throw new Error(ue.error);A(ue.clientSecret),D(!0)}catch(ue){console.error("ERROR DEFINITIVO:",ue),t({variant:"destructive",title:"Error al Iniciar Solicitud",description:ue.message})}finally{C(!1)}},ne=()=>{D(!1),A("")},se=()=>{ne(),F()},X=re=>{switch(re){case"approved":return l.jsx(vn,{className:"h-5 w-5 text-green-500"});case"active":return l.jsx(vn,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(Wr,{className:"h-5 w-5 text-yellow-500"});case"pending_payment":return l.jsx(Wr,{className:"h-5 w-5 text-yellow-500"});case"rejected":return l.jsx(Wr,{className:"h-5 w-5 text-destructive"});case"cancelled":return l.jsx(Wr,{className:"h-5 w-5 text-destructive"});case"charged for debt":return l.jsx(Wr,{className:"h-5 w-5 text-destructive"});default:return l.jsx(Wr,{className:"h-5 w-5 text-muted-foreground"})}},B=re=>{switch(re){case"approved":return"Aprobado";case"active":return"Activo";case"pending":return"Pendiente";case"pending_payment":return"Pendiente de Pago";case"rejected":return"Rechazado";case"cancelled":return"Cancelado";case"charged for debt":return"Cargado por Deuda";default:return"Desconocido"}},Q=re=>{switch(re){case"approved":return"text-green-500";case"pending":return"text-yellow-500";case"pending_payment":return"text-yellow-500";case"rejected":return"text-destructive";default:return"text-muted-foreground"}};return y?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Power Buying"}),l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-32 bg-muted rounded-lg"}),l.jsx("div",{className:"h-64 bg-muted rounded-lg"})]})]}):l.jsxs("div",{className:"space-y-6",children:[P&&l.jsx(vl,{open:R,onOpenChange:ne,children:l.jsxs(bo,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Autorizar Depósito de Garantía"}),l.jsxs(_o,{children:["Por favor, introduce los datos de tu tarjeta para autorizar el depósito de ",O(V()),". Este monto solo será retenido (holding) y no se te cobrará."]})]}),l.jsx(qL,{options:{clientSecret:P},stripe:Rce,children:l.jsx(pce,{depositAmount:V(),onSuccessfulPayment:se})})]})}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Power Buying"}),l.jsx("p",{className:"text-muted-foreground",children:"Obtén poder de compra para participar en subastas. El depósito se mantiene como garantía (holding) en tu tarjeta."})]}),h>0&&l.jsx(ct,{className:"bg-card border-border",children:l.jsx(ut,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Au,{className:"w-5 h-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Poder Actual"}),l.jsx("p",{className:"font-bold text-foreground",children:O(h)})]})]})})})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Paquetes de Poder de Compra"}),l.jsxs(pn,{children:["Selecciona un paquete predefinido o personaliza tu monto. Mínimo $",O(T),"."]})]}),l.jsx(ut,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:U.map(re=>l.jsxs("div",{className:`relative p-4 border rounded-lg cursor-pointer transition-all ${s[0]===re.amount&&!u?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>W(re.amount),children:[re.popular&&l.jsx("span",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:"Más Popular"}),l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-semibold text-sm mb-1",children:re.title}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:O(re.amount)}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:re.description}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Depósito: ",O(re.amount*.1)]})]})]},re.amount))})})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Configuración Personalizada"}),l.jsx(pn,{children:"Ajusta el monto exacto que necesitas para la subasta. Sin límite máximo."})]}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:z,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ht,{children:["Monto de Poder de Compra: ",O(H())]}),l.jsx(cD,{value:s,onValueChange:ae,max:M,min:T,step:1e3,className:"w-full",disabled:_}),l.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:O(T)}),l.jsxs("span",{children:[O(M),"+"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"customAmount",children:"O ingresa un monto personalizado (sin límite máximo)"}),l.jsx(Ot,{id:"customAmount",type:"number",placeholder:`Ej: ${(T+6e3).toLocaleString()}`,value:o,onChange:J,min:T,step:"1000",disabled:_}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Monto mínimo: ",O(T)," • No hay límite máximo"]})]}),l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Información del Depósito"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Poder de Compra Solicitado:"}),l.jsx("span",{className:"font-medium",children:O(H())})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Depósito Requerido (10%):"}),l.jsx("span",{className:"font-medium text-primary",children:O(V())})]})]})]}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Proceso de Aprobación"}),l.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[l.jsx("li",{children:"• El depósito se mantiene como garantía (holding) en tu tarjeta"}),l.jsx("li",{children:"• Aprobación típica en 24-48 horas"}),l.jsx("li",{children:"• El poder de compra se activa una vez aprobado"}),l.jsx("li",{children:"• El depósito se libera al finalizar las subastas"}),l.jsx("li",{children:"• Sin límite máximo - solicita el monto que necesites"})]})]}),l.jsxs(Ue,{type:"submit",className:"w-full md:w-auto",size:"lg",disabled:_,children:[_?l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx($k,{className:"w-5 h-5 mr-2"}),_?"Iniciando Solicitud...":"Solicitar Poder de Compra",l.jsx(uV,{className:"w-4 h-4 ml-2"})]})]})})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Historial de Solicitudes"}),l.jsx(pn,{children:"Estado de tus solicitudes de poder de compra."})]}),l.jsx(ut,{children:m.length>0?l.jsx("div",{className:"space-y-3",children:m.map(re=>l.jsx("div",{className:"p-4 border border-border rounded-lg bg-secondary",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:O(parseFloat(re.amount))}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Depósito: ",O(parseFloat(re.deposit))]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado: ",new Date(re.created_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[" ",l.jsxs("div",{className:"flex items-center space-x-2",children:[X(re.status),l.jsx("span",{className:`text-sm font-medium ${Q(re.status)}`,children:B(re.status)})]}),re.status==="pending_payment"&&l.jsx(Ue,{variant:"destructive",size:"sm",onClick:()=>ee(re.id),children:"Cancelar"})]})]})},re.id))}):l.jsx("p",{className:"text-muted-foreground italic",children:"No hay solicitudes anteriores registradas."})})]})]})},zs=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Je("w-full caption-bottom text-sm",e),...t})}));zs.displayName="Table";const fa=w.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:Je("[&_tr]:border-b",e),...t}));fa.displayName="TableHeader";const ha=w.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:Je("[&_tr:last-child]:border-0",e),...t}));ha.displayName="TableBody";const uD=w.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uD.displayName="TableFooter";const mn=w.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));mn.displayName="TableRow";const wt=w.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));wt.displayName="TableHead";const ot=w.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ot.displayName="TableCell";const Lce=w.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:Je("mt-4 text-sm text-muted-foreground",e),...t}));Lce.displayName="TableCaption";const Dce=({status:e})=>{const t={pending:{text:"Pendiente",variant:"secondary",icon:l.jsx(si,{className:"h-4 w-4 mr-1"})},approved:{text:"Aprobado",variant:"success",icon:l.jsx(vn,{className:"h-4 w-4 mr-1"})},rejected:{text:"Rechazado",variant:"destructive",icon:l.jsx(Wr,{className:"h-4 w-4 mr-1"})}},n=t[e]||t.pending;return l.jsxs(vv,{variant:n.variant,className:"flex items-center w-fit",children:[n.icon,l.jsx("span",{children:n.text})]})},Oce=()=>{const{toast:e}=Pn(),{user:t}=Pi(),{createDeposit:n,fetchRecords:r,uploadFile:i}=bf(),[s,a]=Re.useState([]),[o,c]=Re.useState(!0),[u,f]=Re.useState(!1),[h,g]=Re.useState("Seleccionar archivo"),m=Re.useCallback(async()=>{if(!t){a([]);return}const C=await r("deposits",{user_id:t.id},{orderBy:{column:"created_at",ascending:!1}});C.success&&a(C.data||[])},[t,r]);Re.useEffect(()=>{(async()=>{if(!t){c(!1);return}c(!0),await m(),c(!1)})()},[t,m]);const x=async C=>{var ee,F;if(C.preventDefault(),!t)return;f(!0);const P=C.target.querySelector('input[type="file"]');if(P.files.length===0){e({variant:"destructive",title:"Archivo Requerido",description:"Por favor, adjunta el comprobante de pago."}),f(!1);return}const A=P.files[0],R=new FormData(C.target),D=parseFloat(R.get("amount")),T=R.get("reference"),M=R.get("paymentDate"),U=`${t.id}/deposits/${Date.now()}_${A.name}`;try{const O=await i("documents",U,A);if(!O.success)throw new Error(((ee=O.error)==null?void 0:ee.message)||"No se pudo subir el archivo.");const H={amount:D,reference:T,payment_date:M,receipt_file_path:U,status:"pending"},V=await n(t.id,H);if(V.success)e({title:"Depósito Registrado Exitosamente",description:`Hemos recibido tu registro por $${D.toFixed(2)}. Será verificado pronto.`}),C.target.reset(),g("Seleccionar archivo"),m();else throw new Error(((F=V.error)==null?void 0:F.message)||"No se pudo registrar el depósito en la base de datos.")}catch(O){console.error("Error submitting deposit:",O),e({variant:"destructive",title:"Error al Registrar Depósito",description:O.message||"Por favor, inténtalo de nuevo."})}finally{f(!1)}},y=C=>{C.target.files&&C.target.files.length>0?g(C.target.files[0].name):g("Seleccionar archivo")},S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.2}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return o?l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Depósitos"}),l.jsx("p",{children:"Cargando..."})]}):l.jsxs(Bt.div,{className:"space-y-6 p-4 md:p-6",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Depósitos y Comprobantes"}),l.jsx("p",{className:"text-muted-foreground",children:"Registra tus depósitos y adjunta los comprobantes para verificación."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[l.jsx(Bt.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:l.jsxs(ct,{className:"bg-card border-border shadow-lg h-full",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Registrar Nuevo Depósito"}),l.jsx(pn,{children:"Ingresa los detalles y sube el comprobante."})]}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"amount",children:"Monto Depositado (USD)"}),l.jsx(Ot,{id:"amount",name:"amount",type:"number",step:"0.01",min:"0.01",placeholder:"Ej: 600.00",required:!0,className:"mt-1",disabled:u})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"reference",children:"Referencia o Concepto"}),l.jsx(Ot,{id:"reference",name:"reference",placeholder:"Ej: Depósito Power Buying",required:!0,className:"mt-1",disabled:u})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"paymentDate",children:"Fecha del Depósito"}),l.jsx(Ot,{id:"paymentDate",name:"paymentDate",type:"date",required:!0,className:"mt-1",disabled:u,max:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"receipt",children:"Comprobante de Pago"}),l.jsx("div",{className:"mt-1",children:l.jsxs("label",{htmlFor:"receipt-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-secondary hover:bg-muted/50",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(jh,{className:"w-8 h-8 mb-3 text-muted-foreground"}),l.jsx("p",{className:"mb-2 text-sm text-muted-foreground text-center px-2",children:h==="Seleccionar archivo"?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-semibold",children:"Haz clic para subir"})," o arrastra"]}):l.jsx("span",{className:"font-semibold",children:h})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, PNG, JPG (MAX. 5MB)"})]}),l.jsx(Ot,{id:"receipt-upload",name:"receipt",type:"file",className:"hidden",accept:".pdf,.png,.jpg,.jpeg",onChange:y,disabled:u})]})})]}),l.jsx(Ue,{type:"submit",className:"w-full mt-4",disabled:u,children:u?"Registrando...":"Registrar Depósito"})]})})]})}),l.jsx(Bt.div,{className:"lg:col-span-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:l.jsxs(ct,{className:"bg-card border-border shadow-lg h-full",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Historial de Depósitos"}),l.jsx(pn,{children:"El estado de tus depósitos registrados."})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Monto"}),l.jsx(wt,{children:"Referencia"}),l.jsx(wt,{children:"Fecha"}),l.jsx(wt,{children:"Estado"})]})}),l.jsx(Bt.tbody,{variants:S,initial:"hidden",animate:"visible",children:s.length>0?s.map(C=>l.jsxs(Bt.tr,{variants:_,children:[l.jsxs(ot,{className:"font-medium",children:["$",parseFloat(C.amount).toFixed(2)]}),l.jsx(ot,{children:C.reference}),l.jsx(ot,{children:new Date(C.payment_date).toLocaleDateString()}),l.jsx(ot,{children:l.jsx(Dce,{status:C.status})})]},C.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:4,className:"h-24 text-center",children:"No tienes depósitos registrados."})})})]})})]})})]})]})},Ice=()=>{var h;const{toast:e}=Pn(),{user:t,userProfile:n,updateProfile:r,loading:i}=vo(),[s,a]=w.useState({full_name:"",phone:"",address:""}),[o,c]=w.useState(!1);w.useEffect(()=>{n&&a({full_name:n.full_name||"",phone:n.phone||"",address:n.address||""})},[n]);const u=async g=>{g.preventDefault(),(await r(s)).success&&(c(!1),e({title:"Perfil Actualizado",description:"Tus datos han sido guardados correctamente."}))},f=(g,m)=>{a(x=>({...x,[g]:m}))};return i?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Cargando perfil..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Perfil"}),l.jsx("p",{className:"text-muted-foreground",children:"Consulta y actualiza tu información personal y de contacto."}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{className:"flex flex-row items-center space-x-4",children:[l.jsxs(Kh,{className:"h-16 w-16",children:[l.jsx(Yh,{src:n==null?void 0:n.avatar_url,alt:(n==null?void 0:n.full_name)||"Usuario"}),l.jsx(Xh,{children:n!=null&&n.full_name?n.full_name.charAt(0).toUpperCase():"U"})]}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(Ct,{className:"text-2xl",children:(n==null?void 0:n.full_name)||"Usuario"}),l.jsx(ZR,{isVerified:(n==null?void 0:n.verification_status)==="verified"})]}),l.jsx(pn,{children:t==null?void 0:t.email}),(n==null?void 0:n.verification_status)==="verified"&&(n==null?void 0:n.buying_power)>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Poder de Compra: "}),l.jsxs("span",{className:"font-semibold text-green-600",children:["$",((h=n.buying_power)==null?void 0:h.toLocaleString())||"0"]})]})]})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"flex justify-end mb-4",children:o?l.jsxs("div",{className:"space-x-2",children:[l.jsxs(Ue,{onClick:u,size:"sm",children:[l.jsx(Mk,{className:"w-4 h-4 mr-2"}),"Guardar"]}),l.jsxs(Ue,{onClick:()=>c(!1),variant:"outline",size:"sm",children:[l.jsx(yo,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):l.jsxs(Ue,{onClick:()=>c(!0),variant:"outline",children:[l.jsx(TS,{className:"w-4 h-4 mr-2"}),"Editar Perfil"]})}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"full_name",children:"Nombre Completo"}),l.jsx(Ot,{id:"full_name",value:s.full_name,onChange:g=>f("full_name",g.target.value),disabled:!o,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"email",children:"Correo Electrónico"}),l.jsx(Ot,{id:"email",type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"phone",children:"Teléfono"}),l.jsx(Ot,{id:"phone",value:s.phone,onChange:g=>f("phone",g.target.value),disabled:!o,className:"mt-1"})]})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"address",children:"Dirección"}),l.jsx(_u,{id:"address",value:s.address,onChange:g=>f("address",g.target.value),disabled:!o,className:"mt-1",rows:3})]})]})]})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Información de la Cuenta"}),l.jsx(pn,{children:"Detalles de tu cuenta en Opulent Auto"})]}),l.jsx(ut,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{className:"text-sm font-medium",children:"Estado de Verificación"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(n==null?void 0:n.verification_status)==="verified"?"Verificado":(n==null?void 0:n.verification_status)==="pending"?"Pendiente":"No verificado"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-sm font-medium",children:"Rol"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:(n==null?void 0:n.role)||"Cliente"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-sm font-medium",children:"Fecha de Registro"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString():"N/A"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-sm font-medium",children:"Última Actualización"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n!=null&&n.updated_at?new Date(n.updated_at).toLocaleDateString():"N/A"})]})]})})]})]})},Mce=()=>{const{toast:e}=Pn(),{user:t}=Pi(),{createDocument:n,fetchRecords:r,deleteRecord:i,uploadFile:s}=bf(),[a,o]=w.useState([]),[c,u]=w.useState(!0),[f,h]=w.useState(!1);w.useEffect(()=>{t&&g()},[t]);const g=w.useCallback(async()=>{if(!t){o([]);return}const P=await r("documents",{user_id:t.id},{orderBy:{column:"created_at",ascending:!1}});P.success&&o(P.data||[])},[t,r]);w.useEffect(()=>{(async()=>{if(!t){u(!1),o([]);return}u(!0),await g(),u(!1)})()},[t,g]);const m=async P=>{if(P.preventDefault(),!!t){h(!0);try{const R=new FormData(P.target).get("description")||"Sin descripción",D=P.target.querySelector('input[type="file"]');if(D.files.length===0){e({variant:"destructive",title:"Error",description:"Selecciona un archivo para subir."}),h(!1);return}const T=D.files[0];if(T.size>10*1024*1024){e({variant:"destructive",title:"Error",description:"El archivo es demasiado grande. Máximo 10MB."}),h(!1);return}const M=`${t.id}/documents/${Date.now()}_${T.name}`;if((await s("kyc-documents",M,T)).success&&(await n(t.id,{document_type:R,file_name:T.name,file_path:M,file_size:T.size,mime_type:T.type,status:"pending"})).success){e({title:"Documento Subido Exitosamente",description:`${T.name} ha sido subido y está pendiente de revisión.`}),g(),P.target.reset();const F=document.getElementById("doc-file-label");F&&(F.textContent="Seleccionar archivo")}}catch(A){console.error("Error uploading document:",A),e({variant:"destructive",title:"Error al Subir Documento",description:"No se pudo subir el documento. Por favor, inténtalo de nuevo."})}finally{h(!1)}}},x=async P=>{(await i("documents",P)).success&&(e({title:"Documento Eliminado",description:"El documento ha sido eliminado exitosamente."}),g())},y=P=>{const A=document.getElementById("doc-file-label");if(A&&P.target.files.length>0){const R=P.target.files[0];A.textContent=R.name;const D=(R.size/1024/1024).toFixed(2),T=document.getElementById("file-size-info");T&&(T.textContent=`Tamaño: ${D} MB`,T.className=R.size>10*1024*1024?"text-xs text-destructive":"text-xs text-muted-foreground")}else if(A){A.textContent="Seleccionar archivo";const R=document.getElementById("file-size-info");R&&(R.textContent="")}},S=P=>{switch(P){case"approved":return l.jsx(vn,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(Wr,{className:"h-5 w-5 text-yellow-500"});case"rejected":return l.jsx(Wr,{className:"h-5 w-5 text-destructive"});default:return null}},_=P=>{switch(P){case"approved":return"Aprobado";case"pending":return"Pendiente";case"rejected":return"Rechazado";default:return"Desconocido"}},C=P=>{switch(P){case"approved":return"text-green-500";case"pending":return"text-yellow-500";case"rejected":return"text-destructive";default:return"text-muted-foreground"}};return c?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Carga de Documentos"}),l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("p",{className:"text-muted-foreground",children:"Cargando documentos..."})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Carga de Documentos"}),l.jsx("p",{className:"text-muted-foreground",children:"Sube y gestiona los documentos requeridos para tus trámites (identificación, títulos de vehículos, etc.)."}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Subir Nuevo Documento"}),l.jsx(pn,{children:"Selecciona el archivo y añade una breve descripción."})]}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"description",children:"Descripción del Documento (Opcional)"}),l.jsx(Ot,{id:"description",name:"description",placeholder:"Ej: Título Ford F-150, INE Lado Frontal, Comprobante de Domicilio",className:"mt-1",disabled:f})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"documentFile",children:"Archivo"}),l.jsx("div",{className:"mt-1 flex items-center justify-center w-full",children:l.jsxs("label",{htmlFor:"doc-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-secondary hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(jh,{className:"w-8 h-8 mb-3 text-muted-foreground"}),l.jsxs("p",{id:"doc-file-label",className:"mb-2 text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-semibold",children:"Haz clic para subir"})," o arrastra y suelta"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, PNG, JPG, JPEG (MAX. 10MB)"}),l.jsx("p",{id:"file-size-info",className:"text-xs text-muted-foreground mt-1"})]}),l.jsx(Ot,{id:"doc-upload",name:"documentFile",type:"file",className:"hidden",required:!0,accept:".pdf,.png,.jpg,.jpeg",onChange:y,disabled:f})]})})]}),l.jsx(Ue,{type:"submit",className:"mt-4",disabled:f,children:f?"Subiendo Documento...":"Subir Documento"})]})})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Mis Documentos"}),l.jsx(pn,{children:"Listado de documentos subidos y su estado."})]}),l.jsx(ut,{children:a.length>0?l.jsx("ul",{className:"space-y-3",children:a.map(P=>l.jsxs("li",{className:"flex items-center justify-between p-3 bg-secondary rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(q0,{className:"h-6 w-6 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:P.file_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:P.document_type}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Subido: ",new Date(P.created_at).toLocaleDateString()," • Tamaño: ",(P.file_size/1024/1024).toFixed(2)," MB • Estado: ",l.jsx("span",{className:`capitalize font-medium ml-1 ${C(P.status)}`,children:_(P.status)})]}),P.status==="rejected"&&P.rejection_reason&&l.jsxs("p",{className:"text-xs text-destructive mt-1",children:[l.jsx("strong",{children:"Motivo del rechazo:"})," ",P.rejection_reason]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[S(P.status),l.jsx(Ue,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 h-8 w-8",onClick:()=>x(P.id),children:l.jsx(LS,{className:"h-4 w-4"})})]})]},P.id))}):l.jsx("p",{className:"text-muted-foreground italic",children:"No has subido ningún documento todavía."})})]})]})},Fce=({filePath:e,fileType:t})=>{const n=qn.useSupabaseClient(),[r,i]=w.useState(null);return w.useEffect(()=>{if(!e)return;(async()=>{const{data:a,error:o}=await n.storage.from("chatdocuments").createSignedUrl(e,3600);o?console.error("Error generando URL firmada:",o):i(a.signedUrl)})()},[e,n]),r?t&&t.startsWith("image/")?l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:r,alt:"Adjunto",className:"mt-2 rounded-lg max-w-xs max-h-64 object-cover cursor-pointer hover:opacity-80 transition-opacity"})}):l.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 mt-2 bg-secondary p-2 rounded-lg hover:bg-secondary/80 transition-colors max-w-xs",children:[l.jsx(q0,{className:"h-6 w-6 flex-shrink-0 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm truncate",children:e.split("/").pop().substring(14)}),l.jsxs("span",{className:"text-xs text-blue-500 flex items-center",children:["Ver/Descargar ",l.jsx(zm,{className:"h-3 w-3 ml-1"})]})]})]}):l.jsxs("div",{className:"text-xs text-muted-foreground mt-2 flex items-center",children:[l.jsx(jn,{className:"h-3 w-3 animate-spin mr-1"})," Cargando..."]})},Bce=()=>{const{toast:e}=Pn(),{user:t}=Pi(),n=qn.useSupabaseClient(),[r,i]=w.useState([]),[s,a]=w.useState(""),[o,c]=w.useState(!1),[u,f]=w.useState("abierta"),[h,g]=w.useState(null),[m,x]=w.useState(null),[y,S]=w.useState(null),[_,C]=w.useState(null),[P,A]=w.useState("loading"),R=w.useRef(null),D=w.useRef(null),T=()=>{var ae;const V=(ae=R.current)==null?void 0:ae.querySelector("[data-radix-scroll-area-viewport]");V&&setTimeout(()=>{V.scrollTop=V.scrollHeight},100)},M=w.useCallback(async()=>{var V,ae,J;if(t){A("loading");try{const{data:W,error:z}=await n.functions.invoke("assign-support-agent");if(z)throw new Error(((ae=(V=z.context)==null?void 0:V.json)==null?void 0:ae.error)||z.message);if(W.status==="no_agents_available"){A("no_agents");return}g(W),A("active");const{data:ne,error:se}=await n.from("chat_conversations").select("status, closed_at, closed_by, closing_agent:support_agents!closed_by(display_name)").eq("client_id",t.id).single();if(se)throw new Error(`Error al cargar conversación: ${se.message}`);if(f(ne.status),ne.status==="solucionado")i([]),x({adminName:((J=ne.closing_agent)==null?void 0:J.display_name)||"Soporte",closedAt:ne.closed_at});else{x(null);const{data:X,error:B}=await n.from("chat_messages").select("*").or(`and(sender_id.eq.${t.id},receiver_id.eq.${W.agent_id}),and(sender_id.eq.${W.agent_id},receiver_id.eq.${t.id})`).order("created_at",{ascending:!0});if(B)throw B;i(X||[])}}catch(W){console.error("Error al inicializar el chat:",W),e({variant:"destructive",title:"Error Inesperado",description:"Ocurrió un problema al cargar el chat. Por favor, recarga la página."}),A("error")}finally{T()}}},[t,n,e]);w.useEffect(()=>{t&&M()},[t]),w.useEffect(()=>{if(!t||!h)return;const V=z=>{z.new.sender_id===h.agent_id&&(i(ne=>[...ne,z.new]),T())},ae=z=>{const ne=z.new.status;f(ne),ne==="solucionado"&&(M(),e({title:"Conversación finalizada",description:"Un administrador ha marcado esta conversación como solucionada."}))},J=n.channel(`client-chat-${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`receiver_id=eq.${t.id}`},V).subscribe(),W=n.channel(`client-status-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations",filter:`client_id=eq.${t.id}`},ae).subscribe();return()=>{n.removeChannel(J),n.removeChannel(W)}},[t,h,n,M,e]);const U=V=>{var J;const ae=(J=V.target.files)==null?void 0:J[0];ae&&(S(ae),C(URL.createObjectURL(ae))),V.target.value=null},ee=()=>{_&&URL.revokeObjectURL(_),S(null),C(null)},F=async V=>{if(V.preventDefault(),!s.trim()&&!y||!t||o||!h)return;u==="solucionado"&&(x(null),await M()),c(!0);const ae=s.trim(),J=y;a(""),ee();try{let W=null,z=null;if(J){const B=`${t.id}/${Date.now()}_${J.name}`,{error:Q}=await n.storage.from("chatdocuments").upload(B,J);if(Q)throw Q;W=B,z=J.type}const ne={sender_id:t.id,receiver_id:h.agent_id,content:ae,file_path:W,file_type:z,is_read:!1},{data:se,error:X}=await n.from("chat_messages").insert(ne).select().single();if(X)throw X;i(B=>[...B,se]),T()}catch(W){console.error("Error enviando mensaje:",W),e({variant:"destructive",title:"Error al Enviar",description:"No se pudo enviar tu mensaje."}),a(ae)}finally{c(!1)}},O=V=>{if(!V)return"";const ae=new Date,J=new Date(V),W=Math.floor((ae-J)/1e3);if(W<60)return"Ahora";const z=Math.floor(W/60);if(z<60)return`${z}m`;const ne=Math.floor(z/60);return ne<24?`${ne}h`:`${Math.floor(ne/24)}d`},H=V=>V===(t==null?void 0:t.id);return P==="loading"?l.jsxs("div",{className:"flex-1 flex items-center justify-center h-full",children:[l.jsx(jn,{className:"h-6 w-6 animate-spin mr-2"})," Conectando con soporte..."]}):P==="no_agents"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Chat de Soporte"}),l.jsx("p",{className:"text-muted-foreground",children:"Comunícate directamente con nuestro equipo de soporte."})]}),l.jsx(ct,{className:"bg-card border-border shadow-lg",children:l.jsxs(ut,{className:"p-6 flex flex-col items-center justify-center text-center h-96",children:[l.jsx(Ni,{className:"w-12 h-12 text-yellow-500 mb-4"}),l.jsx("p",{className:"font-semibold text-foreground text-lg",children:"Soporte no disponible"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Todos nuestros agentes están ocupados en este momento."}),l.jsxs(Ue,{onClick:M,className:"mt-6",children:[l.jsx(_y,{className:"mr-2 h-4 w-4"}),"Intentar de Nuevo"]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Chat de Soporte"}),l.jsx("p",{className:"text-muted-foreground",children:"Comunícate directamente con nuestro equipo de soporte."})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsx(_t,{className:"border-b border-border flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(Kh,{children:[l.jsx(Yh,{src:"/support-avatar.jpg",alt:"Soporte"}),l.jsx(Xh,{className:"bg-primary text-primary-foreground",children:"S"})]}),l.jsxs("div",{children:[l.jsx(Ct,{className:"text-lg",children:(h==null?void 0:h.display_name)||"Soporte Opulent"}),l.jsxs(pn,{className:"text-green-500 flex items-center",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"En línea"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(bV,{className:"h-4 w-4"})}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(NV,{className:"h-4 w-4"})}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(yV,{className:"h-4 w-4"})})]})]})}),l.jsxs(ut,{className:"p-0",children:[l.jsx(Gm,{ref:R,className:"h-96 p-4",children:u==="solucionado"&&m?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-4",children:[l.jsx(aV,{className:"w-12 h-12 text-green-500 mb-4"}),l.jsx("p",{className:"font-semibold text-foreground",children:"Esta conversación fue solucionada"}),m.adminName&&m.closedAt&&l.jsxs("p",{className:"text-sm mt-1",children:["Cerrada por ",m.adminName," el ",new Date(m.closedAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.jsx("p",{className:"text-sm mt-6",children:"Si tienes una nueva pregunta, envía un mensaje para reabrir la conversación."})]}):l.jsx(Vi,{children:r.map(V=>l.jsx(Bt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex my-2 ${H(V.sender_id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[75%] p-3 rounded-2xl ${H(V.sender_id)?"bg-primary text-primary-foreground rounded-br-lg":"bg-secondary text-secondary-foreground rounded-bl-lg"}`,children:[V.content&&l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.content}),V.file_path&&l.jsx(Fce,{filePath:V.file_path,fileType:V.file_type}),l.jsx("p",{className:`text-xs text-right mt-1 ${H(V.sender_id)?"text-primary-foreground/70":"text-muted-foreground"}`,children:O(V.created_at)})]})},V.id))})}),l.jsxs("div",{className:"p-4 border-t border-border bg-background",children:[l.jsx(Vi,{children:_&&y&&l.jsxs(Bt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0},className:"relative w-fit max-w-xs p-2 border rounded-lg bg-secondary/50",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[y.type.startsWith("image/")?l.jsx("img",{src:_,alt:"Previsualización",className:"object-cover w-16 h-16 rounded-md"}):l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-md bg-secondary",children:l.jsx(q0,{className:"w-8 h-8 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate text-foreground",children:y.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(y.size/1024).toFixed(1)," KB"]})]})]}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"absolute top-0 right-0 w-6 h-6 rounded-full -mt-2 -mr-2 bg-muted hover:bg-destructive/80",onClick:ee,children:l.jsx(yo,{className:"w-4 h-4"})})]})}),l.jsxs("form",{onSubmit:F,className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",ref:D,onChange:U,className:"hidden",accept:"image/*,application/pdf"}),l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var V;return(V=D.current)==null?void 0:V.click()},disabled:o,children:l.jsx(Ik,{className:"w-5 h-5"})}),l.jsx(Ot,{placeholder:u==="solucionado"?"Escribe para reabrir la conversación...":"Escribe tu mensaje...",value:s,onChange:V=>a(V.target.value),className:"flex-grow",disabled:o,autoComplete:"off"}),l.jsx(Ue,{type:"submit",size:"icon",disabled:!s.trim()&&!y||o,children:l.jsx(Bk,{className:"h-4 w-4"})})]})]})]})]})]})},Vce=({notification:e})=>{var s;const t=(s=e.metadata)==null?void 0:s.icon;let n=uc,r="text-muted-foreground";const i={gavel:{Cmp:jm,color:"text-gray-500"},megaphone:{Cmp:w0,color:"text-orange-500"},trophy:{Cmp:S0,color:"text-yellow-500"},circle_slash:{Cmp:b0,color:"text-red-600"},check_circle:{Cmp:vn,color:"text-green-500"},clock:{Cmp:si,color:"text-blue-500"},dollar_sign:{Cmp:Au,color:"text-yellow-600"},package:{Cmp:Ix,color:"text-gray-600"},alert:{Cmp:Ni,color:"text-red-500"},info:{Cmp:sc,color:"text-blue-400"}};return t&&i[t]&&(n=i[t].Cmp,r=i[t].color),l.jsx(n,{className:`w-6 h-6 ${r}`})},zce=()=>{const{notifications:e,unreadCount:t,updateNotificationStatus:n,markAllAsRead:r}=C4(),[i,s]=w.useState(""),[a,o]=w.useState("all"),[c,u]=w.useState("all"),[f,h]=w.useState(1),g=10,m=w.useMemo(()=>{const C=new Set(e.map(P=>ey(P.type)));return Array.from(C).sort()},[e]),x=w.useMemo(()=>e.filter(C=>{const P=ey(C.type),A=a==="all"||P===a,R=c==="all"||c==="read"&&C.is_read||c==="unread"&&!C.is_read,D=i===""||Cy(C).toLowerCase().includes(i.toLowerCase());return A&&R&&D}),[e,i,a,c]);w.useEffect(()=>{h(1)},[i,a,c]);const y=Math.ceil(x.length/g),S=w.useMemo(()=>{const C=(f-1)*g;return x.slice(C,C+g)},[x,f]),_=C=>new Date(C).toLocaleString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Centro de Notificaciones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Revisa y gestiona todas tus alertas y actualizaciones."})]}),t>0&&l.jsxs(Ue,{onClick:r,children:[l.jsx(vn,{className:"w-4 h-4 mr-2"}),"Marcar todas como leídas (",t,")"]})]}),l.jsx(ct,{className:"bg-card/50 border-border/50 shadow-sm",children:l.jsx(ut,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(G0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),l.jsx(Ot,{placeholder:"Buscar por contenido...",value:i,onChange:C=>s(C.target.value),className:"pl-10"})]}),l.jsxs(Pr,{value:a,onValueChange:o,children:[l.jsx(dr,{children:l.jsx(Ar,{placeholder:"Filtrar por categoría"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todas las categorías"}),m.map(C=>l.jsx(nt,{value:C,children:C},C))]})]}),l.jsxs(Pr,{value:c,onValueChange:u,children:[l.jsx(dr,{children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todas"}),l.jsx(nt,{value:"unread",children:"No leídas"}),l.jsx(nt,{value:"read",children:"Leídas"})]})]})]})})}),l.jsx("div",{className:"space-y-3",children:l.jsx(Vi,{children:S.length>0?S.map(C=>l.jsx(Bt.div,{layout:!0,initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.3,ease:"easeInOut"},children:l.jsx(ct,{className:`transition-all duration-300 ${C.is_read?"bg-card/60":"bg-primary/5 border-primary/20"}`,children:l.jsxs(ut,{className:"p-4 flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(Vce,{notification:C})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx(vv,{variant:C.is_read?"secondary":"default",children:ey(C.type)}),l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-xs",onClick:P=>{P.stopPropagation(),n(C.id,!C.is_read)},children:C.is_read?"Marcar no leída":"Marcar leída"})]}),l.jsx("p",{className:`text-sm ${C.is_read?"text-muted-foreground":"font-semibold text-foreground"}`,children:Cy(C)}),l.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[l.jsx(si,{className:"w-3 h-3 mr-1.5"}),_(C.created_at)]})]})]})})},C.id)):l.jsx(Bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:l.jsx(ct,{className:"bg-card border-dashed",children:l.jsxs(ut,{className:"p-12 text-center",children:[l.jsx(uc,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Todo en orden"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:e.length>0?"No hay notificaciones que coincidan con tus filtros.":"No tienes notificaciones por ahora."})]})})})})}),y>1&&l.jsxs("div",{className:"flex items-center justify-center space-x-4 pt-4",children:[l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>h(C=>Math.max(C-1,1)),disabled:f===1,children:[l.jsx(RS,{className:"h-4 w-4 mr-1"}),"Anterior"]}),l.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Página ",f," de ",y]}),l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>h(C=>Math.min(C+1,y)),disabled:f===y,children:["Siguiente",l.jsx(Lx,{className:"h-4 w-4 ml-1"})]})]})]})};function Uce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wce(e,t){if(e==null)return{};var n,r,i=Uce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yn(e){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}function Hce(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function qce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M3(e,t){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},M3(e,t)}function Gce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M3(e,t)}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cx(e)}function dD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!e})()}function Kce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yce(e,t){if(t&&(Yn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kce(e)}function Xce(e){var t=dD();return function(){var n,r=cx(e);if(t){var i=cx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yce(this,n)}}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Mh(e,t,n){this.x=e,this.y=t,this.time=n||new Date().getTime()}Mh.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};Mh.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};Mh.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function m_(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}m_.prototype.length=function(){for(var e=10,t=0,n=void 0,r=void 0,i=0;i<=e;i+=1){var s=i/e,a=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var c=a-n,u=o-r;t+=Math.sqrt(c*c+u*u)}n=a,r=o}return t};m_.prototype._point=function(e,t,n,r,i){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+i*e*e*e};function Jce(e,t,n){var r,i,s,a=null,o=0;n||(n={});var c=function(){o=n.leading===!1?0:Date.now(),a=null,s=e.apply(r,i),a||(r=i=null)};return function(){var u=Date.now();!o&&n.leading===!1&&(o=u);var f=t-(u-o);return r=this,i=arguments,f<=0||f>t?(a&&(clearTimeout(a),a=null),o=u,s=e.apply(r,i),a||(r=i=null)):!a&&n.trailing!==!1&&(a=setTimeout(c,f)),s}}function ar(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Jce(ar.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=ar.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===n._canvas;s&&(i.preventDefault(),n._strokeEnd(i))},this.on()}ar.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};ar.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/i,a=n.height||this._canvas.height/i;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,s,a)},this._isEmpty=!1};ar.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))}};ar.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};ar.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};ar.prototype.isEmpty=function(){return this._isEmpty};ar.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};ar.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),i=this._data[this._data.length-1],s=i&&i[i.length-1],a=s&&r.distanceTo(s)<this.minDistance;if(!(s&&a)){var o=this._addPoint(r),c=o.curve,u=o.widths;c&&u&&this._drawCurve(c,u.start,u.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};ar.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],i=r[r.length-1];n.equals(i)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};ar.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};ar.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};ar.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};ar.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new Mh(e-r.left,t-r.top,n||new Date().getTime())};ar.prototype._addPoint=function(e){var t=this.points,n=void 0;if(t.push(e),t.length>2){t.length===3&&t.unshift(t[0]),n=this._calculateCurveControlPoints(t[0],t[1],t[2]);var r=n.c2;n=this._calculateCurveControlPoints(t[1],t[2],t[3]);var i=n.c1,s=new m_(t[1],r,i,t[2]),a=this._calculateCurveWidths(s);return t.shift(),{curve:s,widths:a}}return{}};ar.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,s=t.x-n.x,a=t.y-n.y,o={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c={x:(t.x+n.x)/2,y:(t.y+n.y)/2},u=Math.sqrt(r*r+i*i),f=Math.sqrt(s*s+a*a),h=o.x-c.x,g=o.y-c.y,m=f/(u+f),x={x:c.x+h*m,y:c.y+g*m},y=t.x-x.x,S=t.y-x.y;return{c1:new Mh(o.x+y,o.y+S),c2:new Mh(c.x+y,c.y+S)}};ar.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return r.start=this._lastWidth,r.end=s,this._lastVelocity=i,this._lastWidth=s,r};ar.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};ar.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1};ar.prototype._drawCurve=function(e,t,n){var r=this._ctx,i=n-t,s=Math.floor(e.length());r.beginPath();for(var a=0;a<s;a+=1){var o=a/s,c=o*o,u=c*o,f=1-o,h=f*f,g=h*f,m=g*e.startPoint.x;m+=3*h*o*e.control1.x,m+=3*f*c*e.control2.x,m+=u*e.endPoint.x;var x=g*e.startPoint.y;x+=3*h*o*e.control1.y,x+=3*f*c*e.control2.y,x+=u*e.endPoint.y;var y=t+u*i;this._drawPoint(m,x,y)}r.closePath(),r.fill()};ar.prototype._drawDot=function(e){var t=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()};ar.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var i=e[r];if(i.length>1)for(var s=0;s<i.length;s+=1){var a=i[s],o=new Mh(a.x,a.y,a.time),c=a.color;if(s===0)this.penColor=c,this._reset(),this._addPoint(o);else if(s!==i.length-1){var u=this._addPoint(o),f=u.curve,h=u.widths;f&&h&&t(f,h,c)}}else{this._reset();var g=i[0];n(g)}}};ar.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,s=0,a=n.width/r,o=n.height/r,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",n.width),c.setAttributeNS(null,"height",n.height),this._fromData(t,function(_,C,P){var A=document.createElement("path");if(!isNaN(_.control1.x)&&!isNaN(_.control1.y)&&!isNaN(_.control2.x)&&!isNaN(_.control2.y)){var R="M "+_.startPoint.x.toFixed(3)+","+_.startPoint.y.toFixed(3)+" "+("C "+_.control1.x.toFixed(3)+","+_.control1.y.toFixed(3)+" ")+(_.control2.x.toFixed(3)+","+_.control2.y.toFixed(3)+" ")+(_.endPoint.x.toFixed(3)+","+_.endPoint.y.toFixed(3));A.setAttribute("d",R),A.setAttribute("stroke-width",(C.end*2.25).toFixed(3)),A.setAttribute("stroke",P),A.setAttribute("fill","none"),A.setAttribute("stroke-linecap","round"),c.appendChild(A)}},function(_){var C=document.createElement("circle"),P=typeof e.dotSize=="function"?e.dotSize():e.dotSize;C.setAttribute("r",P),C.setAttribute("cx",_.x),C.setAttribute("cy",_.y),C.setAttribute("fill",_.color),c.appendChild(C)});var u="data:image/svg+xml;base64,",f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+a+" "+o+'"')+(' width="'+a+'"')+(' height="'+o+'"')+">",h=c.innerHTML;if(h===void 0){var g=document.createElement("dummy"),m=c.childNodes;g.innerHTML="";for(var x=0;x<m.length;x+=1)g.appendChild(m[x].cloneNode(!0));h=g.innerHTML}var y="</svg>",S=f+h+y;return u+btoa(S)};ar.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(n,r){return t._drawCurve(n,r.start,r.end)},function(n){return t._drawDot(n)}),this._data=e};ar.prototype.toData=function(){return this._data};var fy={exports:{}},Zce=fy.exports,KP;function Qce(){return KP||(KP=1,function(e,t){(function(n,r){e.exports=r()})(Zce,function(){return function(n){function r(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r){function i(u){var f=u.getContext("2d"),h=u.width,g=u.height,m=f.getImageData(0,0,h,g).data,x=o(!0,h,g,m),y=o(!1,h,g,m),S=c(!0,h,g,m),_=c(!1,h,g,m),C=_-S+1,P=y-x+1,A=f.getImageData(S,x,C,P);return u.width=C,u.height=P,f.clearRect(0,0,C,P),f.putImageData(A,0,0),u}function s(u,f,h,g){return{red:g[4*(h*f+u)],green:g[4*(h*f+u)+1],blue:g[4*(h*f+u)+2],alpha:g[4*(h*f+u)+3]}}function a(u,f,h,g){return s(u,f,h,g).alpha}function o(u,f,h,g){for(var m=u?1:-1,x=u?0:h-1,y=x;u?y<h:y>-1;y+=m)for(var S=0;S<f;S++)if(a(S,y,f,g))return y;return null}function c(u,f,h,g){for(var m=u?1:-1,x=u?0:f-1,y=x;u?y<f:y>-1;y+=m)for(var S=0;S<h;S++)if(a(y,S,f,g))return y;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})}(fy)),fy.exports}var eue=Qce();const tue=Vh(eue);var nue=["canvasProps","clearOnResize"],$2=function(e){Gce(n,e);var t=Xce(n);function n(){var r;qce(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=t.call.apply(t,[this].concat(s)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var c=Wce(o,nue);return c},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new ar(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),c=document.createElement("canvas");return c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),tue(c)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,c,u=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},f=u.width,h=u.height;if(!(typeof f<"u"&&typeof h<"u")){var g=r.getCanvas(),m=Math.max((c=window.devicePixelRatio)!==null&&c!==void 0?c:1,1);typeof f>"u"&&(g.width=g.offsetWidth*m),typeof h>"u"&&(g.height=g.offsetHeight*m),g.getContext("2d").scale(m,m),r.clear()}},r.render=function(){var o=r.props.canvasProps;return Re.createElement("canvas",Tr({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,c){return r.getSignaturePad().fromDataURL(o,c)},r.toDataURL=function(o,c){return r.getSignaturePad().toDataURL(o,c)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return Hce(n)}(w.Component);$2.propTypes={velocityFilterWeight:ze.number,minWidth:ze.number,maxWidth:ze.number,minDistance:ze.number,dotSize:ze.oneOfType([ze.number,ze.func]),penColor:ze.string,throttle:ze.number,onEnd:ze.func,onBegin:ze.func,canvasProps:ze.object,clearOnResize:ze.bool};$2.defaultProps={clearOnResize:!0};$2.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const rue="modulepreload",iue=function(e){return"/"+e},YP={},of=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(u=>{if(u=iue(u),u in YP)return;YP[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":rue,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((m,x)=>{g.addEventListener("load",m),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var xs=Uint8Array,Ia=Uint16Array,g_=Int32Array,R2=new xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T2=new xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),F3=new xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fD=function(e,t){for(var n=new Ia(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new g_(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},hD=fD(R2,2),pD=hD.b,B3=hD.r;pD[28]=258,B3[258]=28;var mD=fD(T2,0),sue=mD.b,XP=mD.r,V3=new Ia(32768);for(var jr=0;jr<32768;++jr){var Nd=(jr&43690)>>1|(jr&21845)<<1;Nd=(Nd&52428)>>2|(Nd&13107)<<2,Nd=(Nd&61680)>>4|(Nd&3855)<<4,V3[jr]=((Nd&65280)>>8|(Nd&255)<<8)>>1}var cc=function(e,t,n){for(var r=e.length,i=0,s=new Ia(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new Ia(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Ia(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],h=a[e[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)o[V3[h]>>c]=u}else for(o=new Ia(r),i=0;i<r;++i)e[i]&&(o[i]=V3[a[e[i]-1]++]>>15-e[i]);return o},lf=new xs(288);for(var jr=0;jr<144;++jr)lf[jr]=8;for(var jr=144;jr<256;++jr)lf[jr]=9;for(var jr=256;jr<280;++jr)lf[jr]=7;for(var jr=280;jr<288;++jr)lf[jr]=8;var I0=new xs(32);for(var jr=0;jr<32;++jr)I0[jr]=5;var aue=cc(lf,9,0),oue=cc(lf,9,1),lue=cc(I0,5,0),cue=cc(I0,5,1),Ew=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Yo=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},$w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},v_=function(e){return(e+7)/8|0},gD=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new xs(e.subarray(t,n))},uue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tl=function(e,t,n){var r=new Error(t||uue[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,tl),!n)throw r;return r},due=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new xs(0);var a=!n,o=a||t.i!=2,c=t.i;a&&(n=new xs(i*3));var u=function($e){var qe=n.length;if($e>qe){var Qe=new xs(Math.max(qe*2,$e));Qe.set(n),n=Qe}},f=t.f||0,h=t.p||0,g=t.b||0,m=t.l,x=t.d,y=t.m,S=t.n,_=i*8;do{if(!m){f=Yo(e,h,1);var C=Yo(e,h+1,3);if(h+=3,C)if(C==1)m=oue,x=cue,y=9,S=5;else if(C==2){var D=Yo(e,h,31)+257,T=Yo(e,h+10,15)+4,M=D+Yo(e,h+5,31)+1;h+=14;for(var U=new xs(M),ee=new xs(19),F=0;F<T;++F)ee[F3[F]]=Yo(e,h+F*3,7);h+=T*3;for(var O=Ew(ee),H=(1<<O)-1,V=cc(ee,O,1),F=0;F<M;){var ae=V[Yo(e,h,H)];h+=ae&15;var P=ae>>4;if(P<16)U[F++]=P;else{var J=0,W=0;for(P==16?(W=3+Yo(e,h,3),h+=2,J=U[F-1]):P==17?(W=3+Yo(e,h,7),h+=3):P==18&&(W=11+Yo(e,h,127),h+=7);W--;)U[F++]=J}}var z=U.subarray(0,D),ne=U.subarray(D);y=Ew(z),S=Ew(ne),m=cc(z,y,1),x=cc(ne,S,1)}else tl(1);else{var P=v_(h)+4,A=e[P-4]|e[P-3]<<8,R=P+A;if(R>i){c&&tl(0);break}o&&u(g+A),n.set(e.subarray(P,R),g),t.b=g+=A,t.p=h=R*8,t.f=f;continue}if(h>_){c&&tl(0);break}}o&&u(g+131072);for(var se=(1<<y)-1,X=(1<<S)-1,B=h;;B=h){var J=m[$w(e,h)&se],Q=J>>4;if(h+=J&15,h>_){c&&tl(0);break}if(J||tl(2),Q<256)n[g++]=Q;else if(Q==256){B=h,m=null;break}else{var re=Q-254;if(Q>264){var F=Q-257,ce=R2[F];re=Yo(e,h,(1<<ce)-1)+pD[F],h+=ce}var ue=x[$w(e,h)&X],he=ue>>4;ue||tl(3),h+=ue&15;var ne=sue[he];if(he>3){var ce=T2[he];ne+=$w(e,h)&(1<<ce)-1,h+=ce}if(h>_){c&&tl(0);break}o&&u(g+131072);var ge=g+re;if(g<ne){var be=s-ne,Le=Math.min(ne,ge);for(be+g<0&&tl(3);g<Le;++g)n[g]=r[be+g]}for(;g<ge;++g)n[g]=n[g-ne]}}t.l=m,t.p=B,t.b=g,t.f=f,m&&(f=1,t.m=y,t.d=x,t.n=S)}while(!f);return g!=n.length&&a?gD(n,0,g):n.subarray(0,g)},ru=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},$g=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Rw=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:yD,l:0};if(i==1){var a=new xs(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(R,D){return R.f-D.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,f=1,h=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=i-1;)o=n[n[u].f<n[h].f?u++:h++],c=n[u!=f&&n[u].f<n[h].f?u++:h++],n[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Ia(g+1),x=z3(n[f-1],m,0);if(x>t){var r=0,y=0,S=x-t,_=1<<S;for(s.sort(function(D,T){return m[T.s]-m[D.s]||D.f-T.f});r<i;++r){var C=s[r].s;if(m[C]>t)y+=_-(1<<x-m[C]),m[C]=t;else break}for(y>>=S;y>0;){var P=s[r].s;m[P]<t?y-=1<<t-m[P]++-1:++r}for(;r>=0&&y;--r){var A=s[r].s;m[A]==t&&(--m[A],++y)}x=t}return{t:new xs(m),l:x}},z3=function(e,t,n){return e.s==-1?Math.max(z3(e.l,t,n+1),z3(e.r,t,n+1)):t[e.s]=n},JP=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ia(++t),r=0,i=e[0],s=1,a=function(c){n[r++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Rg=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},vD=function(e,t,n){var r=n.length,i=v_(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},ZP=function(e,t,n,r,i,s,a,o,c,u,f){ru(t,f++,n),++i[256];for(var h=Rw(i,15),g=h.t,m=h.l,x=Rw(s,15),y=x.t,S=x.l,_=JP(g),C=_.c,P=_.n,A=JP(y),R=A.c,D=A.n,T=new Ia(19),M=0;M<C.length;++M)++T[C[M]&31];for(var M=0;M<R.length;++M)++T[R[M]&31];for(var U=Rw(T,7),ee=U.t,F=U.l,O=19;O>4&&!ee[F3[O-1]];--O);var H=u+5<<3,V=Rg(i,lf)+Rg(s,I0)+a,ae=Rg(i,g)+Rg(s,y)+a+14+3*O+Rg(T,ee)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&H<=V&&H<=ae)return vD(t,f,e.subarray(c,c+u));var J,W,z,ne;if(ru(t,f,1+(ae<V)),f+=2,ae<V){J=cc(g,m,0),W=g,z=cc(y,S,0),ne=y;var se=cc(ee,F,0);ru(t,f,P-257),ru(t,f+5,D-1),ru(t,f+10,O-4),f+=14;for(var M=0;M<O;++M)ru(t,f+3*M,ee[F3[M]]);f+=3*O;for(var X=[C,R],B=0;B<2;++B)for(var Q=X[B],M=0;M<Q.length;++M){var re=Q[M]&31;ru(t,f,se[re]),f+=ee[re],re>15&&(ru(t,f,Q[M]>>5&127),f+=Q[M]>>12)}}else J=aue,W=lf,z=lue,ne=I0;for(var M=0;M<o;++M){var ce=r[M];if(ce>255){var re=ce>>18&31;$g(t,f,J[re+257]),f+=W[re+257],re>7&&(ru(t,f,ce>>23&31),f+=R2[re]);var ue=ce&31;$g(t,f,z[ue]),f+=ne[ue],ue>3&&($g(t,f,ce>>5&8191),f+=T2[ue])}else $g(t,f,J[ce]),f+=W[ce]}return $g(t,f,J[256]),f+W[256]},fue=new g_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yD=new xs(0),hue=function(e,t,n,r,i,s){var a=s.z||e.length,o=new xs(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),u=s.l,f=(s.r||0)&7;if(t){f&&(c[0]=s.r>>3);for(var h=fue[t-1],g=h>>13,m=h&8191,x=(1<<n)-1,y=s.p||new Ia(32768),S=s.h||new Ia(x+1),_=Math.ceil(n/3),C=2*_,P=function(yt){return(e[yt]^e[yt+1]<<_^e[yt+2]<<C)&x},A=new g_(25e3),R=new Ia(288),D=new Ia(32),T=0,M=0,U=s.i||0,ee=0,F=s.w||0,O=0;U+2<a;++U){var H=P(U),V=U&32767,ae=S[H];if(y[V]=ae,S[H]=V,F<=U){var J=a-U;if((T>7e3||ee>24576)&&(J>423||!u)){f=ZP(e,c,0,A,R,D,M,ee,O,U-O,f),ee=T=M=0,O=U;for(var W=0;W<286;++W)R[W]=0;for(var W=0;W<30;++W)D[W]=0}var z=2,ne=0,se=m,X=V-ae&32767;if(J>2&&H==P(U-X))for(var B=Math.min(g,J)-1,Q=Math.min(32767,U),re=Math.min(258,J);X<=Q&&--se&&V!=ae;){if(e[U+z]==e[U+z-X]){for(var ce=0;ce<re&&e[U+ce]==e[U+ce-X];++ce);if(ce>z){if(z=ce,ne=X,ce>B)break;for(var ue=Math.min(X,ce-2),he=0,W=0;W<ue;++W){var ge=U-X+W&32767,be=y[ge],Le=ge-be&32767;Le>he&&(he=Le,ae=ge)}}}V=ae,ae=y[V],X+=V-ae&32767}if(ne){A[ee++]=268435456|B3[z]<<18|XP[ne];var $e=B3[z]&31,qe=XP[ne]&31;M+=R2[$e]+T2[qe],++R[257+$e],++D[qe],F=U+z,++T}else A[ee++]=e[U],++R[e[U]]}}for(U=Math.max(U,F);U<a;++U)A[ee++]=e[U],++R[e[U]];f=ZP(e,c,u,A,R,D,M,ee,O,U-O,f),u||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=S,s.p=y,s.i=U,s.w=F)}else{for(var U=s.w||0;U<a+u;U+=65535){var Qe=U+65535;Qe>=a&&(c[f/8|0]=u,Qe=a),f=vD(c,f+1,e.subarray(U,Qe))}s.i=a}return gD(o,0,r+v_(f)+i)},xD=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},pue=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new xs(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return hue(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},bD=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},mue=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=xD();i.p(t.dictionary),bD(e,2,i.d())}},gue=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&tl(6,"invalid zlib data"),(e[1]>>5&1)==1&&tl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function U3(e,t){t||(t={});var n=xD();n.p(e);var r=pue(e,t,t.dictionary?6:2,4);return mue(r,t),bD(r,r.length-4,n.d()),r}function vue(e,t){return due(e.subarray(gue(e),-4),{i:2},t,t)}var yue=typeof TextDecoder<"u"&&new TextDecoder,xue=0;try{yue.decode(yD,{stream:!0}),xue=1}catch{}var Zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Tw(){Zt.console&&typeof Zt.console.log=="function"&&Zt.console.log.apply(Zt.console,arguments)}var ir={log:Tw,warn:function(e){Zt.console&&(typeof Zt.console.warn=="function"?Zt.console.warn.apply(Zt.console,arguments):Tw.call(null,arguments))},error:function(e){Zt.console&&(typeof Zt.console.error=="function"?Zt.console.error.apply(Zt.console,arguments):Tw(e))}};function Lw(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){dh(r.response,t,n)},r.onerror=function(){ir.error("could not download file")},r.send()}function QP(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function k1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l0,W3,dh=Zt.saveAs||((typeof window>"u"?"undefined":Yn(window))!=="object"||window!==Zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Zt.URL||Zt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?QP(i.href)?Lw(e,t,n):k1(i,i.target="_blank"):k1(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){k1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(QP(e))Lw(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){k1(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Yn(s)!=="object"&&(ir.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Lw(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Zt.HTMLElement)||Zt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Yn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(e)}else{var c=Zt.URL||Zt.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dw(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=hs(n,r,i,s,t[0],7,-680876936),s=hs(s,n,r,i,t[1],12,-389564586),i=hs(i,s,n,r,t[2],17,606105819),r=hs(r,i,s,n,t[3],22,-1044525330),n=hs(n,r,i,s,t[4],7,-176418897),s=hs(s,n,r,i,t[5],12,1200080426),i=hs(i,s,n,r,t[6],17,-1473231341),r=hs(r,i,s,n,t[7],22,-45705983),n=hs(n,r,i,s,t[8],7,1770035416),s=hs(s,n,r,i,t[9],12,-1958414417),i=hs(i,s,n,r,t[10],17,-42063),r=hs(r,i,s,n,t[11],22,-1990404162),n=hs(n,r,i,s,t[12],7,1804603682),s=hs(s,n,r,i,t[13],12,-40341101),i=hs(i,s,n,r,t[14],17,-1502002290),n=ps(n,r=hs(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ps(s,n,r,i,t[6],9,-1069501632),i=ps(i,s,n,r,t[11],14,643717713),r=ps(r,i,s,n,t[0],20,-373897302),n=ps(n,r,i,s,t[5],5,-701558691),s=ps(s,n,r,i,t[10],9,38016083),i=ps(i,s,n,r,t[15],14,-660478335),r=ps(r,i,s,n,t[4],20,-405537848),n=ps(n,r,i,s,t[9],5,568446438),s=ps(s,n,r,i,t[14],9,-1019803690),i=ps(i,s,n,r,t[3],14,-187363961),r=ps(r,i,s,n,t[8],20,1163531501),n=ps(n,r,i,s,t[13],5,-1444681467),s=ps(s,n,r,i,t[2],9,-51403784),i=ps(i,s,n,r,t[7],14,1735328473),n=ms(n,r=ps(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ms(s,n,r,i,t[8],11,-2022574463),i=ms(i,s,n,r,t[11],16,1839030562),r=ms(r,i,s,n,t[14],23,-35309556),n=ms(n,r,i,s,t[1],4,-1530992060),s=ms(s,n,r,i,t[4],11,1272893353),i=ms(i,s,n,r,t[7],16,-155497632),r=ms(r,i,s,n,t[10],23,-1094730640),n=ms(n,r,i,s,t[13],4,681279174),s=ms(s,n,r,i,t[0],11,-358537222),i=ms(i,s,n,r,t[3],16,-722521979),r=ms(r,i,s,n,t[6],23,76029189),n=ms(n,r,i,s,t[9],4,-640364487),s=ms(s,n,r,i,t[12],11,-421815835),i=ms(i,s,n,r,t[15],16,530742520),n=gs(n,r=ms(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=gs(s,n,r,i,t[7],10,1126891415),i=gs(i,s,n,r,t[14],15,-1416354905),r=gs(r,i,s,n,t[5],21,-57434055),n=gs(n,r,i,s,t[12],6,1700485571),s=gs(s,n,r,i,t[3],10,-1894986606),i=gs(i,s,n,r,t[10],15,-1051523),r=gs(r,i,s,n,t[1],21,-2054922799),n=gs(n,r,i,s,t[8],6,1873313359),s=gs(s,n,r,i,t[15],10,-30611744),i=gs(i,s,n,r,t[6],15,-1560198380),r=gs(r,i,s,n,t[13],21,1309151649),n=gs(n,r,i,s,t[4],6,-145523070),s=gs(s,n,r,i,t[11],10,-1120210379),i=gs(i,s,n,r,t[2],15,718787259),r=gs(r,i,s,n,t[9],21,-343485551),e[0]=Fd(n,e[0]),e[1]=Fd(r,e[1]),e[2]=Fd(i,e[2]),e[3]=Fd(s,e[3])}function L2(e,t,n,r,i,s){return t=Fd(Fd(t,e),Fd(r,s)),Fd(t<<i|t>>>32-i,n)}function hs(e,t,n,r,i,s,a){return L2(t&n|~t&r,e,t,i,s,a)}function ps(e,t,n,r,i,s,a){return L2(t&r|n&~r,e,t,i,s,a)}function ms(e,t,n,r,i,s,a){return L2(t^n^r,e,t,i,s,a)}function gs(e,t,n,r,i,s,a){return L2(n^(t|~r),e,t,i,s,a)}function SD(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Dw(r,bue(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Dw(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Dw(r,i),r}function bue(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}l0=Zt.atob.bind(Zt),W3=Zt.btoa.bind(Zt);var e8="0123456789abcdef".split("");function wue(e){for(var t="",n=0;n<4;n++)t+=e8[e>>8*n+4&15]+e8[e>>8*n&15];return t}function Sue(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function H3(e){return SD(e).map(Sue).join("")}var _ue=function(e){for(var t=0;t<e.length;t++)e[t]=wue(e[t]);return e.join("")}(SD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fd(e,t){if(_ue){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q3(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var f=o[c];u=(u+f+a.charCodeAt(c))%256,o[c]=o[u],o[u]=f}n=e,r=o}else o=r;var h=t.length,g=0,m=0,x="";for(c=0;c<h;c++)m=(m+(f=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=f,a=o[(o[g]+o[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t8={print:4,modify:8,copy:16,"annot-forms":32};function rm(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(t8.perm!==void 0)throw new Error("Invalid permission: "+o);i+=t8[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=H3(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=q3(this.encryptionKey,this.padding)}function im(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function n8(e){if(Yn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(o){Zt.console&&ir.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ux(e){if(!(this instanceof ux))return new ux(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function _D(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mh(e,t,n,r,i){if(!(this instanceof mh))return new mh(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,_D.call(this,r,i)}function fm(e,t,n,r,i){if(!(this instanceof fm))return new fm(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,_D.call(this,r,i)}function Kt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,u="S",f=null;Yn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=n8;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(k){x=k};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var _=m.__private__.getPageFormat=function(k){return S[k]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},P=C.COMPAT;function A(){this.saveGraphicsState(),fe(new Mt(st,0,0,-st,0,Ll()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",P=C.ADVANCED}function R(){this.restoreGraphicsState(),u="S",P=C.COMPAT}var D=m.__private__.combineFontStyleAndFontWeight=function(k,G){if(k=="bold"&&G=="normal"||k=="bold"&&G==400||k=="normal"&&G=="italic"||k=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(k=G==400||G==="normal"?k==="italic"?"italic":"normal":G!=700&&G!=="bold"||k!=="normal"?(G==700?"bold":G)+""+k:"bold"),k};m.advancedAPI=function(k){var G=P===C.COMPAT;return G&&A.call(this),typeof k!="function"||(k(this),G&&R.call(this)),this},m.compatAPI=function(k){var G=P===C.ADVANCED;return G&&R.call(this),typeof k!="function"||(k(this),G&&A.call(this)),this},m.isAdvancedAPI=function(){return P===C.ADVANCED};var T,M=function(k){if(P!==C.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=m.roundToPrecision=m.__private__.roundToPrecision=function(k,G){var de=t||G;if(isNaN(k)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(de).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return U(k,16)};var ee=m.f2=m.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return U(k,2)},F=m.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return U(k,3)},O=m.scale=m.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return P===C.COMPAT?k*st:P===C.ADVANCED?k:void 0},H=function(k){return P===C.COMPAT?Ll()-k:P===C.ADVANCED?k:void 0},V=function(k){return O(H(k))};m.__private__.setPrecision=m.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(t=parseInt(k,10))};var ae,J="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return J},z=m.__private__.setFileId=function(k){return J=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(yr=new rm(f.userPermissions,f.userPassword,f.ownerPassword,J)),J};m.setFileId=function(k){return z(k),this},m.getFileId=function(){return W()};var ne=m.__private__.convertDateToPDFDate=function(k){var G=k.getTimezoneOffset(),de=G<0?"+":"-",ve=Math.floor(Math.abs(G/60)),je=Math.abs(G%60),Me=[de,re(ve),"'",re(je),"'"].join("");return["D:",k.getFullYear(),re(k.getMonth()+1),re(k.getDate()),re(k.getHours()),re(k.getMinutes()),re(k.getSeconds()),Me].join("")},se=m.__private__.convertPDFDateToDate=function(k){var G=parseInt(k.substr(2,4),10),de=parseInt(k.substr(6,2),10)-1,ve=parseInt(k.substr(8,2),10),je=parseInt(k.substr(10,2),10),Me=parseInt(k.substr(12,2),10),Ye=parseInt(k.substr(14,2),10);return new Date(G,de,ve,je,Me,Ye,0)},X=m.__private__.setCreationDate=function(k){var G;if(k===void 0&&(k=new Date),k instanceof Date)G=ne(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=k}return ae=G},B=m.__private__.getCreationDate=function(k){var G=ae;return k==="jsDate"&&(G=se(ae)),G};m.setCreationDate=function(k){return X(k),this},m.getCreationDate=function(k){return B(k)};var Q,re=m.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ce=m.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ue=0,he=[],ge=[],be=0,Le=[],$e=[],qe=!1,Qe=ge,yt=function(){ue=0,be=0,ge=[],he=[],Le=[],No=gr(),ga=gr()};m.__private__.setCustomOutputDestination=function(k){qe=!0,Qe=k};var De=function(k){qe||(Qe=k)};m.__private__.resetCustomOutputDestination=function(){qe=!1,Qe=ge};var fe=m.__private__.out=function(k){return k=k.toString(),be+=k.length+1,Qe.push(k),Qe},Dt=m.__private__.write=function(k){return fe(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},xt=m.__private__.getArrayBuffer=function(k){for(var G=k.length,de=new ArrayBuffer(G),ve=new Uint8Array(de);G--;)ve[G]=k.charCodeAt(G);return de},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ke};var oe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(k){return oe=P===C.ADVANCED?k/st:k,this};var me,_e=m.__private__.getFontSize=m.getFontSize=function(){return P===C.COMPAT?oe:oe*st},Be=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(k){return Be=k,this},m.__private__.getR2L=m.getR2L=function(){return Be};var We,Ie=m.__private__.setZoomMode=function(k){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))me=k;else if(isNaN(k)){if(G.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');me=k}else me=parseInt(k,10)};m.__private__.getZoomMode=function(){return me};var et,St=m.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');We=k};m.__private__.getPageMode=function(){return We};var $t=m.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');et=k};m.__private__.getLayoutMode=function(){return et},m.__private__.setDisplayMode=m.setDisplayMode=function(k,G,de){return Ie(k),$t(G),St(de),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(k){if(Object.keys(Pt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[k]},m.__private__.getDocumentProperties=function(){return Pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(k){for(var G in Pt)Pt.hasOwnProperty(G)&&k[G]&&(Pt[G]=k[G]);return this},m.__private__.setDocumentProperty=function(k,G){if(Object.keys(Pt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[k]=G};var qt,st,Ir,fn,oi,Wt={},rn={},Rn=[],Gt={},or={},on={},pr={},qr=null,Xn=0,Vt=[],Nn=new n8(m),Sl=e.hotfixes||[],li={},Ws={},ma=[],Mt=function k(G,de,ve,je,Me,Ye){if(!(this instanceof k))return new k(G,de,ve,je,Me,Ye);isNaN(G)&&(G=1),isNaN(de)&&(de=0),isNaN(ve)&&(ve=0),isNaN(je)&&(je=1),isNaN(Me)&&(Me=0),isNaN(Ye)&&(Ye=0),this._matrix=[G,de,ve,je,Me,Ye]};Object.defineProperty(Mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(k)},Mt.prototype.multiply=function(k){var G=k.sx*this.sx+k.shy*this.shx,de=k.sx*this.shy+k.shy*this.sy,ve=k.shx*this.sx+k.sy*this.shx,je=k.shx*this.shy+k.sy*this.sy,Me=k.tx*this.sx+k.ty*this.shx+this.tx,Ye=k.tx*this.shy+k.ty*this.sy+this.ty;return new Mt(G,de,ve,je,Me,Ye)},Mt.prototype.decompose=function(){var k=this.sx,G=this.shy,de=this.shx,ve=this.sy,je=this.tx,Me=this.ty,Ye=Math.sqrt(k*k+G*G),mt=(k/=Ye)*de+(G/=Ye)*ve;de-=k*mt,ve-=G*mt;var It=Math.sqrt(de*de+ve*ve);return mt/=It,k*(ve/=It)<G*(de/=It)&&(k=-k,G=-G,mt=-mt,Ye=-Ye),{scale:new Mt(Ye,0,0,It,0,0),translate:new Mt(1,0,0,1,je,Me),rotate:new Mt(k,G,-G,k,0,0),skew:new Mt(1,0,mt,1,0,0)}},Mt.prototype.toString=function(k){return this.join(" ")},Mt.prototype.inversed=function(){var k=this.sx,G=this.shy,de=this.shx,ve=this.sy,je=this.tx,Me=this.ty,Ye=1/(k*ve-G*de),mt=ve*Ye,It=-G*Ye,ln=-de*Ye,sn=k*Ye;return new Mt(mt,It,ln,sn,-mt*je-ln*Me,-It*je-sn*Me)},Mt.prototype.applyToPoint=function(k){var G=k.x*this.sx+k.y*this.shx+this.tx,de=k.x*this.shy+k.y*this.sy+this.ty;return new Ya(G,de)},Mt.prototype.applyToRectangle=function(k){var G=this.applyToPoint(k),de=this.applyToPoint(new Ya(k.x+k.w,k.y+k.h));return new Tl(G.x,G.y,de.x-G.x,de.y-G.y)},Mt.prototype.clone=function(){var k=this.sx,G=this.shy,de=this.shx,ve=this.sy,je=this.tx,Me=this.ty;return new Mt(k,G,de,ve,je,Me)},m.Matrix=Mt;var Ss=m.matrixMult=function(k,G){return G.multiply(k)},es=new Mt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=es;var ts=function(k,G){if(!or[k]){var de=(G instanceof mh?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);G.id=de,or[k]=de,Gt[de]=G,Nn.publish("addPattern",G)}};m.ShadingPattern=mh,m.TilingPattern=fm,m.addShadingPattern=function(k,G){return M("addShadingPattern()"),ts(k,G),this},m.beginTilingPattern=function(k){M("beginTilingPattern()"),up(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},m.endTilingPattern=function(k,G){M("endTilingPattern()"),G.stream=$e[Q].join(`
`),ts(k,G),Nn.publish("endTilingPattern",G),ma.pop().restore()};var mr=m.__private__.newObject=function(){var k=gr();return Ai(k,!0),k},gr=m.__private__.newObjectDeferred=function(){return ue++,he[ue]=function(){return be},ue},Ai=function(k,G){return G=typeof G=="boolean"&&G,he[k]=be,G&&fe(k+" 0 obj"),k},_l=m.__private__.newAdditionalObject=function(){var k={objId:gr(),content:""};return Le.push(k),k},No=gr(),ga=gr(),va=m.__private__.decodeColorString=function(k){var G=k.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var de=parseFloat(G[0]);G=[de,de,de,"r"]}for(var ve="#",je=0;je<3;je++)ve+=("0"+Math.floor(255*parseFloat(G[je])).toString(16)).slice(-2);return ve},yi=m.__private__.encodeColorString=function(k){var G;typeof k=="string"&&(k={ch1:k});var de=k.ch1,ve=k.ch2,je=k.ch3,Me=k.ch4,Ye=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var mt=new wD(de);if(mt.ok)de=mt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var It=parseInt(de.substr(1),16);de=It>>16&255,ve=It>>8&255,je=255&It}if(ve===void 0||Me===void 0&&de===ve&&ve===je)if(typeof de=="string")G=de+" "+Ye[0];else switch(k.precision){case 2:G=ee(de/255)+" "+Ye[0];break;case 3:default:G=F(de/255)+" "+Ye[0]}else if(Me===void 0||Yn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return G=["1.","1.","1.",Ye[1]].join(" ");if(typeof de=="string")G=[de,ve,je,Ye[1]].join(" ");else switch(k.precision){case 2:G=[ee(de/255),ee(ve/255),ee(je/255),Ye[1]].join(" ");break;default:case 3:G=[F(de/255),F(ve/255),F(je/255),Ye[1]].join(" ")}}else if(typeof de=="string")G=[de,ve,je,Me,Ye[2]].join(" ");else switch(k.precision){case 2:G=[ee(de),ee(ve),ee(je),ee(Me),Ye[2]].join(" ");break;case 3:default:G=[F(de),F(ve),F(je),F(Me),Ye[2]].join(" ")}return G},ya=m.__private__.getFilters=function(){return a},_s=m.__private__.putStream=function(k){var G=(k=k||{}).data||"",de=k.filters||ya(),ve=k.alreadyAppliedFilters||[],je=k.addLength1||!1,Me=G.length,Ye=k.objectId,mt=function(ki){return ki};if(f!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(mt=yr.encryptor(Ye,0));var It={};de===!0&&(de=["FlateEncode"]);var ln=k.additionalKeyValues||[],sn=(It=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(G,de):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(It.data.length!==0&&(ln.push({key:"Length",value:It.data.length}),je===!0&&ln.push({key:"Length1",value:Me})),sn.length!=0)if(sn.split("/").length-1==1)ln.push({key:"Filter",value:sn});else{ln.push({key:"Filter",value:"["+sn+"]"});for(var wn=0;wn<ln.length;wn+=1)if(ln[wn].key==="DecodeParms"){for(var xr=[],kr=0;kr<It.reverseChain.split("/").length-1;kr+=1)xr.push("null");xr.push(ln[wn].value),ln[wn].value="["+xr.join(" ")+"]"}}fe("<<");for(var Mr=0;Mr<ln.length;Mr++)fe("/"+ln[Mr].key+" "+ln[Mr].value);fe(">>"),It.data.length!==0&&(fe("stream"),fe(mt(It.data)),fe("endstream"))},Wa=m.__private__.putPage=function(k){var G=k.number,de=k.data,ve=k.objId,je=k.contentsObjId;Ai(ve,!0),fe("<</Type /Page"),fe("/Parent "+k.rootDictionaryObjId+" 0 R"),fe("/Resources "+k.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(T(k.mediaBox.bottomLeftX))+" "+parseFloat(T(k.mediaBox.bottomLeftY))+" "+T(k.mediaBox.topRightX)+" "+T(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&fe("/CropBox ["+T(k.cropBox.bottomLeftX)+" "+T(k.cropBox.bottomLeftY)+" "+T(k.cropBox.topRightX)+" "+T(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&fe("/BleedBox ["+T(k.bleedBox.bottomLeftX)+" "+T(k.bleedBox.bottomLeftY)+" "+T(k.bleedBox.topRightX)+" "+T(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&fe("/TrimBox ["+T(k.trimBox.bottomLeftX)+" "+T(k.trimBox.bottomLeftY)+" "+T(k.trimBox.topRightX)+" "+T(k.trimBox.topRightY)+"]"),k.artBox!==null&&fe("/ArtBox ["+T(k.artBox.bottomLeftX)+" "+T(k.artBox.bottomLeftY)+" "+T(k.artBox.topRightX)+" "+T(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&fe("/UserUnit "+k.userUnit),Nn.publish("putPage",{objId:ve,pageContext:Vt[G],pageNumber:G,page:de}),fe("/Contents "+je+" 0 R"),fe(">>"),fe("endobj");var Me=de.join(`
`);return P===C.ADVANCED&&(Me+=`
Q`),Ai(je,!0),_s({data:Me,filters:ya(),objectId:je}),fe("endobj"),ve},Cl=m.__private__.putPages=function(){var k,G,de=[];for(k=1;k<=Xn;k++)Vt[k].objId=gr(),Vt[k].contentsObjId=gr();for(k=1;k<=Xn;k++)de.push(Wa({number:k,data:$e[k],objId:Vt[k].objId,contentsObjId:Vt[k].contentsObjId,mediaBox:Vt[k].mediaBox,cropBox:Vt[k].cropBox,bleedBox:Vt[k].bleedBox,trimBox:Vt[k].trimBox,artBox:Vt[k].artBox,userUnit:Vt[k].userUnit,rootDictionaryObjId:No,resourceDictionaryObjId:ga}));Ai(No,!0),fe("<</Type /Pages");var ve="/Kids [";for(G=0;G<Xn;G++)ve+=de[G]+" 0 R ";fe(ve+"]"),fe("/Count "+Xn),fe(">>"),fe("endobj"),Nn.publish("postPutPages")},wc=function(k){Nn.publish("putFont",{font:k,out:fe,newObject:mr,putStream:_s}),k.isAlreadyPutted!==!0&&(k.objectNumber=mr(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+im(k.postScriptName)),fe("/Subtype /Type1"),typeof k.encoding=="string"&&fe("/Encoding /"+k.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Sc=function(){for(var k in Wt)Wt.hasOwnProperty(k)&&(h===!1||h===!0&&g.hasOwnProperty(k))&&wc(Wt[k])},_c=function(k){k.objectNumber=mr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[T(k.x),T(k.y),T(k.x+k.width),T(k.y+k.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var de=k.pages[1].join(`
`);_s({data:de,additionalKeyValues:G,objectId:k.objectNumber}),fe("endobj")},Ru=function(){for(var k in li)li.hasOwnProperty(k)&&_c(li[k])},np=function(k,G){var de,ve=[],je=1/(G-1);for(de=0;de<1;de+=je)ve.push(de);if(ve.push(1),k[0].offset!=0){var Me={offset:0,color:k[0].color};k.unshift(Me)}if(k[k.length-1].offset!=1){var Ye={offset:1,color:k[k.length-1].color};k.push(Ye)}for(var mt="",It=0,ln=0;ln<ve.length;ln++){for(de=ve[ln];de>k[It+1].offset;)It++;var sn=k[It].offset,wn=(de-sn)/(k[It+1].offset-sn),xr=k[It].color,kr=k[It+1].color;mt+=ce(Math.round((1-wn)*xr[0]+wn*kr[0]).toString(16))+ce(Math.round((1-wn)*xr[1]+wn*kr[1]).toString(16))+ce(Math.round((1-wn)*xr[2]+wn*kr[2]).toString(16))}return mt.trim()},vr=function(k,G){G||(G=21);var de=mr(),ve=np(k.colors,G),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+G+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:ve,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),fe("endobj"),k.objectNumber=mr(),fe("<< /ShadingType "+k.type),fe("/ColorSpace /DeviceRGB");var Me="/Coords ["+T(parseFloat(k.coords[0]))+" "+T(parseFloat(k.coords[1]))+" ";k.type===2?Me+=T(parseFloat(k.coords[2]))+" "+T(parseFloat(k.coords[3])):Me+=T(parseFloat(k.coords[2]))+" "+T(parseFloat(k.coords[3]))+" "+T(parseFloat(k.coords[4]))+" "+T(parseFloat(k.coords[5])),fe(Me+="]"),k.matrix&&fe("/Matrix ["+k.matrix.toString()+"]"),fe("/Function "+de+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},tg=function(k,G){var de=gr(),ve=mr();G.push({resourcesOid:de,objectOid:ve}),k.objectNumber=ve;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+k.boundingBox.map(T).join(" ")+"]"}),je.push({key:"XStep",value:T(k.xStep)}),je.push({key:"YStep",value:T(k.yStep)}),je.push({key:"Resources",value:de+" 0 R"}),k.matrix&&je.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),_s({data:k.stream,additionalKeyValues:je,objectId:k.objectNumber}),fe("endobj")},Nl=function(k){var G;for(G in Gt)Gt.hasOwnProperty(G)&&(Gt[G]instanceof mh?vr(Gt[G]):Gt[G]instanceof fm&&tg(Gt[G],k))},_f=function(k){for(var G in k.objectNumber=mr(),fe("<<"),k)switch(G){case"opacity":fe("/ca "+ee(k[G]));break;case"stroke-opacity":fe("/CA "+ee(k[G]))}fe(">>"),fe("endobj")},Tu=function(){var k;for(k in on)on.hasOwnProperty(k)&&_f(on[k])},Cf=function(){for(var k in fe("/XObject <<"),li)li.hasOwnProperty(k)&&li[k].objectNumber>=0&&fe("/"+k+" "+li[k].objectNumber+" 0 R");Nn.publish("putXobjectDict"),fe(">>")},rp=function(){yr.oid=mr(),fe("<<"),fe("/Filter /Standard"),fe("/V "+yr.v),fe("/R "+yr.r),fe("/U <"+yr.toHexString(yr.U)+">"),fe("/O <"+yr.toHexString(yr.O)+">"),fe("/P "+yr.P),fe(">>"),fe("endobj")},Cc=function(){for(var k in fe("/Font <<"),Wt)Wt.hasOwnProperty(k)&&(h===!1||h===!0&&g.hasOwnProperty(k))&&fe("/"+k+" "+Wt[k].objectNumber+" 0 R");fe(">>")},Hs=function(){if(Object.keys(Gt).length>0){for(var k in fe("/Shading <<"),Gt)Gt.hasOwnProperty(k)&&Gt[k]instanceof mh&&Gt[k].objectNumber>=0&&fe("/"+k+" "+Gt[k].objectNumber+" 0 R");Nn.publish("putShadingPatternDict"),fe(">>")}},Lu=function(k){if(Object.keys(Gt).length>0){for(var G in fe("/Pattern <<"),Gt)Gt.hasOwnProperty(G)&&Gt[G]instanceof m.TilingPattern&&Gt[G].objectNumber>=0&&Gt[G].objectNumber<k&&fe("/"+G+" "+Gt[G].objectNumber+" 0 R");Nn.publish("putTilingPatternDict"),fe(">>")}},Cs=function(){if(Object.keys(on).length>0){var k;for(k in fe("/ExtGState <<"),on)on.hasOwnProperty(k)&&on[k].objectNumber>=0&&fe("/"+k+" "+on[k].objectNumber+" 0 R");Nn.publish("putGStateDict"),fe(">>")}},Lr=function(k){Ai(k.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cc(),Hs(),Lu(k.objectOid),Cs(),Cf(),fe(">>"),fe("endobj")},ip=function(){var k=[];Sc(),Tu(),Ru(),Nl(k),Nn.publish("putResources"),k.forEach(Lr),Lr({resourcesOid:ga,objectOid:Number.MAX_SAFE_INTEGER}),Nn.publish("postPutResources")},sp=function(){Nn.publish("putAdditionalObjects");for(var k=0;k<Le.length;k++){var G=Le[k];Ai(G.objId,!0),fe(G.content),fe("endobj")}Nn.publish("postPutAdditionalObjects")},Nc=function(k){rn[k.fontName]=rn[k.fontName]||{},rn[k.fontName][k.fontStyle]=k.id},jl=function(k,G,de,ve,je){var Me={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:k,fontName:G,fontStyle:de,encoding:ve,isStandardFont:je||!1,metadata:{}};return Nn.publish("addFont",{font:Me,instance:this}),Wt[Me.id]=Me,Nc(Me),Me.id},jc=function(k){for(var G=0,de=Ke.length;G<de;G++){var ve=jl.call(this,k[G][0],k[G][1],k[G][2],Ke[G][3],!0);h===!1&&(g[ve]=!0);var je=k[G][0].split("-");Nc({id:ve,fontName:je[0],fontStyle:je[1]||""})}Nn.publish("addFonts",{fonts:Wt,dictionary:rn})},ns=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(ve){var G=ve.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var de="Error in function "+G.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Zt.console)throw new Error(de);Zt.console.error(de,ve),Zt.alert&&alert(de)}},k.foo.bar=k,k.foo},Du=function(k,G){var de,ve,je,Me,Ye,mt,It,ln,sn;if(je=(G=G||{}).sourceEncoding||"Unicode",Ye=G.outputEncoding,(G.autoencode||Ye)&&Wt[qt].metadata&&Wt[qt].metadata[je]&&Wt[qt].metadata[je].encoding&&(Me=Wt[qt].metadata[je].encoding,!Ye&&Wt[qt].encoding&&(Ye=Wt[qt].encoding),!Ye&&Me.codePages&&(Ye=Me.codePages[0]),typeof Ye=="string"&&(Ye=Me[Ye]),Ye)){for(It=!1,mt=[],de=0,ve=k.length;de<ve;de++)(ln=Ye[k.charCodeAt(de)])?mt.push(String.fromCharCode(ln)):mt.push(k[de]),mt[de].charCodeAt(0)>>8&&(It=!0);k=mt.join("")}for(de=k.length;It===void 0&&de!==0;)k.charCodeAt(de-1)>>8&&(It=!0),de--;if(!It)return k;for(mt=G.noBOM?[]:[254,255],de=0,ve=k.length;de<ve;de++){if((sn=(ln=k.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(sn),mt.push(ln-(sn<<8))}return String.fromCharCode.apply(void 0,mt)},rs=m.__private__.pdfEscape=m.pdfEscape=function(k,G){return Du(k,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pc=m.__private__.beginPage=function(k){$e[++Xn]=[],Vt[Xn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Pl(Xn),De($e[Q])},Nf=function(k,G){var de,ve,je;switch(n=G||n,typeof k=="string"&&(de=_(k.toLowerCase()),Array.isArray(de)&&(ve=de[0],je=de[1])),Array.isArray(k)&&(ve=k[0]*st,je=k[1]*st),isNaN(ve)&&(ve=i[0],je=i[1]),(ve>14400||je>14400)&&(ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),je=Math.min(14400,je)),i=[ve,je],n.substr(0,1)){case"l":je>ve&&(i=[je,ve]);break;case"p":ve>je&&(i=[je,ve])}Pc(i),Rc(kf),fe(is),$f!==0&&fe($f+" J"),Lc!==0&&fe(Lc+" j"),Nn.publish("addPage",{pageNumber:Xn})},jf=function(k){k>0&&k<=Xn&&($e.splice(k,1),Vt.splice(k,1),Xn--,Q>Xn&&(Q=Xn),this.setPage(Q))},Pl=function(k){k>0&&k<=Xn&&(Q=k)},ng=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return $e.length-1},Ou=function(k,G,de){var ve,je=void 0;return de=de||{},k=k!==void 0?k:Wt[qt].fontName,G=G!==void 0?G:Wt[qt].fontStyle,ve=k.toLowerCase(),rn[ve]!==void 0&&rn[ve][G]!==void 0?je=rn[ve][G]:rn[k]!==void 0&&rn[k][G]!==void 0?je=rn[k][G]:de.disableWarning===!1&&ir.warn("Unable to look up font label for font '"+k+"', '"+G+"'. Refer to getFontList() for available fonts."),je||de.noFallback||(je=rn.times[G])==null&&(je=rn.times.normal),je},Tn=m.__private__.putInfo=function(){var k=mr(),G=function(ve){return ve};for(var de in f!==null&&(G=yr.encryptor(k,0)),fe("<<"),fe("/Producer ("+rs(G("jsPDF "+Kt.version))+")"),Pt)Pt.hasOwnProperty(de)&&Pt[de]&&fe("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+rs(G(Pt[de]))+")");fe("/CreationDate ("+rs(G(ae))+")"),fe(">>"),fe("endobj")},Iu=m.__private__.putCatalog=function(k){var G=(k=k||{}).rootDictionaryObjId||No;switch(mr(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+G+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+me;de.substr(de.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+ee(me)+"]")}switch(et||(et="continuous"),et){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}We&&fe("/PageMode /"+We),Nn.publish("putCatalog"),fe(">>"),fe("endobj")},ap=m.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ue+1)),fe("/Root "+ue+" 0 R"),fe("/Info "+(ue-1)+" 0 R"),f!==null&&fe("/Encrypt "+yr.oid+" 0 R"),fe("/ID [ <"+J+"> <"+J+"> ]"),fe(">>")},Pf=m.__private__.putHeader=function(){fe("%PDF-"+x),fe("%ºß¬à")},op=m.__private__.putXRef=function(){var k="0000000000";fe("xref"),fe("0 "+(ue+1)),fe("0000000000 65535 f ");for(var G=1;G<=ue;G++)typeof he[G]=="function"?fe((k+he[G]()).slice(-10)+" 00000 n "):he[G]!==void 0?fe((k+he[G]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Ha=m.__private__.buildDocument=function(){yt(),De(ge),Nn.publish("buildDocument"),Pf(),Cl(),sp(),ip(),f!==null&&rp(),Tn(),Iu();var k=be;return op(),ap(),fe("startxref"),fe(""+k),fe("%%EOF"),De($e[Q]),ge.join(`
`)},Ac=m.__private__.getBlob=function(k){return new Blob([xt(k)],{type:"application/pdf"})},Al=m.output=m.__private__.output=ns(function(k,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",k){case void 0:return Ha();case"save":m.save(G.filename);break;case"arraybuffer":return xt(Ha());case"blob":return Ac(Ha());case"bloburi":case"bloburl":if(Zt.URL!==void 0&&typeof Zt.URL.createObjectURL=="function")return Zt.URL&&Zt.URL.createObjectURL(Ac(Ha()))||void 0;ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ve=Ha();try{de=W3(ve)}catch{de=W3(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+G.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(je=G.pdfObjectUrl,Me="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",mt=Zt.open();return mt!==null&&mt.document.write(Ye),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',ln=Zt.open();if(ln!==null){ln.document.write(It);var sn=this;ln.document.documentElement.querySelector("#pdfViewer").onload=function(){ln.document.title=G.filename,ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sn.output("bloburl"))}}return ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',xr=Zt.open();if(xr!==null&&(xr.document.write(wn),xr.document.title=G.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return Zt.document.location.href=this.output("datauristring",G);default:return null}}),kc=function(k){return Array.isArray(Sl)===!0&&Sl.indexOf(k)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=kc("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);st=r}var yr=null;X(),z();var qa=function(k){return f!==null?yr.encryptor(k,0):function(G){return G}},xa=m.__private__.getPageInfo=m.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[k].objId,pageNumber:k,pageContext:Vt[k]}},Ht=m.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Vt)if(Vt[G].objId===k)break;return xa(G)},Ec=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Vt[Q].objId,pageNumber:Q,pageContext:Vt[Q]}};m.addPage=function(){return Nf.apply(this,arguments),this},m.setPage=function(){return Pl.apply(this,arguments),De.call(this,$e[Q]),this},m.insertPage=function(k){return this.addPage(),this.movePage(Q,k),this},m.movePage=function(k,G){var de,ve;if(k>G){de=$e[k],ve=Vt[k];for(var je=k;je>G;je--)$e[je]=$e[je-1],Vt[je]=Vt[je-1];$e[G]=de,Vt[G]=ve,this.setPage(G)}else if(k<G){de=$e[k],ve=Vt[k];for(var Me=k;Me<G;Me++)$e[Me]=$e[Me+1],Vt[Me]=Vt[Me+1];$e[G]=de,Vt[G]=ve,this.setPage(G)}return this},m.deletePage=function(){return jf.apply(this,arguments),this},m.__private__.text=m.text=function(k,G,de,ve,je){var Me,Ye,mt,It,ln,sn,wn,xr,kr,Mr=(ve=ve||{}).scope||this;if(typeof k=="number"&&typeof G=="number"&&(typeof de=="string"||Array.isArray(de))){var ki=de;de=G,G=k,k=ki}if(arguments[3]instanceof Mt?(M("The transform parameter of text() with a Matrix value"),kr=je):(mt=arguments[4],It=arguments[5],Yn(wn=arguments[3])==="object"&&wn!==null||(typeof mt=="string"&&(It=mt,mt=null),typeof wn=="string"&&(It=wn,wn=null),typeof wn=="number"&&(mt=wn,wn=null),ve={flags:wn,angle:mt,align:It})),isNaN(G)||isNaN(de)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Mr;var ci="",_a=!1,js=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:$c,Ks=Mr.internal.scaleFactor;function Dl(Jn){return Jn=Jn.split("	").join(Array(ve.TabLen||9).join(" ")),rs(Jn,wn)}function Lf(Jn){for(var Un,$r=Jn.concat(),Fr=[],Za=$r.length;Za--;)typeof(Un=$r.shift())=="string"?Fr.push(Un):Array.isArray(Jn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Fr.push(Un[0]):Fr.push([Un[0],Un[1],Un[2]]);return Fr}function Gu(Jn,Un){var $r;if(typeof Jn=="string")$r=Un(Jn)[0];else if(Array.isArray(Jn)){for(var Fr,Za,rd=Jn.concat(),zc=[],If=rd.length;If--;)typeof(Fr=rd.shift())=="string"?zc.push(Un(Fr)[0]):Array.isArray(Fr)&&typeof Fr[0]=="string"&&(Za=Un(Fr[0],Fr[1],Fr[2]),zc.push([Za[0],Za[1],Za[2]]));$r=zc}return $r}var Dc=!1,Ku=!0;if(typeof k=="string")Dc=!0;else if(Array.isArray(k)){var Yu=k.concat();Ye=[];for(var Oc,Er=Yu.length;Er--;)(typeof(Oc=Yu.shift())!="string"||Array.isArray(Oc)&&typeof Oc[0]!="string")&&(Ku=!1);Dc=Ku}if(Dc===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var Xu=oe/Mr.internal.scaleFactor,Ju=Xu*(js-1);switch(ve.baseline){case"bottom":de-=Ju;break;case"top":de+=Xu-Ju;break;case"hanging":de+=Xu-2*Ju;break;case"middle":de+=Xu/2-Ju}if((sn=ve.maxWidth||0)>0&&(typeof k=="string"?k=Mr.splitTextToSize(k,sn):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Jn,Un){return Jn.concat(Mr.splitTextToSize(Un,sn))},[]))),Me={text:k,x:G,y:de,options:ve,mutex:{pdfEscape:rs,activeFontKey:qt,fonts:Wt,activeFontSize:oe}},Nn.publish("preProcessText",Me),k=Me.text,mt=(ve=Me.options).angle,!(kr instanceof Mt)&&mt&&typeof mt=="number"){mt*=Math.PI/180,ve.rotationDirection===0&&(mt=-mt),P===C.ADVANCED&&(mt=-mt);var Zu=Math.cos(mt),Qu=Math.sin(mt);kr=new Mt(Zu,Qu,-Qu,Zu,0,0)}else mt&&mt instanceof Mt&&(kr=mt);P!==C.ADVANCED||kr||(kr=es),(ln=ve.charSpace||Rl)!==void 0&&(ci+=T(O(ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=ve.horizontalScale)!==void 0&&(ci+=T(100*xr)+` Tz
`),ve.lang;var Wi=-1,Ic=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Ao=Mr.internal.getCurrentPageInfo().pageContext;switch(Ic){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var dp=Ao.usedRenderingMode!==void 0?Ao.usedRenderingMode:-1;Wi!==-1?ci+=Wi+` Tr
`:dp!==-1&&(ci+=`0 Tr
`),Wi!==-1&&(Ao.usedRenderingMode=Wi),It=ve.align||"left";var Hi,ed=oe*js,Df=Mr.internal.pageSize.getWidth(),td=Wt[qt];ln=ve.charSpace||Rl,sn=ve.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Xa=[],Ol=function(Jn){return Mr.getStringUnitWidth(Jn,{font:td,charSpace:ln,fontSize:oe,doKerning:!1})*oe/Ks};if(Object.prototype.toString.call(k)==="[object Array]"){var qi;Ye=Lf(k),It!=="left"&&(Hi=Ye.map(Ol));var Ei,Il=0;if(It==="right"){G-=Hi[0],k=[],Er=Ye.length;for(var ko=0;ko<Er;ko++)ko===0?(Ei=qs(G),qi=Gs(de)):(Ei=O(Il-Hi[ko]),qi=-ed),k.push([Ye[ko],Ei,qi]),Il=Hi[ko]}else if(It==="center"){G-=Hi[0]/2,k=[],Er=Ye.length;for(var Eo=0;Eo<Er;Eo++)Eo===0?(Ei=qs(G),qi=Gs(de)):(Ei=O((Il-Hi[Eo])/2),qi=-ed),k.push([Ye[Eo],Ei,qi]),Il=Hi[Eo]}else if(It==="left"){k=[],Er=Ye.length;for(var nd=0;nd<Er;nd++)k.push(Ye[nd])}else if(It==="justify"&&td.encoding==="Identity-H"){k=[],Er=Ye.length,sn=sn!==0?sn:Df;for(var $o=0,Ln=0;Ln<Er;Ln++)if(qi=Ln===0?Gs(de):-ed,Ei=Ln===0?qs(G):$o,Ln<Er-1){var Ro=O((sn-Hi[Ln])/(Ye[Ln].split(" ").length-1)),$i=Ye[Ln].split(" ");k.push([$i[0]+" ",Ei,qi]),$o=0;for(var Ps=1;Ps<$i.length;Ps++){var Mc=(Ol($i[Ps-1]+" "+$i[Ps])-Ol($i[Ps]))*Ks+Ro;Ps==$i.length-1?k.push([$i[Ps],Mc,0]):k.push([$i[Ps]+" ",Mc,0]),$o-=Mc}}else k.push([Ye[Ln],Ei,qi]);k.push(["",$o,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Er=Ye.length,sn=sn!==0?sn:Df,Ln=0;Ln<Er;Ln++)qi=Ln===0?Gs(de):-ed,Ei=Ln===0?qs(G):0,Ln<Er-1?Xa.push(T(O((sn-Hi[Ln])/(Ye[Ln].split(" ").length-1)))):Xa.push(0),k.push([Ye[Ln],Ei,qi])}}var Of=typeof ve.R2L=="boolean"?ve.R2L:Be;Of===!0&&(k=Gu(k,function(Jn,Un,$r){return[Jn.split("").reverse().join(""),Un,$r]})),Me={text:k,x:G,y:de,options:ve,mutex:{pdfEscape:rs,activeFontKey:qt,fonts:Wt,activeFontSize:oe}},Nn.publish("postProcessText",Me),k=Me.text,_a=Me.mutex.isHex||!1;var Fc=Wt[qt].encoding;Fc!=="WinAnsiEncoding"&&Fc!=="StandardEncoding"||(k=Gu(k,function(Jn,Un,$r){return[Dl(Jn),Un,$r]})),Ye=Lf(k),k=[];for(var Bc,Vc,As,To=0,Ja=1,Lo=Array.isArray(Ye[0])?Ja:To,Do="",Ml=function(Jn,Un,$r){var Fr="";return $r instanceof Mt?($r=typeof ve.angle=="number"?Ss($r,new Mt(1,0,0,1,Jn,Un)):Ss(new Mt(1,0,0,1,Jn,Un),$r),P===C.ADVANCED&&($r=Ss(new Mt(1,0,0,-1,0,0),$r)),Fr=$r.join(" ")+` Tm
`):Fr=T(Jn)+" "+T(Un)+` Td
`,Fr},xi=0;xi<Ye.length;xi++){switch(Do="",Lo){case Ja:As=(_a?"<":"(")+Ye[xi][0]+(_a?">":")"),Bc=parseFloat(Ye[xi][1]),Vc=parseFloat(Ye[xi][2]);break;case To:As=(_a?"<":"(")+Ye[xi]+(_a?">":")"),Bc=qs(G),Vc=Gs(de)}Xa!==void 0&&Xa[xi]!==void 0&&(Do=Xa[xi]+` Tw
`),xi===0?k.push(Do+Ml(Bc,Vc,kr)+As):Lo===To?k.push(Do+As):Lo===Ja&&k.push(Do+Ml(Bc,Vc,kr)+As)}k=Lo===To?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var ss=`BT
/`;return ss+=qt+" "+oe+` Tf
`,ss+=T(oe*js)+` TL
`,ss+=Gr+`
`,ss+=ci,ss+=k,fe(ss+="ET"),g[qt]=!0,Mr};var Ga=m.__private__.clip=m.clip=function(k){return fe(k==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ga("evenodd")},m.__private__.discardPath=m.discardPath=function(){return fe("n"),this};var Ka=m.__private__.isValidStyle=function(k){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(G=!0),G};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(k){return Ka(k)&&(u=k),this};var Af=m.__private__.getStyle=m.getStyle=function(k){var G=u;switch(k){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=k}return G},kl=m.close=function(){return fe("h"),this};m.stroke=function(){return fe("S"),this},m.fill=function(k){return Mu("f",k),this},m.fillEvenOdd=function(k){return Mu("f*",k),this},m.fillStroke=function(k){return Mu("B",k),this},m.fillStrokeEvenOdd=function(k){return Mu("B*",k),this};var Mu=function(k,G){Yn(G)==="object"?lp(G,k):fe(k)},Fu=function(k){k===null||P===C.ADVANCED&&k===void 0||(k=Af(k),fe(k))};function Bu(k,G,de,ve,je){var Me=new fm(G||this.boundingBox,de||this.xStep,ve||this.yStep,this.gState,je||this.matrix);Me.stream=this.stream;var Ye=k+"$$"+this.cloneIndex+++"$$";return ts(Ye,Me),Me}var lp=function(k,G){var de=or[k.key],ve=Gt[de];if(ve instanceof mh)fe("q"),fe(rg(G)),ve.gState&&m.setGState(ve.gState),fe(k.matrix.toString()+" cm"),fe("/"+de+" sh"),fe("Q");else if(ve instanceof fm){var je=new Mt(1,0,0,-1,0,Ll());k.matrix&&(je=je.multiply(k.matrix||es),de=Bu.call(ve,k.key,k.boundingBox,k.xStep,k.yStep,je).id),fe("q"),fe("/Pattern cs"),fe("/"+de+" scn"),ve.gState&&m.setGState(ve.gState),fe(G),fe("Q")}},rg=function(k){switch(k){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},jo=m.moveTo=function(k,G){return fe(T(O(k))+" "+T(V(G))+" m"),this},ba=m.lineTo=function(k,G){return fe(T(O(k))+" "+T(V(G))+" l"),this},Ns=m.curveTo=function(k,G,de,ve,je,Me){return fe([T(O(k)),T(V(G)),T(O(de)),T(V(ve)),T(O(je)),T(V(Me)),"c"].join(" ")),this};m.__private__.line=m.line=function(k,G,de,ve,je){if(isNaN(k)||isNaN(G)||isNaN(de)||isNaN(ve)||!Ka(je))throw new Error("Invalid arguments passed to jsPDF.line");return P===C.COMPAT?this.lines([[de-k,ve-G]],k,G,[1,1],je||"S"):this.lines([[de-k,ve-G]],k,G,[1,1]).stroke()},m.__private__.lines=m.lines=function(k,G,de,ve,je,Me){var Ye,mt,It,ln,sn,wn,xr,kr,Mr,ki,ci,_a;if(typeof k=="number"&&(_a=de,de=G,G=k,k=_a),ve=ve||[1,1],Me=Me||!1,isNaN(G)||isNaN(de)||!Array.isArray(k)||!Array.isArray(ve)||!Ka(je)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jo(G,de),Ye=ve[0],mt=ve[1],ln=k.length,ki=G,ci=de,It=0;It<ln;It++)(sn=k[It]).length===2?(ki=sn[0]*Ye+ki,ci=sn[1]*mt+ci,ba(ki,ci)):(wn=sn[0]*Ye+ki,xr=sn[1]*mt+ci,kr=sn[2]*Ye+ki,Mr=sn[3]*mt+ci,ki=sn[4]*Ye+ki,ci=sn[5]*mt+ci,Ns(wn,xr,kr,Mr,ki,ci));return Me&&kl(),Fu(je),this},m.path=function(k){for(var G=0;G<k.length;G++){var de=k[G],ve=de.c;switch(de.op){case"m":jo(ve[0],ve[1]);break;case"l":ba(ve[0],ve[1]);break;case"c":Ns.apply(this,ve);break;case"h":kl()}}return this},m.__private__.rect=m.rect=function(k,G,de,ve,je){if(isNaN(k)||isNaN(G)||isNaN(de)||isNaN(ve)||!Ka(je))throw new Error("Invalid arguments passed to jsPDF.rect");return P===C.COMPAT&&(ve=-ve),fe([T(O(k)),T(V(G)),T(O(de)),T(O(ve)),"re"].join(" ")),Fu(je),this},m.__private__.triangle=m.triangle=function(k,G,de,ve,je,Me,Ye){if(isNaN(k)||isNaN(G)||isNaN(de)||isNaN(ve)||isNaN(je)||isNaN(Me)||!Ka(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-k,ve-G],[je-de,Me-ve],[k-je,G-Me]],k,G,[1,1],Ye,!0),this},m.__private__.roundedRect=m.roundedRect=function(k,G,de,ve,je,Me,Ye){if(isNaN(k)||isNaN(G)||isNaN(de)||isNaN(ve)||isNaN(je)||isNaN(Me)||!Ka(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*de),Me=Math.min(Me,.5*ve),this.lines([[de-2*je,0],[je*mt,0,je,Me-Me*mt,je,Me],[0,ve-2*Me],[0,Me*mt,-je*mt,Me,-je,Me],[2*je-de,0],[-je*mt,0,-je,-Me*mt,-je,-Me],[0,2*Me-ve],[0,-Me*mt,je*mt,-Me,je,-Me]],k+je,G,[1,1],Ye,!0),this},m.__private__.ellipse=m.ellipse=function(k,G,de,ve,je){if(isNaN(k)||isNaN(G)||isNaN(de)||isNaN(ve)||!Ka(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*de,Ye=4/3*(Math.SQRT2-1)*ve;return jo(k+de,G),Ns(k+de,G-Ye,k+Me,G-ve,k,G-ve),Ns(k-Me,G-ve,k-de,G-Ye,k-de,G),Ns(k-de,G+Ye,k-Me,G+ve,k,G+ve),Ns(k+Me,G+ve,k+de,G+Ye,k+de,G),Fu(je),this},m.__private__.circle=m.circle=function(k,G,de,ve){if(isNaN(k)||isNaN(G)||isNaN(de)||!Ka(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,G,de,de,ve)},m.setFont=function(k,G,de){return de&&(G=D(G,de)),qt=Ou(k,G,{disableWarning:!1}),this};var Vu=m.__private__.getFont=m.getFont=function(){return Wt[Ou.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var k,G,de={};for(k in rn)if(rn.hasOwnProperty(k))for(G in de[k]=[],rn[k])rn[k].hasOwnProperty(G)&&de[k].push(G);return de},m.addFont=function(k,G,de,ve,je){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(de=D(de,ve)),je=je||"Identity-H",jl.call(this,k,G,de,je)};var $c,kf=e.lineWidth||.200025,El=m.__private__.getLineWidth=m.getLineWidth=function(){return kf},Rc=m.__private__.setLineWidth=m.setLineWidth=function(k){return kf=k,fe(T(O(k))+" w"),this};m.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(k,G){if(k=k||[],G=G||0,isNaN(G)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(de){return T(O(de))}).join(" "),G=T(O(G)),fe("["+k+"] "+G+" d"),this};var zu=m.__private__.getLineHeight=m.getLineHeight=function(){return oe*$c};m.__private__.getLineHeight=m.getLineHeight=function(){return oe*$c};var Ef=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&($c=k),this},wa=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return $c};Ef(e.lineHeight);var qs=m.__private__.getHorizontalCoordinate=function(k){return O(k)},Gs=m.__private__.getVerticalCoordinate=function(k){return P===C.ADVANCED?k:Vt[Q].mediaBox.topRightY-Vt[Q].mediaBox.bottomLeftY-O(k)},cp=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(k){return T(qs(k))},Sa=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(k){return T(Gs(k))},is=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return va(is)},m.__private__.setStrokeColor=m.setDrawColor=function(k,G,de,ve){return is=yi({ch1:k,ch2:G,ch3:de,ch4:ve,pdfColorType:"draw",precision:2}),fe(is),this};var Uu=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return va(Uu)},m.__private__.setFillColor=m.setFillColor=function(k,G,de,ve){return Uu=yi({ch1:k,ch2:G,ch3:de,ch4:ve,pdfColorType:"fill",precision:2}),fe(Uu),this};var Gr=e.textColor||"0 g",$l=m.__private__.getTextColor=m.getTextColor=function(){return va(Gr)};m.__private__.setTextColor=m.setTextColor=function(k,G,de,ve){return Gr=yi({ch1:k,ch2:G,ch3:de,ch4:ve,pdfColorType:"text",precision:3}),this};var Rl=e.charSpace,Tc=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Rl||0)};m.__private__.setCharSpace=m.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rl=k,this};var $f=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(k){var G=m.CapJoinStyles[k];if(G===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $f=G,fe(G+" J"),this};var Lc=0;m.__private__.setLineJoin=m.setLineJoin=function(k){var G=m.CapJoinStyles[k];if(G===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lc=G,fe(G+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(T(O(k))+" M"),this},m.GState=ux,m.setGState=function(k){(k=typeof k=="string"?on[pr[k]]:Wu(null,k)).equals(qr)||(fe("/"+k.id+" gs"),qr=k)};var Wu=function(k,G){if(!k||!pr[k]){var de=!1;for(var ve in on)if(on.hasOwnProperty(ve)&&on[ve].equals(G)){de=!0;break}if(de)G=on[ve];else{var je="GS"+(Object.keys(on).length+1).toString(10);on[je]=G,G.id=je}return k&&(pr[k]=G.id),Nn.publish("addGState",G),G}};m.addGState=function(k,G){return Wu(k,G),this},m.saveGraphicsState=function(){return fe("q"),Rn.push({key:qt,size:oe,color:Gr}),this},m.restoreGraphicsState=function(){fe("Q");var k=Rn.pop();return qt=k.key,oe=k.size,Gr=k.color,qr=null,this},m.setCurrentTransformationMatrix=function(k){return fe(k.toString()+" cm"),this},m.comment=function(k){return fe("#"+k),this};var Ya=function(k,G){var de=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Me){isNaN(Me)||(de=parseFloat(Me))}});var ve=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Me){isNaN(Me)||(ve=parseFloat(Me))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Me){je=Me.toString()}}),this},Tl=function(k,G,de,ve){Ya.call(this,k,G),this.type="rect";var je=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ye){isNaN(Ye)||(je=parseFloat(Ye))}});var Me=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(Ye){isNaN(Ye)||(Me=parseFloat(Ye))}}),this},Hu=function(){this.page=Xn,this.currentPage=Q,this.pages=$e.slice(0),this.pagesContext=Vt.slice(0),this.x=Ir,this.y=fn,this.matrix=oi,this.width=Po(Q),this.height=Ll(Q),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Hu.prototype.restore=function(){Xn=this.page,Q=this.currentPage,Vt=this.pagesContext,$e=this.pages,Ir=this.x,fn=this.y,oi=this.matrix,Rf(Q,this.width),Tf(Q,this.height),Qe=this.outputDestination};var up=function(k,G,de,ve,je){ma.push(new Hu),Xn=Q=0,$e=[],Ir=k,fn=G,oi=je,Pc([de,ve])},ig=function(k){if(Ws[k])ma.pop().restore();else{var G=new Hu,de="Xo"+(Object.keys(li).length+1).toString(10);G.id=de,Ws[k]=de,li[de]=G,Nn.publish("addFormObject",G),ma.pop().restore()}};for(var qu in m.beginFormObject=function(k,G,de,ve,je){return up(k,G,de,ve,je),this},m.endFormObject=function(k){return ig(k),this},m.doFormObject=function(k,G){var de=li[Ws[k]];return fe("q"),fe(G.toString()+" cm"),fe("/"+de.id+" Do"),fe("Q"),this},m.getFormObject=function(k){var G=li[Ws[k]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},m.save=function(k,G){return k=k||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(dh(Ac(Ha()),k),typeof dh.unload=="function"&&Zt.setTimeout&&setTimeout(dh.unload,911),this):new Promise(function(de,ve){try{var je=dh(Ac(Ha()),k);typeof dh.unload=="function"&&Zt.setTimeout&&setTimeout(dh.unload,911),de(je)}catch(Me){ve(Me.message)}})},Kt.API)Kt.API.hasOwnProperty(qu)&&(qu==="events"&&Kt.API.events.length?function(k,G){var de,ve,je;for(je=G.length-1;je!==-1;je--)de=G[je][0],ve=G[je][1],k.subscribe.apply(k,[de].concat(typeof ve=="function"?[ve]:ve))}(Nn,Kt.API.events):m[qu]=Kt.API[qu]);var Po=m.getPageWidth=function(k){return(Vt[k=k||Q].mediaBox.topRightX-Vt[k].mediaBox.bottomLeftX)/st},Rf=m.setPageWidth=function(k,G){Vt[k].mediaBox.topRightX=G*st+Vt[k].mediaBox.bottomLeftX},Ll=m.getPageHeight=function(k){return(Vt[k=k||Q].mediaBox.topRightY-Vt[k].mediaBox.bottomLeftY)/st},Tf=m.setPageHeight=function(k,G){Vt[k].mediaBox.topRightY=G*st+Vt[k].mediaBox.bottomLeftY};return m.internal={pdfEscape:rs,getStyle:Af,getFont:Vu,getFontSize:_e,getCharSpace:Tc,getTextColor:$l,getLineHeight:zu,getLineHeightFactor:wa,getLineWidth:El,write:Dt,getHorizontalCoordinate:qs,getVerticalCoordinate:Gs,getCoordinateString:cp,getVerticalCoordinateString:Sa,collections:{},newObject:mr,newAdditionalObject:_l,newObjectDeferred:gr,newObjectDeferredBegin:Ai,getFilters:ya,putStream:_s,events:Nn,scaleFactor:st,pageSize:{getWidth:function(){return Po(Q)},setWidth:function(k){Rf(Q,k)},getHeight:function(){return Ll(Q)},setHeight:function(k){Tf(Q,k)}},encryptionOptions:f,encryption:yr,getEncryptor:qa,output:Al,getNumberOfPages:ng,pages:$e,out:fe,f2:ee,f3:F,getPageInfo:xa,getPageInfoByObjId:Ht,getCurrentPageInfo:Ec,getPDFVersion:y,Point:Ya,Rectangle:Tl,Matrix:Mt,hasHotfix:kc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Po(Q)},set:function(k){Rf(Q,k)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ll(Q)},set:function(k){Tf(Q,k)},enumerable:!0,configurable:!0}),jc.call(m,Ke),qt="F1",Nf(i,n),Nn.publish("initialized"),m}rm.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},rm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rm.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},rm.prototype.processOwnerPassword=function(e,t){return q3(H3(t).substr(0,5),e)},rm.prototype.encryptor=function(e,t){var n=H3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return q3(n,r)}},ux.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Yn(e)!==Yn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Kt.API={events:[]},Kt.version="3.0.1";var Ur=Kt.API,y_=1,Zh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(e){return e.toFixed(2)},jd=function(e){return e.toFixed(5)};Ur.__acroform__={};var pa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},r8=function(e){return e*y_},Kl=function(e){var t=new ND,n=kt.internal.getHeight(e)||0,r=kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(un(r)),Number(un(n))],t},Cue=Ur.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Nue=Ur.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},jue=Ur.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Qr=Ur.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jue(e,t-1)},ei=Ur.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Cue(e,t-1)},ti=Ur.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Nue(e,t-1)},Pue=Ur.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(un(c.lowerLeft_X)),Number(un(c.lowerLeft_Y)),Number(un(c.upperRight_X)),Number(un(c.upperRight_Y))]},Aue=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=G3(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+un(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Kl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},G3=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var s=n,a=kt.internal.getHeight(e)||0;a=a<0?-a:a;var o=kt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(F,O,H){if(F+1<i.length){var V=O+" "+i[F+1][0];return E1(V,e,H).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,f,h=E1("3",e,s).height,g=e.multiline?a-s:(a-h)/2,m=g+=2,x=0,y=0,S=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+E1(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",C=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var A=!1;if(i[P].length!==1&&S!==i[P].length-1){if((h+2)*(C+2)+2>a)continue e;_+=i[P][S],A=!0,y=P,P--}else{_=(_+=i[P][S]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var R=parseInt(P),D=c(R,_,s),T=P>=i.length-1;if(D&&!T){_+=" ",S=0;continue}if(D||T){if(T)y=R;else if(e.multiline&&(h+2)*(C+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(C+2)+2>a)continue e;y=R}}for(var M="",U=x;U<=y;U++){var ee=i[U];if(e.multiline){if(U===y){M+=ee[S]+" ",S=(S+1)%ee.length;continue}if(U===x){M+=ee[ee.length-1]+" ";continue}}M+=ee[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=E1(M,e,s).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}t+=un(u)+" "+un(m)+` Td
`,t+="("+Zh(M)+`) Tj
`,t+=-un(u)+` 0 Td
`,m=-(s+2),f=0,x=A?y:y+1,C++,_=""}break}return r.text=t,r.fontSize=s,r},E1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},kue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Eue=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},$ue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Yn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},Rue=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(yl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kue)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");y_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new jD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Eue(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=Pue(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=kt.createDefaultAppearanceStream(o),Yn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Aue(o);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var x=m[a];typeof x=="function"&&(x=x.call(i,o)),h+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,o)),h+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&$ue(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},CD=Ur.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Yn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Zh(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ow=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Zh(r(e))+")"},ic=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ic.prototype.toString=function(){return this.objId+" 0 R"},ic.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ic.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:CD(i,this.objId,this.scope)}):i instanceof ic?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var ND=function(){ic.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};pa(ND,ic);var jD=function(){ic.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Zh(n(e))+")"}},set:function(n){e=n}})};pa(jD,ic);var yl=function e(){ic.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(t,3)},set:function(_){_?this.F=ei(t,3):this.F=ti(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof dx)return;s="FieldObject"+e.FieldNum++}var _=function(C){return C};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Zh(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/y_:u},set:function(_){u=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof dx||this instanceof Ch))return Ow(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bi?g:Ow(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof Bi?_:_.substr(0,1)==="("?Bp(_.substr(1,_.length-2)):Bp(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?Bp(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Bi?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Bi?m:Ow(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Bi?_:_.substr(0,1)==="("?Bp(_.substr(1,_.length-2)):Bp(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?Bp(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Bi?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(_){_=!!_,y=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(_){_?this.Ff=ei(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(_){_?this.Ff=ei(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(_){_?this.Ff=ei(this.Ff,3):this.Ff=ti(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');S=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(S){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};pa(yl,ic);var xm=function(){yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CD(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,u=[];c=a.exec(s);)u.push(c[o]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(n){n?this.Ff=ei(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ei(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(n){n?(this.Ff=ei(this.Ff,20),t.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(n){n?this.Ff=ei(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(n){n?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(n){n?this.Ff=ei(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};pa(xm,yl);var bm=function(){xm.call(this),this.fontName="helvetica",this.combo=!1};pa(bm,xm);var wm=function(){bm.call(this),this.combo=!0};pa(wm,bm);var hy=function(){wm.call(this),this.edit=!0};pa(hy,wm);var Bi=function(){yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(n){n?this.Ff=ei(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(n){n?this.Ff=ei(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(n){n?this.Ff=ei(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(n){n?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Zh(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Yn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};pa(Bi,yl);var py=function(){Bi.call(this),this.pushButton=!0};pa(py,Bi);var Sm=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};pa(Sm,Bi);var dx=function(){var e,t;yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Zh(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Yn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pa(dx,yl),Sm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Sm.prototype.createOption=function(e){var t=new dx;return t.Parent=this,t.optionName=e,this.Kids.push(t),Tue.call(this.scope,t),t};var my=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};pa(my,Bi);var Ch=function(){yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(t){t?this.Ff=ei(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(t){t?this.Ff=ei(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(t){t?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(t){t?this.Ff=ei(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(t){t?this.Ff=ei(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(t){t?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pa(Ch,yl);var gy=function(){Ch.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(e){e?this.Ff=ei(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};pa(gy,Ch);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=G3(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+un(kt.internal.getWidth(e))+" "+un(kt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+un(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Kl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=kt.internal.getHeight(e),a=kt.internal.getWidth(e),o=G3(e,e.caption);return i.push("1 g"),i.push("0 0 "+un(a)+" "+un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+un(a-1)+" "+un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+un(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(kt.internal.getWidth(e))+" "+un(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Circle.YesNormal,t.D[e]=kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Kl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=kt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+jd(kt.internal.getWidth(e)/2)+" "+jd(kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*kt.internal.Bezier_C).toFixed(5)),a=Number((r*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jd(kt.internal.getWidth(e)/2)+" "+jd(kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+jd(kt.internal.getWidth(e)/2)+" "+jd(kt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=[],r=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jd(kt.internal.getWidth(e)/2)+" "+jd(kt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Cross.YesNormal,t.D[e]=kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Kl(e);t.scope=e.scope;var n=[],r=kt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+un(kt.internal.getWidth(e)-2)+" "+un(kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),n.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),n.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),n.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=kt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+un(kt.internal.getWidth(e))+" "+un(kt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+un(kt.internal.getWidth(e)-2)+" "+un(kt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),r.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),r.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),r.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Kl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(kt.internal.getWidth(e))+" "+un(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kt.internal.getWidth(e),n=kt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},kt.internal.getWidth=function(e){var t=0;return Yn(e)==="object"&&(t=r8(e.Rect[2])),t},kt.internal.getHeight=function(e){var t=0;return Yn(e)==="object"&&(t=r8(e.Rect[3])),t};var Tue=Ur.addField=function(e){if(Rue(this,e),!(e instanceof yl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ur.AcroFormChoiceField=xm,Ur.AcroFormListBox=bm,Ur.AcroFormComboBox=wm,Ur.AcroFormEditBox=hy,Ur.AcroFormButton=Bi,Ur.AcroFormPushButton=py,Ur.AcroFormRadioButton=Sm,Ur.AcroFormCheckBox=my,Ur.AcroFormTextField=Ch,Ur.AcroFormPasswordField=gy,Ur.AcroFormAppearance=kt,Ur.AcroForm={ChoiceField:xm,ListBox:bm,ComboBox:wm,EditBox:hy,Button:Bi,PushButton:py,RadioButton:Sm,CheckBox:my,TextField:Ch,PasswordField:gy,Appearance:kt},Kt.AcroForm={ChoiceField:xm,ListBox:bm,ComboBox:wm,EditBox:hy,Button:Bi,PushButton:py,RadioButton:Sm,CheckBox:my,TextField:Ch,PasswordField:gy,Appearance:kt};Kt.AcroForm;function PD(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(F,O){var H,V,ae,J,W,z=t;if((O=O||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(D(F))for(W in n)for(ae=n[W],H=0;H<ae.length;H+=1){for(J=!0,V=0;V<ae[H].length;V+=1)if(ae[H][V]!==void 0&&ae[H][V]!==F[V]){J=!1;break}if(J===!0){z=W;break}}else for(W in n)for(ae=n[W],H=0;H<ae.length;H+=1){for(J=!0,V=0;V<ae[H].length;V+=1)if(ae[H][V]!==void 0&&ae[H][V]!==F.charCodeAt(V)){J=!1;break}if(J===!0){z=W;break}}return z===t&&O!==t&&(z=O),z},i=function F(O){for(var H=this.internal.write,V=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:O.width}),J.push({key:"Height",value:O.height}),O.colorSpace===S.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===S.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var W="",z=0,ne=O.transparency.length;z<ne;z++)W+=O.transparency[z]+" "+O.transparency[z]+" ";J.push({key:"Mask",value:"["+W+"]"})}O.sMask!==void 0&&J.push({key:"SMask",value:O.objectId+1+" 0 R"});var se=O.filter!==void 0?["/"+O.filter]:void 0;if(V({data:O.data,additionalKeyValues:J,alreadyAppliedFilters:se,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var X="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,B={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:X,data:O.sMask};"filter"in O&&(B.filter=O.filter),F.call(this,B)}if(O.colorSpace===S.INDEXED){var Q=this.internal.newObject();V({data:M(new Uint8Array(O.palette)),objectId:Q}),H("endobj")}},s=function(){var F=this.internal.collections.addImage_images;for(var O in F)i.call(this,F[O])},a=function(){var F,O=this.internal.collections.addImage_images,H=this.internal.write;for(var V in O)H("/I"+(F=O[V]).index,F.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var F=this.internal.collections.addImage_images;return o.call(this),F},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(F){return typeof e["process"+F.toUpperCase()]=="function"},h=function(F){return Yn(F)==="object"&&F.nodeType===1},g=function(F,O){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var H=""+F.getAttribute("src");if(H.indexOf("data:image/")===0)return l0(unescape(H).split("base64,").pop());var V=e.loadFile(H,!0);if(V!==void 0)return V}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ae;switch(O){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return l0(F.toDataURL(ae,1).split("base64,").pop())}},m=function(F){var O=this.internal.collections.addImage_images;if(O){for(var H in O)if(F===O[H].alias)return O[H]}},x=function(F,O,H){return F||O||(F=-96,O=-96),F<0&&(F=-1*H.width*72/F/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),F===0&&(F=O*H.width/H.height),O===0&&(O=F*H.height/H.width),[F,O]},y=function(F,O,H,V,ae,J){var W=x.call(this,H,V,ae),z=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,se=c.call(this);if(H=W[0],V=W[1],se[ae.index]=ae,J){J*=Math.PI/180;var X=Math.cos(J),B=Math.sin(J),Q=function(ce){return ce.toFixed(4)},re=[Q(X),Q(B),Q(-1*B),Q(X),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,z(F),ne(O+V),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([z(H),"0","0",z(V),"0","0","cm"].join(" "))):this.internal.write([z(H),"0","0",z(V),z(F),ne(O+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(F){var O,H,V=0;if(typeof F=="string")for(H=F.length,O=0;O<H;O++)V=(V<<5)-V+F.charCodeAt(O),V|=0;else if(D(F))for(H=F.byteLength/2,O=0;O<H;O++)V=(V<<5)-V+F[O],V|=0;return V},P=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var O=!0;return F.length===0&&(O=!1),F.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(O=!1),O},A=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var O=F.indexOf(",");return O<0?null:F.substring(0,O).trim().endsWith("base64")?F.substring(O+1):null},R=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return R()&&F instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(F){return R()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(F){for(var O=F.length,H=new Uint8Array(O),V=0;V<O;V++)H[V]=F.charCodeAt(V);return H},M=e.__addimage__.arrayBufferToBinaryString=function(F){for(var O="",H=D(F)?F:new Uint8Array(F),V=0;V<H.length;V+=8192)O+=String.fromCharCode.apply(null,H.subarray(V,V+8192));return O};e.addImage=function(){var F,O,H,V,ae,J,W,z,ne;if(typeof arguments[1]=="number"?(O=t,H=arguments[1],V=arguments[2],ae=arguments[3],J=arguments[4],W=arguments[5],z=arguments[6],ne=arguments[7]):(O=arguments[1],H=arguments[2],V=arguments[3],ae=arguments[4],J=arguments[5],W=arguments[6],z=arguments[7],ne=arguments[8]),Yn(F=arguments[0])==="object"&&!h(F)&&"imageData"in F){var se=F;F=se.imageData,O=se.format||O||t,H=se.x||H||0,V=se.y||V||0,ae=se.w||se.width||ae,J=se.h||se.height||J,W=se.alias||W,z=se.compression||z,ne=se.rotation||se.angle||ne}var X=this.internal.getFilters();if(z===void 0&&X.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(H)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var B=U.call(this,F,O,W,z);return y.call(this,H,V,ae,J,B,ne),this};var U=function(F,O,H,V){var ae,J,W;if(typeof F=="string"&&r(F)===t){F=unescape(F);var z=ee(F,!1);(z!==""||(z=e.loadFile(F,!0))!==void 0)&&(F=z)}if(h(F)&&(F=g(F,O)),O=r(F,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((W=H)==null||W.length===0)&&(H=function(ne){return typeof ne=="string"||D(ne)?C(ne):D(ne.data)?C(ne.data):null}(F)),(ae=m.call(this,H))||(R()&&(F instanceof Uint8Array||O==="RGBA"||(J=F,F=T(F))),ae=this["process"+O.toUpperCase()](F,u.call(this),H,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:_.NONE}(V),J)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},ee=e.__addimage__.convertBase64ToBinaryString=function(F,O){O=typeof O!="boolean"||O;var H,V="";if(typeof F=="string"){var ae;H=(ae=A(F))!==null&&ae!==void 0?ae:F;try{V=l0(H)}catch(J){if(O)throw P(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(F){var O,H,V="";if(h(F)&&(F=g(F)),typeof F=="string"&&r(F)===t&&((V=ee(F,!1))===""&&(V=e.loadFile(F)||""),F=V),H=r(F),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!R()||F instanceof Uint8Array||(F=T(F)),!(O=this["process"+H.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(Kt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((r=u[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(y.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(_(r.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(_(C))+") >>",y.content=s;var P=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(n,o).length;a=Math.ceil(u*f)}else o=c,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,o,a,s),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Kt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var S=0,_=n,C="",P=0;for(S=0;S<y.length;S+=1)_[y.charCodeAt(S)]!==void 0?(P++,typeof(_=_[y.charCodeAt(S)])=="number"&&(C+=String.fromCharCode(_),_=n,P=0),S===y.length-1&&(_=n,C+=y.charAt(S-(P-1)),S-=P-1,P=0)):(_=n,C+=y.charAt(S-P),S-=P,P=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(y,S,_){return a(y)?s(y)===!1?-1:!u(y)||!a(S)&&!a(_)||!a(_)&&o(S)||o(y)&&!a(S)||o(y)&&c(S)||o(y)&&o(S)?0:f(y)&&a(S)&&!o(S)&&a(_)&&u(_)?3:o(y)||!a(_)?1:2:-1},m=function(y){var S=0,_=0,C=0,P="",A="",R="",D=(y=y||"").split("\\s+"),T=[];for(S=0;S<D.length;S+=1){for(T.push(""),_=0;_<D[S].length;_+=1)P=D[S][_],A=D[S][_-1],R=D[S][_+1],a(P)?(C=g(P,A,R),T[S]+=C!==-1?String.fromCharCode(t[P.charCodeAt(0)][C]):P):T[S]+=P;T[S]=h(T[S])}return T.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(S)){var C=0;for(_=[],C=0;C<S.length;C+=1)Array.isArray(S[C])?_.push([m(S[C][0]),S[C][1],S[C][2]]):_.push([m(S[C])]);y=_}else y=m(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(Kt.API),Kt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Kt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=u.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(P,A){return P.concat(S.splitTextToSize(A,_))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)m<(y=this.getStringUnitWidth(c[C],{font:h})*f)&&(m=y);return m!==0&&(x=c.length),{w:m/=g,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,h,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,x,y,S,_=[],C=[],P=[],A={},R={},D=[],T=[],M=(g=g||{}).autoSize||!1,U=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,F=g.margins||Object.assign({width:this.getPageWidth()},t),O=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=V,this.setFontSize(ee),h==null)C=_=Object.keys(f[0]),P=_.map(function(){return"left"});else if(Array.isArray(h)&&Yn(h[0])==="object")for(_=h.map(function(se){return se.name}),C=h.map(function(se){return se.prompt||se.name||""}),P=h.map(function(se){return se.align||"left"}),m=0;m<h.length;m+=1)R[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(C=_=h,P=_.map(function(){return"left"}));if(M||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<_.length;m+=1){for(A[S=_[m]]=f.map(function(se){return se[S]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=A[S],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)D.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[S]=Math.max.apply(null,D)+O+O,D=[]}if(U){var ae={};for(m=0;m<_.length;m+=1)ae[_[m]]={},ae[_[m]].text=C[m],ae[_[m]].align=P[m];var J=o.call(this,ae,R);T=_.map(function(se){return new s(c,u,R[se],J,ae[se].text,void 0,ae[se].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var W=h.reduce(function(se,X){return se[X.name]=X.align,se},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var z=o.call(this,f[m],R);for(y=0;y<_.length;y+=1){var ne=f[m][_[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:y,data:ne},this),a.call(this,new s(c,u,R[_[y]],z,ne,m+2,W[_[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/g+f+f},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Kt.API);var AD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K3=PD(kD),ED=[100,200,300,400,500,600,700,800,900],Lue=PD(ED);function Y3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return AD[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof K3[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function i8(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Due={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function a8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Oue(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Due,n.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=Y3(t[o])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+a8(s)+"' and default family '"+r+"'.");if(a=function(c,u){if(u[c])return u[c];var f=K3[c],h=f<=K3.normal?-1:1,g=i8(u,kD,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(s.stretch,a),a=function(c,u){if(u[c])return u[c];for(var f=AD[c],h=0;h<f.length;++h)if(u[f[h]])return u[f[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=Lue[c],h=i8(u,ED,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+a8(s)+"'.");return a}function o8(e){return e.trimLeft()}function Iue(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Mue(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $1,l8,c8,Iw=["times"];(function(e){var t,n,r,i,s,a,o,c,u,f=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=B;Object.defineProperty(this,"pdf",{get:function(){return Q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(De){re=!!De}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(De){ce=!!De}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(De){isNaN(De)||(ue=De)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(De){isNaN(De)||(he=De)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(De){var fe;typeof De=="number"?fe=[De,De,De,De]:((fe=new Array(4))[0]=De[0],fe[1]=De.length>=2?De[1]:fe[0],fe[2]=De.length>=3?De[2]:fe[0],fe[3]=De.length>=4?De[3]:fe[1]),u.margin=fe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(De){ge=De}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(De){be=De}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(De){Le=De}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(De){De instanceof f&&(u=De)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(De){u.path=De}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(De){$e=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var fe;fe=g(De),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var fe=g(De);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var qe=null;function Qe(De,fe){if(qe===null){var Dt=function(xt){var Ke=[];return Object.keys(xt).forEach(function(oe){xt[oe].forEach(function(me){var _e=null;switch(me){case"bold":_e={family:oe,weight:"bold"};break;case"italic":_e={family:oe,style:"italic"};break;case"bolditalic":_e={family:oe,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:oe}}_e!==null&&(_e.ref={name:oe,style:me},Ke.push(_e))})}),Ke}(De.getFontList());qe=function(xt){for(var Ke={},oe=0;oe<xt.length;++oe){var me=Y3(xt[oe]),_e=me.family,Be=me.stretch,We=me.style,Ie=me.weight;Ke[_e]=Ke[_e]||{},Ke[_e][Be]=Ke[_e][Be]||{},Ke[_e][Be][We]=Ke[_e][Be][We]||{},Ke[_e][Be][We][Ie]=me}return Ke}(Dt.concat(fe))}return qe}var yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(De){qe=null,yt=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var fe;if(this.ctx.font=De,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Dt=fe[1];fe[2];var xt=fe[3],Ke=fe[4];fe[5];var oe=fe[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(me==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var _e=function(Pt){var qt,st,Ir=[],fn=Pt.trim();if(fn==="")return Iw;if(fn in s8)return[s8[fn]];for(;fn!=="";){switch(st=null,qt=(fn=o8(fn)).charAt(0)){case'"':case"'":st=Iue(fn.substring(1),qt);break;default:st=Mue(fn)}if(st===null||(Ir.push(st[0]),(fn=o8(st[1]))!==""&&fn.charAt(0)!==","))return Iw;fn=fn.replace(/^,/,"")}return Ir}(oe);if(this.fontFaces){var Be=Oue(Qe(this.pdf,this.fontFaces),_e.map(function(Pt){return{family:Pt,stretch:"normal",weight:xt,style:Dt}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var We="";(xt==="bold"||parseInt(xt,10)>=700||Dt==="bold")&&(We="bold"),Dt==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var Ie="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<_e.length;St++){if(this.pdf.internal.getFont(_e[St],We,{noFallback:!0,disableWarning:!0})!==void 0){Ie=_e[St];break}if(We==="bolditalic"&&this.pdf.internal.getFont(_e[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ie=_e[St],We="bold";else if(this.pdf.internal.getFont(_e[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ie=_e[St],We="normal";break}}if(Ie===""){for(var $t=0;$t<_e.length;$t++)if(et[_e[$t]]){Ie=et[_e[$t]];break}}Ie=Ie===""?"Times":Ie,this.pdf.setFont(Ie,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,Q){if(isNaN(B)||isNaN(Q))throw ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(B,Q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(B,Q)},h.prototype.closePath=function(){var B=new a(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Yn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){B=new a(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.lineTo=function(B,Q){if(isNaN(B)||isNaN(Q))throw ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(B,Q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,Q,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(B)||isNaN(Q))throw ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new a(re,ce)),he=this.ctx.transform.applyToPoint(new a(B,Q));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},h.prototype.bezierCurveTo=function(B,Q,re,ce,ue,he){if(isNaN(ue)||isNaN(he)||isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce))throw ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(ue,he)),be=this.ctx.transform.applyToPoint(new a(B,Q)),Le=this.ctx.transform.applyToPoint(new a(re,ce));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Le.x,y2:Le.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},h.prototype.arc=function(B,Q,re,ce,ue,he){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce)||isNaN(ue))throw ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(B,Q));B=ge.x,Q=ge.y;var be=this.ctx.transform.applyToPoint(new a(0,re)),Le=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(be.x-Le.x,2)+Math.pow(be.y-Le.y,2))}Math.abs(ue-ce)>=2*Math.PI&&(ce=0,ue=2*Math.PI),this.path.push({type:"arc",x:B,y:Q,radius:re,startAngle:ce,endAngle:ue,counterclockwise:he})},h.prototype.arcTo=function(B,Q,re,ce,ue){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,Q,re,ce){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce))throw ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Q),this.lineTo(B+re,Q),this.lineTo(B+re,Q+ce),this.lineTo(B,Q+ce),this.lineTo(B,Q),this.lineTo(B+re,Q),this.lineTo(B,Q)},h.prototype.fillRect=function(B,Q,re,ce){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce))throw ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Q,re,ce),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},h.prototype.strokeRect=function(B,Q,re,ce){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce))throw ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(B,Q,re,ce),this.stroke())},h.prototype.clearRect=function(B,Q,re,ce){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce))throw ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Q,re,ce))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(B){var Q,re,ce,ue;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Q=0,re=0,ce=0,ue=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(he!==null)Q=parseInt(he[1]),re=parseInt(he[2]),ce=parseInt(he[3]),ue=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Q=parseInt(he[1]),re=parseInt(he[2]),ce=parseInt(he[3]),ue=parseFloat(he[4]);else{if(ue=1,typeof B=="string"&&B.charAt(0)!=="#"){var ge=new wD(B);B=ge.ok?ge.toHex():"#000000"}B.length===4?(Q=B.substring(1,2),Q+=Q,re=B.substring(2,3),re+=re,ce=B.substring(3,4),ce+=ce):(Q=B.substring(1,3),re=B.substring(3,5),ce=B.substring(5,7)),Q=parseInt(Q,16),re=parseInt(re,16),ce=parseInt(ce,16)}}return{r:Q,g:re,b:ce,a:ue,style:B}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,Q,re,ce){if(isNaN(Q)||isNaN(re)||typeof B!="string")throw ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!m.call(this)){var ue=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;O.call(this,{text:B,x:Q,y:re,scale:he,angle:ue,align:this.textAlign,maxWidth:ce})}},h.prototype.strokeText=function(B,Q,re,ce){if(isNaN(Q)||isNaN(re)||typeof B!="string")throw ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ce=isNaN(ce)?void 0:ce;var ue=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;O.call(this,{text:B,x:Q,y:re,scale:he,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ce})}},h.prototype.measureText=function(B){if(typeof B!="string")throw ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,re=this.pdf.internal.scaleFactor,ce=Q.internal.getFontSize(),ue=Q.getStringUnitWidth(B)*ce/Q.internal.scaleFactor,he=function(ge){var be=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new he({width:ue*=Math.round(96*re/72*1e4)/1e4})},h.prototype.scale=function(B,Q){if(isNaN(B)||isNaN(Q))throw ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(B,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.rotate=function(B){if(isNaN(B))throw ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(B,Q){if(isNaN(B)||isNaN(Q))throw ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,B,Q);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.transform=function(B,Q,re,ce,ue,he){if(isNaN(B)||isNaN(Q)||isNaN(re)||isNaN(ce)||isNaN(ue)||isNaN(he))throw ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(B,Q,re,ce,ue,he);this.ctx.transform=this.ctx.transform.multiply(ge)},h.prototype.setTransform=function(B,Q,re,ce,ue,he){B=isNaN(B)?1:B,Q=isNaN(Q)?0:Q,re=isNaN(re)?0:re,ce=isNaN(ce)?1:ce,ue=isNaN(ue)?0:ue,he=isNaN(he)?0:he,this.ctx.transform=new c(B,Q,re,ce,ue,he)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,Q,re,ce,ue,he,ge,be,Le){var $e=this.pdf.getImageProperties(B),qe=1,Qe=1,yt=1,De=1;ce!==void 0&&be!==void 0&&(yt=be/ce,De=Le/ue,qe=$e.width/ce*be/ce,Qe=$e.height/ue*Le/ue),he===void 0&&(he=Q,ge=re,Q=0,re=0),ce!==void 0&&be===void 0&&(be=ce,Le=ue),ce===void 0&&be===void 0&&(be=$e.width,Le=$e.height);for(var fe,Dt=this.ctx.transform.decompose(),xt=z(Dt.rotate.shx),Ke=new c,oe=(Ke=(Ke=(Ke=Ke.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new o(he-Q*yt,ge-re*De,ce*qe,ue*Qe)),me=S.call(this,oe),_e=[],Be=0;Be<me.length;Be+=1)_e.indexOf(me[Be])===-1&&_e.push(me[Be]);if(P(_e),this.autoPaging)for(var We=_e[0],Ie=_e[_e.length-1],et=We;et<Ie+1;et++){this.pdf.setPage(et);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=et===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=et===1?0:Pt+(et-2)*qt;if(this.ctx.clip_path.length!==0){var Ir=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(fe,this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Ir}var fn=JSON.parse(JSON.stringify(oe));fn=C([fn],this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset)[0];var oi=(et>We||et<Ie)&&y.call(this);oi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,qt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,xt),oi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,xt)};var S=function(B,Q,re){var ce=[];Q=Q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ce.push(Math.floor((B.y+ue)/re)+1);break;case"arc":ce.push(Math.floor((B.y+ue-B.radius)/re)+1),ce.push(Math.floor((B.y+ue+B.radius)/re)+1);break;case"qct":var he=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ce.push(Math.floor((he.y+ue)/re)+1),ce.push(Math.floor((he.y+he.h+ue)/re)+1);break;case"bct":var ge=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ce.push(Math.floor((ge.y+ue)/re)+1),ce.push(Math.floor((ge.y+ge.h+ue)/re)+1);break;case"rect":ce.push(Math.floor((B.y+ue)/re)+1),ce.push(Math.floor((B.y+B.h+ue)/re)+1)}for(var be=0;be<ce.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ce[be];)_.call(this);return ce},_=function(){var B=this.fillStyle,Q=this.strokeStyle,re=this.font,ce=this.lineCap,ue=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Q,this.font=re,this.lineCap=ce,this.lineWidth=ue,this.lineJoin=he},C=function(B,Q,re){for(var ce=0;ce<B.length;ce++)switch(B[ce].type){case"bct":B[ce].x2+=Q,B[ce].y2+=re;case"qct":B[ce].x1+=Q,B[ce].y1+=re;case"mt":case"lt":case"arc":default:B[ce].x+=Q,B[ce].y+=re}return B},P=function(B){return B.sort(function(Q,re){return Q-re})},A=function(B,Q){for(var re,ce,ue=this.fillStyle,he=this.strokeStyle,ge=this.lineCap,be=this.lineWidth,Le=Math.abs(be*this.ctx.transform.scaleX),$e=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),yt=[],De=0;De<Qe.length;De++)if(Qe[De].x!==void 0)for(var fe=S.call(this,Qe[De]),Dt=0;Dt<fe.length;Dt+=1)yt.indexOf(fe[Dt])===-1&&yt.push(fe[Dt]);for(var xt=0;xt<yt.length;xt++)for(;this.pdf.internal.getNumberOfPages()<yt[xt];)_.call(this);if(P(yt),this.autoPaging)for(var Ke=yt[0],oe=yt[yt.length-1],me=Ke;me<oe+1;me++){this.pdf.setPage(me),this.fillStyle=ue,this.strokeStyle=he,this.lineCap=ge,this.lineWidth=Le,this.lineJoin=$e;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=me===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=me===1?0:We+(me-2)*Ie;if(this.ctx.clip_path.length!==0){var St=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-et+Be+this.ctx.prevPageLastElemOffset),R.call(this,B,!0),this.path=St}if(ce=JSON.parse(JSON.stringify(qe)),this.path=C(ce,this.posX+this.margin[3],-et+Be+this.ctx.prevPageLastElemOffset),Q===!1||me===0){var $t=(me>Ke||me<oe)&&y.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Ie,null).clip().discardPath()),R.call(this,B,Q),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=Le,R.call(this,B,Q),this.lineWidth=be;this.path=qe},R=function(B,Q){if((B!=="stroke"||Q||!x.call(this))&&(B==="stroke"||Q||!m.call(this))){for(var re,ce,ue=[],he=this.path,ge=0;ge<he.length;ge++){var be=he[ge];switch(be.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:be,deltas:[],abs:[]});break;case"lt":var Le=ue.length;if(he[ge-1]&&!isNaN(he[ge-1].x)&&(re=[be.x-he[ge-1].x,be.y-he[ge-1].y],Le>0)){for(;Le>=0;Le--)if(ue[Le-1].close!==!0&&ue[Le-1].begin!==!0){ue[Le-1].deltas.push(re),ue[Le-1].abs.push(be);break}}break;case"bct":re=[be.x1-he[ge-1].x,be.y1-he[ge-1].y,be.x2-he[ge-1].x,be.y2-he[ge-1].y,be.x-he[ge-1].x,be.y-he[ge-1].y],ue[ue.length-1].deltas.push(re);break;case"qct":var $e=he[ge-1].x+2/3*(be.x1-he[ge-1].x),qe=he[ge-1].y+2/3*(be.y1-he[ge-1].y),Qe=be.x+2/3*(be.x1-be.x),yt=be.y+2/3*(be.y1-be.y),De=be.x,fe=be.y;re=[$e-he[ge-1].x,qe-he[ge-1].y,Qe-he[ge-1].x,yt-he[ge-1].y,De-he[ge-1].x,fe-he[ge-1].y],ue[ue.length-1].deltas.push(re);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(be)}}ce=Q?null:B==="stroke"?"stroke":"fill";for(var Dt=!1,xt=0;xt<ue.length;xt++)if(ue[xt].arc)for(var Ke=ue[xt].abs,oe=0;oe<Ke.length;oe++){var me=Ke[oe];me.type==="arc"?M.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,Q,!Dt):H.call(this,me.x,me.y),Dt=!0}else if(ue[xt].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(ue[xt].begin!==!0){var _e=ue[xt].start.x,Be=ue[xt].start.y;V.call(this,ue[xt].deltas,_e,Be),Dt=!0}ce&&U.call(this,ce),Q&&ee.call(this)}},D=function(B){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-re;case"top":return B+Q-re;case"hanging":return B+Q-2*re;case"middle":return B+Q/2-re;case"ideographic":return B;case"alphabetic":default:return B}},T=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Q,re){this.colorStops.push([Q,re])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(B,Q,re,ce,ue,he,ge,be,Le){for(var $e=J.call(this,re,ce,ue,he),qe=0;qe<$e.length;qe++){var Qe=$e[qe];qe===0&&(Le?F.call(this,Qe.x1+B,Qe.y1+Q):H.call(this,Qe.x1+B,Qe.y1+Q)),ae.call(this,B,Q,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}be?ee.call(this):U.call(this,ge)},U=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(B,Q){this.pdf.internal.out(n(B)+" "+r(Q)+" m")},O=function(B){var Q;switch(B.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var re=this.pdf.getTextDimensions(B.text),ce=D.call(this,B.y),ue=T.call(this,ce)-re.h,he=this.ctx.transform.applyToPoint(new a(B.x,ce)),ge=this.ctx.transform.decompose(),be=new c;be=(be=(be=be.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Le,$e,qe,Qe=this.ctx.transform.applyToRectangle(new o(B.x,ce,re.w,re.h)),yt=be.applyToRectangle(new o(B.x,ue,re.w,re.h)),De=S.call(this,yt),fe=[],Dt=0;Dt<De.length;Dt+=1)fe.indexOf(De[Dt])===-1&&fe.push(De[Dt]);if(P(fe),this.autoPaging)for(var xt=fe[0],Ke=fe[fe.length-1],oe=xt;oe<Ke+1;oe++){this.pdf.setPage(oe);var me=oe===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],We=Be-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],et=Ie-this.margin[3],St=oe===1?0:_e+(oe-2)*We;if(this.ctx.clip_path.length!==0){var $t=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Le,this.posX+this.margin[3],-1*St+me),R.call(this,"fill",!0),this.path=$t}var Pt=C([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-St+me+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*B.scale),qe=this.lineWidth,this.lineWidth=qe*B.scale);var qt=this.autoPaging!=="text";if(qt||Pt.y+Pt.h<=Be){if(qt||Pt.y>=me&&Pt.x<=Ie){var st=qt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ie-Pt.x)[0],Ir=C([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-St+me+this.ctx.prevPageLastElemOffset)[0],fn=qt&&(oe>xt||oe<Ke)&&y.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,We,null).clip().discardPath()),this.pdf.text(st,Ir.x,Ir.y,{angle:B.angle,align:Q,renderingMode:B.renderingMode}),fn&&this.pdf.restoreGraphicsState()}}else Pt.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Pt.y);B.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=qe)}else B.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*B.scale),qe=this.lineWidth,this.lineWidth=qe*B.scale),this.pdf.text(B.text,he.x+this.posX,he.y+this.posY,{angle:B.angle,align:Q,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=qe)},H=function(B,Q,re,ce){re=re||0,ce=ce||0,this.pdf.internal.out(n(B+re)+" "+r(Q+ce)+" l")},V=function(B,Q,re){return this.pdf.lines(B,Q,re,null,null)},ae=function(B,Q,re,ce,ue,he,ge,be){this.pdf.internal.out([t(i(re+B)),t(s(ce+Q)),t(i(ue+B)),t(s(he+Q)),t(i(ge+B)),t(s(be+Q)),"c"].join(" "))},J=function(B,Q,re,ce){for(var ue=2*Math.PI,he=Math.PI/2;Q>re;)Q-=ue;var ge=Math.abs(re-Q);ge<ue&&ce&&(ge=ue-ge);for(var be=[],Le=ce?-1:1,$e=Q;ge>1e-5;){var qe=$e+Le*Math.min(ge,he);be.push(W.call(this,B,$e,qe)),ge-=Math.abs(qe-$e),$e=qe}return be},W=function(B,Q,re){var ce=(re-Q)/2,ue=B*Math.cos(ce),he=B*Math.sin(ce),ge=ue,be=-he,Le=ge*ge+be*be,$e=Le+ge*ue+be*he,qe=4/3*(Math.sqrt(2*Le*$e)-$e)/(ge*he-be*ue),Qe=ge-qe*be,yt=be+qe*ge,De=Qe,fe=-yt,Dt=ce+Q,xt=Math.cos(Dt),Ke=Math.sin(Dt);return{x1:B*Math.cos(Q),y1:B*Math.sin(Q),x2:Qe*xt-yt*Ke,y2:Qe*Ke+yt*xt,x3:De*xt-fe*Ke,y3:De*Ke+fe*xt,x4:B*Math.cos(re),y4:B*Math.sin(re)}},z=function(B){return 180*B/Math.PI},ne=function(B,Q,re,ce,ue,he){var ge=B+.5*(re-B),be=Q+.5*(ce-Q),Le=ue+.5*(re-ue),$e=he+.5*(ce-he),qe=Math.min(B,ue,ge,Le),Qe=Math.max(B,ue,ge,Le),yt=Math.min(Q,he,be,$e),De=Math.max(Q,he,be,$e);return new o(qe,yt,Qe-qe,De-yt)},se=function(B,Q,re,ce,ue,he,ge,be){var Le,$e,qe,Qe,yt,De,fe,Dt,xt,Ke,oe,me,_e,Be,We=re-B,Ie=ce-Q,et=ue-re,St=he-ce,$t=ge-ue,Pt=be-he;for($e=0;$e<41;$e++)xt=(fe=(qe=B+(Le=$e/40)*We)+Le*((yt=re+Le*et)-qe))+Le*(yt+Le*(ue+Le*$t-yt)-fe),Ke=(Dt=(Qe=Q+Le*Ie)+Le*((De=ce+Le*St)-Qe))+Le*(De+Le*(he+Le*Pt-De)-Dt),$e==0?(oe=xt,me=Ke,_e=xt,Be=Ke):(oe=Math.min(oe,xt),me=Math.min(me,Ke),_e=Math.max(_e,xt),Be=Math.max(Be,Ke));return new o(Math.round(oe),Math.round(me),Math.round(_e-oe),Math.round(Be-me))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Q,re=(B=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Kt.API),function(e){var t=function(s){var a,o,c,u,f,h,g,m,x,y;for(o=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)%85,o.push(h+33,g+33,m+33,x+33,y+33)):o.push(122);return function(S,_){for(var C=_;C>0;C--)S.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,c,u,f,h=String,g="length",m=255,x="charCodeAt",y="slice",S="replace";for(s[y](-2),s=s[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],u=0,f=(s+=a="uuuuu"[y](s[g]%5||5))[g];f>u;u+=5)o=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(_,C){for(var P=C;P>0;P--)_.pop()}(c,a[g]),h.fromCharCode.apply(h,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=U3(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,a){var o=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Kt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,u,f){var h=new XMLHttpRequest,g=0,m=function(x){var y=x.length,S=[],_=String.fromCharCode;for(g=0;g<y;g+=1)S.push(_(255&x.charCodeAt(g)));return S.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(m(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,s,a)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(Kt.API),function(e){function t(){return(Zt.html2canvas?Promise.resolve(Zt.html2canvas):of(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Zt.DOMPurify?Promise.resolve(Zt.DOMPurify):of(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Yn(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var c=document.createElement(a);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(c(g,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],x=m.src.find(function(y){return y.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,u){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(u,a,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Kt.getPageSize=function(a,o,c){if(Yn(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var m,x=0,y=0;if(g.hasOwnProperty(h))x=g[h][1]/f,y=g[h][0]/f;else try{x=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>x&&(m=y,y=x,x=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:o,k:f,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Y3):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(Kt.API),Kt.API.addJS=function(e){return c8=e,this.internal.events.subscribe("postPutResources",function(){$1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$1!==void 0&&l8!==void 0&&this.internal.out("/Names <</JavaScript "+$1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var h=n.internal.newObject();f.push(h);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Kt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,o){var c,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var g,m=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,y={width:0,height:0,numcomponents:1},S=4;S<x;S+=2){if(S+=m,t.indexOf(h.charCodeAt(S+1))!==-1){g=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),y={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:g,numcomponents:h.charCodeAt(S+9)};break}m=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(Kt.API);var Vp,R1,u8,d8,f8,Fue=function(){var e,t,n;function r(s){var a,o,c,u,f,h,g,m,x,y,S,_,C,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),x=(function(){var A,R;for(R=[],A=0;A<4;++A)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*f/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(S=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,S.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,S.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,g,m,x){var y,S,_,C,P,A,R,D,T,M,U,ee,F,O,H,V,ae,J,W,z,ne,se=Math.ceil((u.width-h)/m),X=Math.ceil((u.height-g)/x),B=u.width==se&&u.height==X;for(O=a*se,ee=B?o:new Uint8Array(O*X),A=s.length,F=0,S=0;F<X&&c<A;){switch(s[c++]){case 0:for(C=ae=0;ae<O;C=ae+=1)ee[S++]=s[c++];break;case 1:for(C=J=0;J<O;C=J+=1)y=s[c++],P=C<a?0:ee[S-a],ee[S++]=(y+P)%256;break;case 2:for(C=W=0;W<O;C=W+=1)y=s[c++],_=(C-C%a)/a,H=F&&ee[(F-1)*O+_*a+C%a],ee[S++]=(H+y)%256;break;case 3:for(C=z=0;z<O;C=z+=1)y=s[c++],_=(C-C%a)/a,P=C<a?0:ee[S-a],H=F&&ee[(F-1)*O+_*a+C%a],ee[S++]=(y+Math.floor((P+H)/2))%256;break;case 4:for(C=ne=0;ne<O;C=ne+=1)y=s[c++],_=(C-C%a)/a,P=C<a?0:ee[S-a],F===0?H=V=0:(H=ee[(F-1)*O+_*a+C%a],V=_&&ee[(F-1)*O+(_-1)*a+C%a]),R=P+H-V,D=Math.abs(R-P),M=Math.abs(R-H),U=Math.abs(R-V),T=D<=M&&D<=U?P:M<=U?H:V,ee[S++]=(y+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!B){var Q=((g+F*x)*u.width+h)*a,re=F*O;for(C=0;C<se;C+=1){for(var ce=0;ce<a;ce+=1)o[Q++]=ee[re++];Q+=(m-1)*a}}F++}}return s=vue(s),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,c,u,f,h,g,m;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),c=0,s=0,a=h=0,g=o.length;h<g;a=h+=3)u[c++]=o[a],u[c++]=o[a+1],u[c++]=o[a+2],u[c++]=(m=f[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,a){var o,c,u,f,h,g,m,x,y,S,_;if(c=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,o=!0),x=(u=s.data||s).length,h=y||a,f=g=0,c===1)for(;f<x;)m=y?4*a[f/4]:g,S=h[m++],u[f++]=S,u[f++]=S,u[f++]=S,u[f++]=o?h[m++]:255,g=m;else for(;f<x;)m=y?4*a[f/4]:g,u[f++]=h[m++],u[f++]=h[m++],u[f++]=h[m++],u[f++]=o?h[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Zt)==="[object Window]"){try{t=Zt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,c,u,f,h,g,m;if(this.animation){for(m=[],o=f=0,h=(g=this.animation.frames).length;f<h;o=++f)a=g[o],c=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,m.push(a.image=e(c));return m}},r.prototype.renderFrame=function(s,a){var o,c,u;return o=(c=this.animation.frames)[a],u=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,c,u,f,h,g=this;return o=0,h=this.animation,u=h.numFrames,c=h.frames,f=h.numPlays,(a=function(){var m,x;if(m=o++%u,x=c[m],g.renderFrame(s,m),u>1&&o/u<f)return g.animation._timeout=setTimeout(a,x.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Bue(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var o=null,c=null;s&&(o=t,c=a,t+=3*a);var u=!0,f=[],h=0,g=null,m=0,x=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,g=e[t++],(1&y)==0&&(g=null),m=y>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,A=e[t++],R=A>>6&1,D=1<<(7&A)+1,T=o,M=c,U=!1;A>>7&&(U=!0,T=t,M=D,t+=3*D);var ee=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}f.push({x:S,y:_,width:C,height:P,has_local_palette:U,palette_offset:T,palette_size:M,data_offset:ee,data_length:t-ee,transparent_index:g,interlaced:!!R,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,H){var V=this.frameInfo(O),ae=V.width*V.height,J=new Uint8Array(ae);h8(e,V.data_offset,J,ae);var W=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var ne=V.width,se=n-ne,X=ne,B=4*(V.y*n+V.x),Q=4*((V.y+V.height)*n+V.x),re=B,ce=4*se;V.interlaced===!0&&(ce+=4*n*7);for(var ue=8,he=0,ge=J.length;he<ge;++he){var be=J[he];if(X===0&&(X=ne,(re+=ce)>=Q&&(ce=4*se+4*n*(ue-1),re=B+(ne+se)*(ue<<1),ue>>=1)),be===z)re+=4;else{var Le=e[W+3*be],$e=e[W+3*be+1],qe=e[W+3*be+2];H[re++]=qe,H[re++]=$e,H[re++]=Le,H[re++]=255}--X}},this.decodeAndBlitFrameRGBA=function(O,H){var V=this.frameInfo(O),ae=V.width*V.height,J=new Uint8Array(ae);h8(e,V.data_offset,J,ae);var W=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var ne=V.width,se=n-ne,X=ne,B=4*(V.y*n+V.x),Q=4*((V.y+V.height)*n+V.x),re=B,ce=4*se;V.interlaced===!0&&(ce+=4*n*7);for(var ue=8,he=0,ge=J.length;he<ge;++he){var be=J[he];if(X===0&&(X=ne,(re+=ce)>=Q&&(ce=4*se+4*n*(ue-1),re=B+(ne+se)*(ue<<1),ue>>=1)),be===z)re+=4;else{var Le=e[W+3*be],$e=e[W+3*be+1],qe=e[W+3*be+2];H[re++]=Le,H[re++]=$e,H[re++]=qe,H[re++]=255}--X}}}function h8(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,c=i+1,u=(1<<c)-1,f=0,h=0,g=0,m=e[t++],x=new Int32Array(4096),y=null;;){for(;f<16&&m!==0;)h|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<c)break;var S=h&u;if(h>>=c,f-=c,S!==s){if(S===a)break;for(var _=S<o?S:y,C=0,P=_;P>s;)P=x[P]>>8,++C;var A=P;if(g+C+(_!==S?1:0)>r)return void ir.log("Warning, gif stream longer than expected.");n[g++]=A;var R=g+=C;for(_!==S&&(n[g++]=A),P=_;C--;)P=x[P],n[--R]=255&P,P>>=8;y!==null&&o<4096&&(x[o++]=y<<8|A,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=S}else o=a+1,u=(1<<(c=i+1))-1,y=null}return g!==r&&ir.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mw(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),m=new Array(64),x=new Array(64),y=[],S=0,_=7,C=new Array(64),P=new Array(64),A=new Array(64),R=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(B,Q){for(var re=0,ce=0,ue=new Array,he=1;he<=16;he++){for(var ge=1;ge<=B[he];ge++)ue[Q[ce]]=[],ue[Q[ce]][0]=re,ue[Q[ce]][1]=he,ce++,re++;re*=2}return ue}function W(B){for(var Q=B[0],re=B[1]-1;re>=0;)Q&1<<re&&(S|=1<<_),re--,--_<0&&(S==255?(z(255),z(0)):z(S),_=7,S=0)}function z(B){y.push(B)}function ne(B){z(B>>8&255),z(255&B)}function se(B,Q,re,ce,ue){for(var he,ge=ue[0],be=ue[240],Le=function(Ke,oe){var me,_e,Be,We,Ie,et,St,$t,Pt,qt,st=0;for(Pt=0;Pt<8;++Pt){me=Ke[st],_e=Ke[st+1],Be=Ke[st+2],We=Ke[st+3],Ie=Ke[st+4],et=Ke[st+5],St=Ke[st+6];var Ir=me+($t=Ke[st+7]),fn=me-$t,oi=_e+St,Wt=_e-St,rn=Be+et,Rn=Be-et,Gt=We+Ie,or=We-Ie,on=Ir+Gt,pr=Ir-Gt,qr=oi+rn,Xn=oi-rn;Ke[st]=on+qr,Ke[st+4]=on-qr;var Vt=.707106781*(Xn+pr);Ke[st+2]=pr+Vt,Ke[st+6]=pr-Vt;var Nn=.382683433*((on=or+Rn)-(Xn=Wt+fn)),Sl=.5411961*on+Nn,li=1.306562965*Xn+Nn,Ws=.707106781*(qr=Rn+Wt),ma=fn+Ws,Mt=fn-Ws;Ke[st+5]=Mt+Sl,Ke[st+3]=Mt-Sl,Ke[st+1]=ma+li,Ke[st+7]=ma-li,st+=8}for(st=0,Pt=0;Pt<8;++Pt){me=Ke[st],_e=Ke[st+8],Be=Ke[st+16],We=Ke[st+24],Ie=Ke[st+32],et=Ke[st+40],St=Ke[st+48];var Ss=me+($t=Ke[st+56]),es=me-$t,ts=_e+St,mr=_e-St,gr=Be+et,Ai=Be-et,_l=We+Ie,No=We-Ie,ga=Ss+_l,va=Ss-_l,yi=ts+gr,ya=ts-gr;Ke[st]=ga+yi,Ke[st+32]=ga-yi;var _s=.707106781*(ya+va);Ke[st+16]=va+_s,Ke[st+48]=va-_s;var Wa=.382683433*((ga=No+Ai)-(ya=mr+es)),Cl=.5411961*ga+Wa,wc=1.306562965*ya+Wa,Sc=.707106781*(yi=Ai+mr),_c=es+Sc,Ru=es-Sc;Ke[st+40]=Ru+Cl,Ke[st+24]=Ru-Cl,Ke[st+8]=_c+wc,Ke[st+56]=_c-wc,st++}for(Pt=0;Pt<64;++Pt)qt=Ke[Pt]*oe[Pt],m[Pt]=qt>0?qt+.5|0:qt-.5|0;return m}(B,Q),$e=0;$e<64;++$e)x[T[$e]]=Le[$e];var qe=x[0]-re;re=x[0],qe==0?W(ce[0]):(W(ce[g[he=32767+qe]]),W(h[he]));for(var Qe=63;Qe>0&&x[Qe]==0;)Qe--;if(Qe==0)return W(ge),re;for(var yt,De=1;De<=Qe;){for(var fe=De;x[De]==0&&De<=Qe;)++De;var Dt=De-fe;if(Dt>=16){yt=Dt>>4;for(var xt=1;xt<=yt;++xt)W(be);Dt&=15}he=32767+x[De],W(ue[(Dt<<4)+g[he]]),W(h[he]),De++}return Qe!=63&&W(ge),re}function X(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(Q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ue=a((re[ce]*Q+50)/100);ue=Math.min(Math.max(ue,1),255),o[T[ce]]=ue}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var be=a((he[ge]*Q+50)/100);be=Math.min(Math.max(be,1),255),c[T[ge]]=be}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,qe=0;qe<8;qe++)for(var Qe=0;Qe<8;Qe++)u[$e]=1/(o[T[$e]]*Le[qe]*Le[Qe]*8),f[$e]=1/(c[T[$e]]*Le[qe]*Le[Qe]*8),$e++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,Q){Q&&X(Q),y=new Array,S=0,_=7,ne(65496),ne(65504),ne(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ne(1),ne(1),z(0),z(0),function(){ne(65499),ne(132),z(0);for(var _e=0;_e<64;_e++)z(o[_e]);z(1);for(var Be=0;Be<64;Be++)z(c[Be])}(),function(_e,Be){ne(65472),ne(17),z(8),ne(Be),ne(_e),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(B.width,B.height),function(){ne(65476),ne(418),z(0);for(var _e=0;_e<16;_e++)z(M[_e+1]);for(var Be=0;Be<=11;Be++)z(U[Be]);z(16);for(var We=0;We<16;We++)z(ee[We+1]);for(var Ie=0;Ie<=161;Ie++)z(F[Ie]);z(1);for(var et=0;et<16;et++)z(O[et+1]);for(var St=0;St<=11;St++)z(H[St]);z(17);for(var $t=0;$t<16;$t++)z(V[$t+1]);for(var Pt=0;Pt<=161;Pt++)z(ae[Pt])}(),ne(65498),ne(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var re=0,ce=0,ue=0;S=0,_=7,this.encode.displayName="_encode_";for(var he,ge,be,Le,$e,qe,Qe,yt,De,fe=B.data,Dt=B.width,xt=B.height,Ke=4*Dt,oe=0;oe<xt;){for(he=0;he<Ke;){for($e=Ke*oe+he,Qe=-1,yt=0,De=0;De<64;De++)qe=$e+(yt=De>>3)*Ke+(Qe=4*(7&De)),oe+yt>=xt&&(qe-=Ke*(oe+1+yt-xt)),he+Qe>=Ke&&(qe-=he+Qe-Ke+4),ge=fe[qe++],be=fe[qe++],Le=fe[qe++],C[De]=(D[ge]+D[be+256>>0]+D[Le+512>>0]>>16)-128,P[De]=(D[ge+768>>0]+D[be+1024>>0]+D[Le+1280>>0]>>16)-128,A[De]=(D[ge+1280>>0]+D[be+1536>>0]+D[Le+1792>>0]>>16)-128;re=se(C,u,re,t,r),ce=se(P,f,ce,n,i),ue=se(A,f,ue,n,i),he+=32}oe+=8}if(_>=0){var me=[];me[1]=_+1,me[0]=(1<<_+1)-1,W(me)}return ne(65497),new Uint8Array(y)},e=e||50,function(){for(var B=String.fromCharCode,Q=0;Q<256;Q++)R[Q]=B(Q)}(),t=J(M,U),n=J(O,H),r=J(ee,F),i=J(V,ae),function(){for(var B=1,Q=2,re=1;re<=15;re++){for(var ce=B;ce<Q;ce++)g[32767+ce]=re,h[32767+ce]=[],h[32767+ce][1]=re,h[32767+ce][0]=ce;for(var ue=-(Q-1);ue<=-B;ue++)g[32767+ue]=re,h[32767+ue]=[],h[32767+ue][1]=re,h[32767+ue][0]=Q-1+ue;B<<=1,Q<<=1}}(),function(){for(var B=0;B<256;B++)D[B]=19595*B,D[B+256>>0]=38470*B,D[B+512>>0]=7471*B+32768,D[B+768>>0]=-11059*B,D[B+1024>>0]=-21709*B,D[B+1280>>0]=32768*B+8421375,D[B+1536>>0]=-27439*B,D[B+1792>>0]=-5329*B}(),X(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p8(e){function t(M){if(!M)throw Error("assert :P")}function n(M,U,ee){for(var F=0;4>F;F++)if(M[U+F]!=ee.charCodeAt(F))return!0;return!1}function r(M,U,ee,F,O){for(var H=0;H<O;H++)M[U+H]=ee[F+H]}function i(M,U,ee,F){for(var O=0;O<F;O++)M[U+O]=ee}function s(M){return new Int32Array(M)}function a(M,U){for(var ee=[],F=0;F<M;F++)ee.push(new U);return ee}function o(M,U){var ee=[];return function F(O,H,V){for(var ae=V[H],J=0;J<ae&&(O.push(V.length>H+1?[]:new U),!(V.length<H+1));J++)F(O[J],H+1,V)}(ee,0,M),ee}var c=function(){var M=this;function U(b,j){for(var $=1<<j-1>>>0;b&$;)$>>>=1;return $?(b&$-1)+$:b}function ee(b,j,$,I,q){t(!(I%$));do b[j+(I-=$)]=q;while(0<I)}function F(b,j,$,I,q){if(t(2328>=q),512>=q)var K=s(512);else if((K=s(q))==null)return 0;return function(Z,te,ie,le,ye,Pe){var Ae,Ne,Ge=te,Oe=1<<ie,we=s(16),Se=s(16);for(t(ye!=0),t(le!=null),t(Z!=null),t(0<ie),Ne=0;Ne<ye;++Ne){if(15<le[Ne])return 0;++we[le[Ne]]}if(we[0]==ye)return 0;for(Se[1]=0,Ae=1;15>Ae;++Ae){if(we[Ae]>1<<Ae)return 0;Se[Ae+1]=Se[Ae]+we[Ae]}for(Ne=0;Ne<ye;++Ne)Ae=le[Ne],0<le[Ne]&&(Pe[Se[Ae]++]=Ne);if(Se[15]==1)return(le=new O).g=0,le.value=Pe[0],ee(Z,Ge,1,Oe,le),Oe;var Ve,Fe=-1,He=Oe-1,gt=0,dt=1,Ft=1,ft=1<<ie;for(Ne=0,Ae=1,ye=2;Ae<=ie;++Ae,ye<<=1){if(dt+=Ft<<=1,0>(Ft-=we[Ae]))return 0;for(;0<we[Ae];--we[Ae])(le=new O).g=Ae,le.value=Pe[Ne++],ee(Z,Ge+gt,ye,ft,le),gt=U(gt,Ae)}for(Ae=ie+1,ye=2;15>=Ae;++Ae,ye<<=1){if(dt+=Ft<<=1,0>(Ft-=we[Ae]))return 0;for(;0<we[Ae];--we[Ae]){if(le=new O,(gt&He)!=Fe){for(Ge+=ft,Ve=1<<(Fe=Ae)-ie;15>Fe&&!(0>=(Ve-=we[Fe]));)++Fe,Ve<<=1;Oe+=ft=1<<(Ve=Fe-ie),Z[te+(Fe=gt&He)].g=Ve+ie,Z[te+Fe].value=Ge-te-Fe}le.g=Ae-ie,le.value=Pe[Ne++],ee(Z,Ge+(gt>>ie),ye,ft,le),gt=U(gt,Ae)}}return dt!=2*Se[15]-1?0:Oe}(b,j,$,I,q,K)}function O(){this.value=this.g=0}function H(){this.value=this.g=0}function V(){this.G=a(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Er,H)}function ae(b,j,$,I){t(b!=null),t(j!=null),t(2147483648>I),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=j,b.pa=$,b.Jd=j,b.Yc=$+I,b.Zc=4<=I?$+I-4+1:$,he(b)}function J(b,j){for(var $=0;0<j--;)$|=be(b,128)<<j;return $}function W(b,j){var $=J(b,j);return ge(b)?-$:$}function z(b,j,$,I){var q,K=0;for(t(b!=null),t(j!=null),t(4294967288>I),b.Sb=I,b.Ra=0,b.u=0,b.h=0,4<I&&(I=4),q=0;q<I;++q)K+=j[$+q]<<8*q;b.Ra=K,b.bb=I,b.oa=j,b.pa=$}function ne(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Zu-8>>>0,++b.bb,b.u-=8;re(b)&&(b.h=1,b.u=0)}function se(b,j){if(t(0<=j),!b.h&&j<=Ju){var $=Q(b)&Xu[j];return b.u+=j,ne(b),$}return b.h=1,b.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(b){return b.Ra>>>(b.u&Zu-1)>>>0}function re(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Zu}function ce(b,j){b.u=j,b.h=re(b)}function ue(b){b.u>=Qu&&(t(b.u>=Qu),ne(b))}function he(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ge(b){return J(b,1)}function be(b,j){var $=b.Ca;0>b.b&&he(b);var I=b.b,q=$*j>>>8,K=(b.I>>>I>q)+0;for(K?($-=q,b.I-=q+1<<I>>>0):$=q+1,I=$,q=0;256<=I;)q+=8,I>>=8;return I=7^q+Wi[I],b.b-=I,b.Ca=($<<I)-1,K}function Le(b,j,$){b[j+0]=$>>24&255,b[j+1]=$>>16&255,b[j+2]=$>>8&255,b[j+3]=$>>0&255}function $e(b,j){return b[j+0]<<0|b[j+1]<<8}function qe(b,j){return $e(b,j)|b[j+2]<<16}function Qe(b,j){return $e(b,j)|$e(b,j+2)<<16}function yt(b,j){var $=1<<j;return t(b!=null),t(0<j),b.X=s($),b.X==null?0:(b.Mb=32-j,b.Xa=j,1)}function De(b,j){t(b!=null),t(j!=null),t(b.Xa==j.Xa),r(j.X,0,b.X,0,1<<j.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Dt(b,j,$,I){t($!=null),t(I!=null);var q=$[0],K=I[0];return q==0&&(q=(b*K+j/2)/j),K==0&&(K=(j*q+b/2)/b),0>=q||0>=K?0:($[0]=q,I[0]=K,1)}function xt(b,j){return b+(1<<j)-1>>>j}function Ke(b,j){return((4278255360&b)+(4278255360&j)>>>0&4278255360)+((16711935&b)+(16711935&j)>>>0&16711935)>>>0}function oe(b,j){M[j]=function($,I,q,K,Z,te,ie){var le;for(le=0;le<Z;++le){var ye=M[b](te[ie+le-1],q,K+le);te[ie+le]=Ke($[I+le],ye)}}}function me(){this.ud=this.hd=this.jd=0}function _e(b,j){return((4278124286&(b^j))>>>1)+(b&j)>>>0}function Be(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function We(b,j){return Be(b+(b-j+.5>>1))}function Ie(b,j,$){return Math.abs(j-$)-Math.abs(b-$)}function et(b,j,$,I,q,K,Z){for(I=K[Z-1],$=0;$<q;++$)K[Z+$]=I=Ke(b[j+$],I)}function St(b,j,$,I,q){var K;for(K=0;K<$;++K){var Z=b[j+K],te=Z>>8&255,ie=16711935&(ie=(ie=16711935&Z)+((te<<16)+te));I[q+K]=(4278255360&Z)+ie>>>0}}function $t(b,j){j.jd=b>>0&255,j.hd=b>>8&255,j.ud=b>>16&255}function Pt(b,j,$,I,q,K){var Z;for(Z=0;Z<I;++Z){var te=j[$+Z],ie=te>>>8,le=te,ye=255&(ye=(ye=te>>>16)+((b.jd<<24>>24)*(ie<<24>>24)>>>5));le=255&(le=(le=le+((b.hd<<24>>24)*(ie<<24>>24)>>>5))+((b.ud<<24>>24)*(ye<<24>>24)>>>5)),q[K+Z]=(4278255360&te)+(ye<<16)+le}}function qt(b,j,$,I,q){M[j]=function(K,Z,te,ie,le,ye,Pe,Ae,Ne){for(ie=Pe;ie<Ae;++ie)for(Pe=0;Pe<Ne;++Pe)le[ye++]=q(te[I(K[Z++])])},M[b]=function(K,Z,te,ie,le,ye,Pe){var Ae=8>>K.b,Ne=K.Ea,Ge=K.K[0],Oe=K.w;if(8>Ae)for(K=(1<<K.b)-1,Oe=(1<<Ae)-1;Z<te;++Z){var we,Se=0;for(we=0;we<Ne;++we)we&K||(Se=I(ie[le++])),ye[Pe++]=q(Ge[Se&Oe]),Se>>=Ae}else M["VP8LMapColor"+$](ie,le,Ge,Oe,ye,Pe,Z,te,Ne)}}function st(b,j,$,I,q){for($=j+$;j<$;){var K=b[j++];I[q++]=K>>16&255,I[q++]=K>>8&255,I[q++]=K>>0&255}}function Ir(b,j,$,I,q){for($=j+$;j<$;){var K=b[j++];I[q++]=K>>16&255,I[q++]=K>>8&255,I[q++]=K>>0&255,I[q++]=K>>24&255}}function fn(b,j,$,I,q){for($=j+$;j<$;){var K=(Z=b[j++])>>16&240|Z>>12&15,Z=Z>>0&240|Z>>28&15;I[q++]=K,I[q++]=Z}}function oi(b,j,$,I,q){for($=j+$;j<$;){var K=(Z=b[j++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;I[q++]=K,I[q++]=Z}}function Wt(b,j,$,I,q){for($=j+$;j<$;){var K=b[j++];I[q++]=K>>0&255,I[q++]=K>>8&255,I[q++]=K>>16&255}}function rn(b,j,$,I,q,K){if(K==0)for($=j+$;j<$;)Le(I,((K=b[j++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),q+=32;else r(I,q,b,j,$)}function Rn(b,j){M[j][0]=M[b+"0"],M[j][1]=M[b+"1"],M[j][2]=M[b+"2"],M[j][3]=M[b+"3"],M[j][4]=M[b+"4"],M[j][5]=M[b+"5"],M[j][6]=M[b+"6"],M[j][7]=M[b+"7"],M[j][8]=M[b+"8"],M[j][9]=M[b+"9"],M[j][10]=M[b+"10"],M[j][11]=M[b+"11"],M[j][12]=M[b+"12"],M[j][13]=M[b+"13"],M[j][14]=M[b+"0"],M[j][15]=M[b+"0"]}function Gt(b){return b==sd||b==Uc||b==Bf||b==Vf}function or(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new or,this.f.kb=new on,this.sd=null}function qr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Nn(b,j){var $=b.T,I=j.ba.f.RGBA,q=I.eb,K=I.fb+b.ka*I.A,Z=os[j.ba.S],te=b.y,ie=b.O,le=b.f,ye=b.N,Pe=b.ea,Ae=b.W,Ne=j.cc,Ge=j.dc,Oe=j.Mc,we=j.Nc,Se=b.ka,Ve=b.ka+b.T,Fe=b.U,He=Fe+1>>1;for(Se==0?Z(te,ie,null,null,le,ye,Pe,Ae,le,ye,Pe,Ae,q,K,null,null,Fe):(Z(j.ec,j.fc,te,ie,Ne,Ge,Oe,we,le,ye,Pe,Ae,q,K-I.A,q,K,Fe),++$);Se+2<Ve;Se+=2)Ne=le,Ge=ye,Oe=Pe,we=Ae,ye+=b.Rc,Ae+=b.Rc,K+=2*I.A,Z(te,(ie+=2*b.fa)-b.fa,te,ie,Ne,Ge,Oe,we,le,ye,Pe,Ae,q,K-I.A,q,K,Fe);return ie+=b.fa,b.j+Ve<b.o?(r(j.ec,j.fc,te,ie,Fe),r(j.cc,j.dc,le,ye,He),r(j.Mc,j.Nc,Pe,Ae,He),$--):1&Ve||Z(te,ie,null,null,le,ye,Pe,Ae,le,ye,Pe,Ae,q,K+I.A,null,null,Fe),$}function Sl(b,j,$){var I=b.F,q=[b.J];if(I!=null){var K=b.U,Z=j.ba.S,te=Z==Ff||Z==Bf;j=j.ba.f.RGBA;var ie=[0],le=b.ka;ie[0]=b.T,b.Kb&&(le==0?--ie[0]:(--le,q[0]-=b.width),b.j+b.ka+b.T==b.o&&(ie[0]=b.o-b.j-le));var ye=j.eb;le=j.fb+le*j.A,b=Un(I,q[0],b.width,K,ie,ye,le+(te?0:3),j.A),t($==ie),b&&Gt(Z)&&ss(ye,le,te,K,ie,j.A)}return 0}function li(b){var j=b.ma,$=j.ba.S,I=11>$,q=$==Fl||$==Mf||$==Ff||$==Zn||$==12||Gt($);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Ku(j.Oa,b,q?11:12))return 0;if(q&&Gt($)&&Ye(),b.da)alert("todo:use_scaling");else{if(I){if(j.Ib=Vt,b.Kb){if($=b.U+1>>1,j.memory=s(b.U+2*$),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+b.U,j.Mc=j.cc,j.Nc=j.dc+$,j.Ib=Nn,Ye()}}else alert("todo:EmitYUV");q&&(j.Jb=Sl,I&&je())}if(I&&!bi){for(b=0;256>b;++b)ls[b]=89858*(b-128)+Ca>>Oo,cs[b]=-22014*(b-128)+Ca,cd[b]=-45773*(b-128),Gc[b]=113618*(b-128)+Ca>>Oo;for(b=Wn;b<Gn;++b)j=76283*(b-16)+Ca>>Oo,gp[b-Wn]=js(j,255),Iv[b-Wn]=js(j+8>>4,15);bi=1}return 1}function Ws(b){var j=b.ma,$=b.U,I=b.T;return t(!(1&b.ka)),0>=$||0>=I?0:($=j.Ib(b,j),j.Jb!=null&&j.Jb(b,j,$),j.Dc+=$,1)}function ma(b){b.ma.memory=null}function Mt(b,j,$,I){return se(b,8)!=47?0:(j[0]=se(b,14)+1,$[0]=se(b,14)+1,I[0]=se(b,1),se(b,3)!=0?0:!b.h)}function Ss(b,j){if(4>b)return b+1;var $=b-2>>1;return(2+(1&b)<<$)+se(j,$)+1}function es(b,j){return 120<j?j-120:1<=($=(($=X2[j-1])>>4)*b+(8-(15&$)))?$:1;var $}function ts(b,j,$){var I=Q($),q=b[j+=255&I].g-8;return 0<q&&(ce($,$.u+8),I=Q($),j+=b[j].value,j+=I&(1<<q)-1),ce($,$.u+b[j].g),b[j].value}function mr(b,j,$){return $.g+=b.g,$.value+=b.value<<j>>>0,t(8>=$.g),b.g}function gr(b,j,$){var I=b.xc;return t((j=I==0?0:b.vc[b.md*($>>I)+(j>>I)])<b.Wb),b.Ya[j]}function Ai(b,j,$,I){var q=b.ab,K=b.c*j,Z=b.C;j=Z+j;var te=$,ie=I;for(I=b.Ta,$=b.Ua;0<q--;){var le=b.gc[q],ye=Z,Pe=j,Ae=te,Ne=ie,Ge=(ie=I,te=$,le.Ea);switch(t(ye<Pe),t(Pe<=le.nc),le.hc){case 2:dp(Ae,Ne,(Pe-ye)*Ge,ie,te);break;case 0:var Oe=ye,we=Pe,Se=ie,Ve=te,Fe=(ft=le).Ea;Oe==0&&(Ic(Ae,Ne,null,null,1,Se,Ve),et(Ae,Ne+1,0,0,Fe-1,Se,Ve+1),Ne+=Fe,Ve+=Fe,++Oe);for(var He=1<<ft.b,gt=He-1,dt=xt(Fe,ft.b),Ft=ft.K,ft=ft.w+(Oe>>ft.b)*dt;Oe<we;){var An=Ft,kn=ft,_n=1;for(Ao(Ae,Ne,Se,Ve-Fe,1,Se,Ve);_n<Fe;){var dn=(_n&~gt)+He;dn>Fe&&(dn=Fe),(0,Xa[An[kn++]>>8&15])(Ae,Ne+ +_n,Se,Ve+_n-Fe,dn-_n,Se,Ve+_n),_n=dn}Ne+=Fe,Ve+=Fe,++Oe&gt||(ft+=dt)}Pe!=le.nc&&r(ie,te-Ge,ie,te+(Pe-ye-1)*Ge,Ge);break;case 1:for(Ge=Ae,we=Ne,Fe=(Ae=le.Ea)-(Ve=Ae&~(Se=(Ne=1<<le.b)-1)),Oe=xt(Ae,le.b),He=le.K,le=le.w+(ye>>le.b)*Oe;ye<Pe;){for(gt=He,dt=le,Ft=new me,ft=we+Ve,An=we+Ae;we<ft;)$t(gt[dt++],Ft),Ol(Ft,Ge,we,Ne,ie,te),we+=Ne,te+=Ne;we<An&&($t(gt[dt++],Ft),Ol(Ft,Ge,we,Fe,ie,te),we+=Fe,te+=Fe),++ye&Se||(le+=Oe)}break;case 3:if(Ae==ie&&Ne==te&&0<le.b){for(we=ie,Ae=Ge=te+(Pe-ye)*Ge-(Ve=(Pe-ye)*xt(le.Ea,le.b)),Ne=ie,Se=te,Oe=[],Ve=(Fe=Ve)-1;0<=Ve;--Ve)Oe[Ve]=Ne[Se+Ve];for(Ve=Fe-1;0<=Ve;--Ve)we[Ae+Ve]=Oe[Ve];Hi(le,ye,Pe,ie,Ge,ie,te)}else Hi(le,ye,Pe,Ae,Ne,ie,te)}te=I,ie=$}ie!=$&&r(I,$,te,ie,K)}function _l(b,j){var $=b.V,I=b.Ba+b.c*b.C,q=j-b.C;if(t(j<=b.l.o),t(16>=q),0<q){var K=b.l,Z=b.Ta,te=b.Ua,ie=K.width;if(Ai(b,q,$,I),q=te=[te],t(($=b.C)<(I=j)),t(K.v<K.va),I>K.o&&(I=K.o),$<K.j){var le=K.j-$;$=K.j,q[0]+=le*ie}if($>=I?$=0:(q[0]+=4*K.v,K.ka=$-K.j,K.U=K.va-K.v,K.T=I-$,$=1),$){if(te=te[0],11>($=b.ca).S){var ye=$.f.RGBA,Pe=(I=$.S,q=K.U,K=K.T,le=ye.eb,ye.A),Ae=K;for(ye=ye.fb+b.Ma*ye.A;0<Ae--;){var Ne=Z,Ge=te,Oe=q,we=le,Se=ye;switch(I){case fp:qi(Ne,Ge,Oe,we,Se);break;case Fl:Ei(Ne,Ge,Oe,we,Se);break;case sd:Ei(Ne,Ge,Oe,we,Se),ss(we,Se,0,Oe,1,0);break;case Rv:Eo(Ne,Ge,Oe,we,Se);break;case Mf:rn(Ne,Ge,Oe,we,Se,1);break;case Uc:rn(Ne,Ge,Oe,we,Se,1),ss(we,Se,0,Oe,1,0);break;case Ff:rn(Ne,Ge,Oe,we,Se,0);break;case Bf:rn(Ne,Ge,Oe,we,Se,0),ss(we,Se,1,Oe,1,0);break;case Zn:Il(Ne,Ge,Oe,we,Se);break;case Vf:Il(Ne,Ge,Oe,we,Se),Jn(we,Se,Oe,1,0);break;case hp:ko(Ne,Ge,Oe,we,Se);break;default:t(0)}te+=ie,ye+=Pe}b.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=$.height)}}b.C=j,t(b.C<=b.i)}function No(b){var j;if(0<b.ua)return 0;for(j=0;j<b.Wb;++j){var $=b.Ya[j].G,I=b.Ya[j].H;if(0<$[1][I[1]+0].g||0<$[2][I[2]+0].g||0<$[3][I[3]+0].g)return 0}return 1}function ga(b,j,$,I,q,K){if(b.Z!=0){var Z=b.qd,te=b.rd;for(t(Ri[b.Z]!=null);j<$;++j)Ri[b.Z](Z,te,I,q,I,q,K),Z=I,te=q,q+=K;b.qd=Z,b.rd=te}}function va(b,j){var $=b.l.ma,I=$.Z==0||$.Z==1?b.l.j:b.C;if(I=b.C<I?I:b.C,t(j<=b.l.o),j>I){var q=b.l.width,K=$.ca,Z=$.tb+q*I,te=b.V,ie=b.Ba+b.c*I,le=b.gc;t(b.ab==1),t(le[0].hc==3),Df(le[0],I,j,te,ie,K,Z),ga($,I,j,K,Z,q)}b.C=b.Ma=j}function yi(b,j,$,I,q,K,Z){var te=b.$/I,ie=b.$%I,le=b.m,ye=b.s,Pe=$+b.$,Ae=Pe;q=$+I*q;var Ne=$+I*K,Ge=280+ye.ua,Oe=b.Pb?te:16777216,we=0<ye.ua?ye.Wa:null,Se=ye.wc,Ve=Pe<Ne?gr(ye,ie,te):null;t(b.C<K),t(Ne<=q);var Fe=!1;e:for(;;){for(;Fe||Pe<Ne;){var He=0;if(te>=Oe){var gt=Pe-$;t((Oe=b).Pb),Oe.wd=Oe.m,Oe.xd=gt,0<Oe.s.ua&&De(Oe.s.Wa,Oe.s.vb),Oe=te+mp}if(ie&Se||(Ve=gr(ye,ie,te)),t(Ve!=null),Ve.Qb&&(j[Pe]=Ve.qb,Fe=!0),!Fe)if(ue(le),Ve.jc){He=le,gt=j;var dt=Pe,Ft=Ve.pd[Q(He)&Er-1];t(Ve.jc),256>Ft.g?(ce(He,He.u+Ft.g),gt[dt]=Ft.value,He=0):(ce(He,He.u+Ft.g-256),t(256<=Ft.value),He=Ft.value),He==0&&(Fe=!0)}else He=ts(Ve.G[0],Ve.H[0],le);if(le.h)break;if(Fe||256>He){if(!Fe)if(Ve.nd)j[Pe]=(Ve.qb|He<<8)>>>0;else{if(ue(le),Fe=ts(Ve.G[1],Ve.H[1],le),ue(le),gt=ts(Ve.G[2],Ve.H[2],le),dt=ts(Ve.G[3],Ve.H[3],le),le.h)break;j[Pe]=(dt<<24|Fe<<16|He<<8|gt)>>>0}if(Fe=!1,++Pe,++ie>=I&&(ie=0,++te,Z!=null&&te<=K&&!(te%16)&&Z(b,te),we!=null))for(;Ae<Pe;)He=j[Ae++],we.X[(506832829*He&4294967295)>>>we.Mb]=He}else if(280>He){if(He=Ss(He-256,le),gt=ts(Ve.G[4],Ve.H[4],le),ue(le),gt=es(I,gt=Ss(gt,le)),le.h)break;if(Pe-$<gt||q-Pe<He)break e;for(dt=0;dt<He;++dt)j[Pe+dt]=j[Pe+dt-gt];for(Pe+=He,ie+=He;ie>=I;)ie-=I,++te,Z!=null&&te<=K&&!(te%16)&&Z(b,te);if(t(Pe<=q),ie&Se&&(Ve=gr(ye,ie,te)),we!=null)for(;Ae<Pe;)He=j[Ae++],we.X[(506832829*He&4294967295)>>>we.Mb]=He}else{if(!(He<Ge))break e;for(Fe=He-280,t(we!=null);Ae<Pe;)He=j[Ae++],we.X[(506832829*He&4294967295)>>>we.Mb]=He;He=Pe,t(!(Fe>>>(gt=we).Xa)),j[He]=gt.X[Fe],Fe=!0}Fe||t(le.h==re(le))}if(b.Pb&&le.h&&Pe<q)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&De(b.s.vb,b.s.Wa);else{if(le.h)break e;Z!=null&&Z(b,te>K?K:te),b.a=0,b.$=Pe-$}return 1}return b.a=3,0}function ya(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var j=b.Wa;j!=null&&(j.X=null),b.vb=null,t(b!=null)}function _s(){var b=new ig;return b==null?null:(b.a=0,b.xb=od,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),dp=St,Ol=Pt,qi=st,Ei=Ir,Il=fn,ko=oi,Eo=Wt,M.VP8LMapColor32b=ed,M.VP8LMapColor8b=td,b)}function Wa(b,j,$,I,q){var K=1,Z=[b],te=[j],ie=I.m,le=I.s,ye=null,Pe=0;e:for(;;){if($)for(;K&&se(ie,1);){var Ae=Z,Ne=te,Ge=I,Oe=1,we=Ge.m,Se=Ge.gc[Ge.ab],Ve=se(we,2);if(Ge.Oc&1<<Ve)K=0;else{switch(Ge.Oc|=1<<Ve,Se.hc=Ve,Se.Ea=Ae[0],Se.nc=Ne[0],Se.K=[null],++Ge.ab,t(4>=Ge.ab),Ve){case 0:case 1:Se.b=se(we,3)+2,Oe=Wa(xt(Se.Ea,Se.b),xt(Se.nc,Se.b),0,Ge,Se.K),Se.K=Se.K[0];break;case 3:var Fe,He=se(we,8)+1,gt=16<He?0:4<He?1:2<He?2:3;if(Ae[0]=xt(Se.Ea,gt),Se.b=gt,Fe=Oe=Wa(He,1,0,Ge,Se.K)){var dt,Ft=He,ft=Se,An=1<<(8>>ft.b),kn=s(An);if(kn==null)Fe=0;else{var _n=ft.K[0],dn=ft.w;for(kn[0]=ft.K[0][0],dt=1;dt<1*Ft;++dt)kn[dt]=Ke(_n[dn+dt],kn[dt-1]);for(;dt<4*An;++dt)kn[dt]=0;ft.K[0]=null,ft.K[0]=kn,Fe=1}}Oe=Fe;break;case 2:break;default:t(0)}K=Oe}}if(Z=Z[0],te=te[0],K&&se(ie,1)&&!(K=1<=(Pe=se(ie,4))&&11>=Pe)){I.a=3;break e}var Hn;if(Hn=K)t:{var Kn,Qt,br,Yi=I,Dr=Z,Kr=te,Mn=Pe,Ti=$,Li=Yi.m,wr=Yi.s,Yr=[null],wi=1,us=0,Js=Lv[Mn];n:for(;;){if(Ti&&se(Li,1)){var Sr=se(Li,3)+2,Br=xt(Dr,Sr),ks=xt(Kr,Sr),zl=Br*ks;if(!Wa(Br,ks,0,Yi,Yr))break n;for(Yr=Yr[0],wr.xc=Sr,Kn=0;Kn<zl;++Kn){var Mo=Yr[Kn]>>8&65535;Yr[Kn]=Mo,Mo>=wi&&(wi=Mo+1)}}if(Li.h)break n;for(Qt=0;5>Qt;++Qt){var Fn=Wc[Qt];!Qt&&0<Mn&&(Fn+=1<<Mn),us<Fn&&(us=Fn)}var to=a(wi*Js,O),vp=wi,ug=a(vp,V);if(ug==null)var Zs=null;else t(65536>=vp),Zs=ug;var Qs=s(us);if(Zs==null||Qs==null||to==null){Yi.a=1;break n}var Yc=to;for(Kn=br=0;Kn<wi;++Kn){var ea=Zs[Kn],Fo=ea.G,Xc=ea.H,ud=0,Es=1,dd=0;for(Qt=0;5>Qt;++Qt){Fn=Wc[Qt],Fo[Qt]=Yc,Xc[Qt]=br,!Qt&&0<Mn&&(Fn+=1<<Mn);i:{var Ul,Bo=Fn,fd=Yi,no=Qs,Fv=Yc,dg=br,rr=0,Na=fd.m,fg=se(Na,1);if(i(no,0,0,Bo),fg){var hg=se(Na,1)+1,yp=se(Na,1),xp=se(Na,yp==0?1:8);no[xp]=1,hg==2&&(no[xp=se(Na,8)]=1);var ro=1}else{var lr=s(19),Vr=se(Na,4)+4;if(19<Vr){fd.a=3;var Or=0;break i}for(Ul=0;Ul<Vr;++Ul)lr[Y2[Ul]]=se(Na,3);var hd=void 0,Vo=void 0,pd=fd,tb=lr,Xr=Bo,bp=no,qf=0,io=pd.m,ja=8,$s=a(128,O);r:for(;F($s,0,7,tb,19);){if(se(io,1)){var Gf=2+2*se(io,3);if((hd=2+se(io,Gf))>Xr)break r}else hd=Xr;for(Vo=0;Vo<Xr&&hd--;){ue(io);var wp=$s[0+(127&Q(io))];ce(io,io.u+wp.g);var Wl=wp.value;if(16>Wl)bp[Vo++]=Wl,Wl!=0&&(ja=Wl);else{var Bv=Wl==16,pg=Wl-16,Vv=pp[pg],mg=se(io,zf[pg])+Vv;if(Vo+mg>Xr)break r;for(var zv=Bv?ja:0;0<mg--;)bp[Vo++]=zv}}qf=1;break r}qf||(pd.a=3),ro=qf}(ro=ro&&!Na.h)&&(rr=F(Fv,dg,8,no,Bo)),ro&&rr!=0?Or=rr:(fd.a=3,Or=0)}if(Or==0)break n;if(Es&&Tv[Qt]==1&&(Es=Yc[br].g==0),ud+=Yc[br].g,br+=Or,3>=Qt){var md,Sp=Qs[0];for(md=1;md<Fn;++md)Qs[md]>Sp&&(Sp=Qs[md]);dd+=Sp}}if(ea.nd=Es,ea.Qb=0,Es&&(ea.qb=(Fo[3][Xc[3]+0].value<<24|Fo[1][Xc[1]+0].value<<16|Fo[2][Xc[2]+0].value)>>>0,ud==0&&256>Fo[0][Xc[0]+0].value&&(ea.Qb=1,ea.qb+=Fo[0][Xc[0]+0].value<<8)),ea.jc=!ea.Qb&&6>dd,ea.jc){var Kf,Rs=ea;for(Kf=0;Kf<Er;++Kf){var zo=Kf,Pa=Rs.pd[zo],Jc=Rs.G[0][Rs.H[0]+zo];256<=Jc.value?(Pa.g=Jc.g+256,Pa.value=Jc.value):(Pa.g=0,Pa.value=0,zo>>=mr(Jc,8,Pa),zo>>=mr(Rs.G[1][Rs.H[1]+zo],16,Pa),zo>>=mr(Rs.G[2][Rs.H[2]+zo],0,Pa),mr(Rs.G[3][Rs.H[3]+zo],24,Pa))}}}wr.vc=Yr,wr.Wb=wi,wr.Ya=Zs,wr.yc=to,Hn=1;break t}Hn=0}if(!(K=Hn)){I.a=3;break e}if(0<Pe){if(le.ua=1<<Pe,!yt(le.Wa,Pe)){I.a=1,K=0;break e}}else le.ua=0;var _p=I,Cp=Z,Uv=te,Np=_p.s,jp=Np.xc;if(_p.c=Cp,_p.i=Uv,Np.md=xt(Cp,jp),Np.wc=jp==0?-1:(1<<jp)-1,$){I.xb=eo;break e}if((ye=s(Z*te))==null){I.a=1,K=0;break e}K=(K=yi(I,ye,0,Z,te,te,null))&&!ie.h;break e}return K?(q!=null?q[0]=ye:(t(ye==null),t($)),I.$=0,$||ya(le)):ya(le),K}function Cl(b,j){var $=b.c*b.i,I=$+j+16*j;return t(b.c<=j),b.V=s(I),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+$+j,1)}function wc(b,j){var $=b.C,I=j-$,q=b.V,K=b.Ba+b.c*$;for(t(j<=b.l.o);0<I;){var Z=16<I?16:I,te=b.l.ma,ie=b.l.width,le=ie*Z,ye=te.ca,Pe=te.tb+ie*$,Ae=b.Ta,Ne=b.Ua;Ai(b,Z,q,K),$r(Ae,Ne,ye,Pe,le),ga(te,$,$+Z,ye,Pe,ie),I-=Z,q+=Z*b.c,$+=Z}t($==j),b.C=b.Ma=j}function Sc(){this.ub=this.yd=this.td=this.Rb=0}function _c(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ru(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function np(){this.Yb=function(){var b=[];return function j($,I,q){for(var K=q[I],Z=0;Z<K&&($.push(q.length>I+1?[]:0),!(q.length<I+1));Z++)j($[Z],I+1,q)}(b,0,[3,11]),b}()}function vr(){this.jb=s(3),this.Wc=o([4,8],np),this.Xc=o([4,17],np)}function tg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Nl(){this.ld=this.La=this.dd=this.tc=0}function _f(){this.Na=this.la=0}function Tu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rp(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nl),this.Y=0,this.ya=Array(new Cf),this.aa=0,this.l=new Lu}function Cc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Hs(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new Sc,this.Kc=new _c,this.ed=new tg,this.Qa=new Ru,this.Ic=this.$c=this.Aa=0,this.D=new rp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,X),this.ia=0,this.pb=a(4,Tu),this.Pa=new vr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cc),this.Hd=0,this.rb=Array(new _f),this.sb=0,this.wa=Array(new Nl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cf),this.L=this.aa=0,this.gd=o([4,2],Nl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Lu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cs(){var b=new Hs;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Hc||(Hc=Nc)),b}function Lr(b,j,$){return b.a==0&&(b.a=j,b.sc=$,b.cb=0),0}function ip(b,j,$){return 3<=$&&b[j+0]==157&&b[j+1]==1&&b[j+2]==42}function sp(b,j){if(b==null)return 0;if(b.a=0,b.sc="OK",j==null)return Lr(b,2,"null VP8Io passed to VP8GetHeaders()");var $=j.data,I=j.w,q=j.ha;if(4>q)return Lr(b,7,"Truncated header.");var K=$[I+0]|$[I+1]<<8|$[I+2]<<16,Z=b.Od;if(Z.Rb=!(1&K),Z.td=K>>1&7,Z.yd=K>>4&1,Z.ub=K>>5,3<Z.td)return Lr(b,3,"Incorrect keyframe parameters.");if(!Z.yd)return Lr(b,4,"Frame not displayable.");I+=3,q-=3;var te=b.Kc;if(Z.Rb){if(7>q)return Lr(b,7,"cannot parse picture header");if(!ip($,I,q))return Lr(b,3,"Bad code word");te.c=16383&($[I+4]<<8|$[I+3]),te.Td=$[I+4]>>6,te.i=16383&($[I+6]<<8|$[I+5]),te.Ud=$[I+6]>>6,I+=7,q-=7,b.za=te.c+15>>4,b.Ub=te.i+15>>4,j.width=te.c,j.height=te.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((K=b.Pa).jb,0,255,K.jb.length),t((K=b.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(Z.ub>q)return Lr(b,7,"bad partition length");ae(K=b.m,$,I,Z.ub),I+=Z.ub,q-=Z.ub,Z.Rb&&(te.Ld=ge(K),te.Kd=ge(K)),te=b.Qa;var ie,le=b.Pa;if(t(K!=null),t(te!=null),te.Cb=ge(K),te.Cb){if(te.Bb=ge(K),ge(K)){for(te.Fb=ge(K),ie=0;4>ie;++ie)te.Zb[ie]=ge(K)?W(K,7):0;for(ie=0;4>ie;++ie)te.Lb[ie]=ge(K)?W(K,6):0}if(te.Bb)for(ie=0;3>ie;++ie)le.jb[ie]=ge(K)?J(K,8):255}else te.Bb=0;if(K.Ka)return Lr(b,3,"cannot parse segment header");if((te=b.ed).zd=ge(K),te.Tb=J(K,6),te.wb=J(K,3),te.Pc=ge(K),te.Pc&&ge(K)){for(le=0;4>le;++le)ge(K)&&(te.vd[le]=W(K,6));for(le=0;4>le;++le)ge(K)&&(te.od[le]=W(K,6))}if(b.L=te.Tb==0?0:te.zd?1:2,K.Ka)return Lr(b,3,"cannot parse filter header");var ye=q;if(q=ie=I,I=ie+ye,te=ye,b.Xb=(1<<J(b.m,2))-1,ye<3*(le=b.Xb))$=7;else{for(ie+=3*le,te-=3*le,ye=0;ye<le;++ye){var Pe=$[q+0]|$[q+1]<<8|$[q+2]<<16;Pe>te&&(Pe=te),ae(b.Jc[+ye],$,ie,Pe),ie+=Pe,te-=Pe,q+=3}ae(b.Jc[+le],$,ie,te),$=ie<I?0:5}if($!=0)return Lr(b,$,"cannot parse partitions");for($=J(ie=b.m,7),q=ge(ie)?W(ie,4):0,I=ge(ie)?W(ie,4):0,te=ge(ie)?W(ie,4):0,le=ge(ie)?W(ie,4):0,ie=ge(ie)?W(ie,4):0,ye=b.Qa,Pe=0;4>Pe;++Pe){if(ye.Cb){var Ae=ye.Zb[Pe];ye.Fb||(Ae+=$)}else{if(0<Pe){b.pb[Pe]=b.pb[0];continue}Ae=$}var Ne=b.pb[Pe];Ne.Sc[0]=ad[js(Ae+q,127)],Ne.Sc[1]=Uf[js(Ae+0,127)],Ne.Eb[0]=2*ad[js(Ae+I,127)],Ne.Eb[1]=101581*Uf[js(Ae+te,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=ad[js(Ae+le,117)],Ne.Qc[1]=Uf[js(Ae+ie,127)],Ne.lc=Ae+ie}if(!Z.Rb)return Lr(b,4,"Not a key frame.");for(ge(K),Z=b.Pa,$=0;4>$;++$){for(q=0;8>q;++q)for(I=0;3>I;++I)for(te=0;11>te;++te)le=be(K,Z2[$][q][I][te])?J(K,8):Ov[$][q][I][te],Z.Wc[$][q].Yb[I][te]=le;for(q=0;17>q;++q)Z.Xc[$][q]=Z.Wc[$][og[q]]}return b.kc=ge(K),b.kc&&(b.Bd=J(K,8)),b.cb=1}function Nc(b,j,$,I,q,K,Z){var te=j[q].Yb[$];for($=0;16>q;++q){if(!be(b,te[$+0]))return q;for(;!be(b,te[$+1]);)if(te=j[++q].Yb[0],$=0,q==16)return 16;var ie=j[q+1].Yb;if(be(b,te[$+2])){var le=b,ye=0;if(be(le,(Ae=te)[(Pe=$)+3]))if(be(le,Ae[Pe+6])){for(te=0,Pe=2*(ye=be(le,Ae[Pe+8]))+(Ae=be(le,Ae[Pe+9+ye])),ye=0,Ae=sg[Pe];Ae[te];++te)ye+=ye+be(le,Ae[te]);ye+=3+(8<<Pe)}else be(le,Ae[Pe+7])?(ye=7+2*be(le,165),ye+=be(le,145)):ye=5+be(le,159);else ye=be(le,Ae[Pe+4])?3+be(le,Ae[Pe+5]):2;te=ie[2]}else ye=1,te=ie[1];ie=Z+ag[q],0>(le=b).b&&he(le);var Pe,Ae=le.b,Ne=(Pe=le.Ca>>1)-(le.I>>Ae)>>31;--le.b,le.Ca+=Ne,le.Ca|=1,le.I-=(Pe+1&Ne)<<Ae,K[ie]=((ye^Ne)-Ne)*I[(0<q)+0]}return 16}function jl(b){var j=b.rb[b.sb-1];j.la=0,j.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function jc(b,j){if(b==null)return 0;if(j==null)return Lr(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!sp(b,j))return 0;if(t(b.cb),j.ac==null||j.ac(j)){j.ob&&(b.L=0);var $=Kc[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=j.v-$>>4,b.zb=j.j-$>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=j.o+15+$>>4,b.Hb=j.va+15+$>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var I=b.ed;for($=0;4>$;++$){var q;if(b.Qa.Cb){var K=b.Qa.Lb[$];b.Qa.Fb||(K+=I.Tb)}else K=I.Tb;for(q=0;1>=q;++q){var Z=b.gd[$][q],te=K;if(I.Pc&&(te+=I.vd[0],q&&(te+=I.od[0])),0<(te=0>te?0:63<te?63:te)){var ie=te;0<I.wb&&(ie=4<I.wb?ie>>2:ie>>1)>9-I.wb&&(ie=9-I.wb),1>ie&&(ie=1),Z.dd=ie,Z.tc=2*te+ie,Z.ld=40<=te?2:15<=te?1:0}else Z.tc=0;Z.La=q}}}$=0}else Lr(b,6,"Frame setup failed"),$=b.a;if($=$==0){if($){b.$c=0,0<b.Aa||(b.Ic=Io);e:{$=b.Ic,I=4*(ie=b.za);var le=32*ie,ye=ie+1,Pe=0<b.L?ie*(0<b.Aa?2:1):0,Ae=(b.Aa==2?2:1)*ie;if((Z=I+832+(q=3*(16*$+Kc[b.L])/2*le)+(K=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=Z)$=0;else{if(Z>b.Vb){if(b.Vb=0,b.Ec=s(Z),b.Fc=0,b.Ec==null){$=Lr(b,1,"no memory during frame initialization.");break e}b.Vb=Z}Z=b.Ec,te=b.Fc,b.Ac=Z,b.Bc=te,te+=I,b.Gd=a(le,Cc),b.Hd=0,b.rb=a(ye+1,_f),b.sb=1,b.wa=Pe?a(Pe,Nl):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ie),t(!0),b.oc=Z,b.pc=te,te+=832,b.ya=a(Ae,Cf),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ie),b.R=16*ie,b.B=8*ie,ie=(le=Kc[b.L])*b.R,le=le/2*b.B,b.sa=Z,b.ta=te+ie,b.qa=b.sa,b.ra=b.ta+16*$*b.R+le,b.Ha=b.qa,b.Ia=b.ra+8*$*b.B+le,b.$c=0,te+=q,b.mb=K?Z:null,b.nb=K?te:null,t(te+K<=b.Fc+b.Vb),jl(b),i(b.Ac,b.Bc,0,I),$=1}}if($){if(j.ka=0,j.y=b.sa,j.O=b.ta,j.f=b.qa,j.N=b.ra,j.ea=b.Ha,j.Vd=b.Ia,j.fa=b.R,j.Rc=b.B,j.F=null,j.J=0,!If){for($=-255;255>=$;++$)Fr[255+$]=0>$?-$:$;for($=-1020;1020>=$;++$)Za[1020+$]=-128>$?-128:127<$?127:$;for($=-112;112>=$;++$)rd[112+$]=-16>$?-16:15<$?15:$;for($=-255;510>=$;++$)zc[255+$]=0>$?0:255<$?255:$;If=1}nd=Tn,$o=jf,Ro=Pl,$i=ng,Ps=Ou,Ln=Nf,Mc=Uu,Of=Gr,Fc=Tc,Bc=$f,Vc=$l,As=Rl,To=Lc,Ja=Wu,Lo=wa,Do=qs,Ml=Gs,xi=cp,Xs[0]=Ka,Xs[1]=ap,Xs[2]=Ec,Xs[3]=Ga,Xs[4]=Af,Xs[5]=Mu,Xs[6]=kl,Xs[7]=Fu,Xs[8]=lp,Xs[9]=Bu,Ki[0]=kc,Ki[1]=op,Ki[2]=Ha,Ki[3]=Ac,Ki[4]=yr,Ki[5]=qa,Ki[6]=xa,as[0]=Ns,as[1]=Pf,as[2]=rg,as[3]=jo,as[4]=$c,as[5]=Vu,as[6]=kf,$=1}else $=0}$&&($=function(Ne,Ge){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Oe,we=Ne.Jc[Ne.M&Ne.Xb],Se=Ne.m,Ve=Ne;for(Oe=0;Oe<Ve.za;++Oe){var Fe=Se,He=Ve,gt=He.Ac,dt=He.Bc+4*Oe,Ft=He.zc,ft=He.ya[He.aa+Oe];if(He.Qa.Bb?ft.$b=be(Fe,He.Pa.jb[0])?2+be(Fe,He.Pa.jb[2]):be(Fe,He.Pa.jb[1]):ft.$b=0,He.kc&&(ft.Ad=be(Fe,He.Bd)),ft.Za=!be(Fe,145)+0,ft.Za){var An=ft.Ob,kn=0;for(He=0;4>He;++He){var _n,dn=Ft[0+He];for(_n=0;4>_n;++_n){dn=J2[gt[dt+_n]][dn];for(var Hn=Dv[be(Fe,dn[0])];0<Hn;)Hn=Dv[2*Hn+be(Fe,dn[Hn])];dn=-Hn,gt[dt+_n]=dn}r(An,kn,gt,dt,4),kn+=4,Ft[0+He]=dn}}else dn=be(Fe,156)?be(Fe,128)?1:3:be(Fe,163)?2:0,ft.Ob[0]=dn,i(gt,dt,dn,4),i(Ft,0,dn,4);ft.Dd=be(Fe,142)?be(Fe,114)?be(Fe,183)?1:3:2:0}if(Ve.m.Ka)return Lr(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(Ve=we,Fe=(Se=Ne).rb[Se.sb-1],gt=Se.rb[Se.sb+Se.ja],Oe=Se.ya[Se.aa+Se.ja],dt=Se.kc?Oe.Ad:0)Fe.la=gt.la=0,Oe.Za||(Fe.Na=gt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Kn,Qt;if(Fe=gt,gt=Ve,dt=Se.Pa.Xc,Ft=Se.ya[Se.aa+Se.ja],ft=Se.pb[Ft.$b],He=Ft.ad,An=0,kn=Se.rb[Se.sb-1],dn=_n=0,i(He,An,0,384),Ft.Za)var br=0,Yi=dt[3];else{Hn=s(16);var Dr=Fe.Na+kn.Na;if(Dr=Hc(gt,dt[1],Dr,ft.Eb,0,Hn,0),Fe.Na=kn.Na=(0<Dr)+0,1<Dr)nd(Hn,0,He,An);else{var Kr=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)He[An+Hn]=Kr}br=1,Yi=dt[0]}var Mn=15&Fe.la,Ti=15&kn.la;for(Hn=0;4>Hn;++Hn){var Li=1&Ti;for(Kr=Qt=0;4>Kr;++Kr)Mn=Mn>>1|(Li=(Dr=Hc(gt,Yi,Dr=Li+(1&Mn),ft.Sc,br,He,An))>br)<<7,Qt=Qt<<2|(3<Dr?3:1<Dr?2:He[An+0]!=0),An+=16;Mn>>=4,Ti=Ti>>1|Li<<7,_n=(_n<<8|Qt)>>>0}for(Yi=Mn,br=Ti>>4,Kn=0;4>Kn;Kn+=2){for(Qt=0,Mn=Fe.la>>4+Kn,Ti=kn.la>>4+Kn,Hn=0;2>Hn;++Hn){for(Li=1&Ti,Kr=0;2>Kr;++Kr)Dr=Li+(1&Mn),Mn=Mn>>1|(Li=0<(Dr=Hc(gt,dt[2],Dr,ft.Qc,0,He,An)))<<3,Qt=Qt<<2|(3<Dr?3:1<Dr?2:He[An+0]!=0),An+=16;Mn>>=2,Ti=Ti>>1|Li<<5}dn|=Qt<<4*Kn,Yi|=Mn<<4<<Kn,br|=(240&Ti)<<Kn}Fe.la=Yi,kn.la=br,Ft.Hc=_n,Ft.Gc=dn,Ft.ia=43690&dn?0:ft.ia,dt=!(_n|dn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Oe.$b][Oe.Za],Se.wa[Se.Y+Se.ja].La|=!dt),Ve.Ka)return Lr(Ne,7,"Premature end-of-file encountered.")}if(jl(Ne),Se=Ge,Ve=1,Oe=(we=Ne).D,Fe=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Oe.M=we.M,Oe.uc=Fe,Gu(we,Oe),Ve=1,Oe=(Qt=we.D).Nb,Fe=(dn=Kc[we.L])*we.R,gt=dn/2*we.B,Hn=16*Oe*we.R,Kr=8*Oe*we.B,dt=we.sa,Ft=we.ta-Fe+Hn,ft=we.qa,He=we.ra-gt+Kr,An=we.Ha,kn=we.Ia-gt+Kr,Ti=(Mn=Qt.M)==0,_n=Mn>=we.Va-1,we.Aa==2&&Gu(we,Qt),Qt.uc)for(Li=(Dr=we).D.M,t(Dr.D.uc),Qt=Dr.yb;Qt<Dr.Hb;++Qt){br=Qt,Yi=Li;var wr=(Yr=(Fn=Dr).D).Nb;Kn=Fn.R;var Yr=Yr.wa[Yr.Y+br],wi=Fn.sa,us=Fn.ta+16*wr*Kn+16*br,Js=Yr.dd,Sr=Yr.tc;if(Sr!=0)if(t(3<=Sr),Fn.L==1)0<br&&Do(wi,us,Kn,Sr+4),Yr.La&&xi(wi,us,Kn,Sr),0<Yi&&Lo(wi,us,Kn,Sr+4),Yr.La&&Ml(wi,us,Kn,Sr);else{var Br=Fn.B,ks=Fn.qa,zl=Fn.ra+8*wr*Br+8*br,Mo=Fn.Ha,Fn=Fn.Ia+8*wr*Br+8*br;wr=Yr.ld,0<br&&(Of(wi,us,Kn,Sr+4,Js,wr),Bc(ks,zl,Mo,Fn,Br,Sr+4,Js,wr)),Yr.La&&(As(wi,us,Kn,Sr,Js,wr),Ja(ks,zl,Mo,Fn,Br,Sr,Js,wr)),0<Yi&&(Mc(wi,us,Kn,Sr+4,Js,wr),Fc(ks,zl,Mo,Fn,Br,Sr+4,Js,wr)),Yr.La&&(Vc(wi,us,Kn,Sr,Js,wr),To(ks,zl,Mo,Fn,Br,Sr,Js,wr))}}if(we.ia&&alert("todo:DitherRow"),Se.put!=null){if(Qt=16*Mn,Mn=16*(Mn+1),Ti?(Se.y=we.sa,Se.O=we.ta+Hn,Se.f=we.qa,Se.N=we.ra+Kr,Se.ea=we.Ha,Se.W=we.Ia+Kr):(Qt-=dn,Se.y=dt,Se.O=Ft,Se.f=ft,Se.N=He,Se.ea=An,Se.W=kn),_n||(Mn-=dn),Mn>Se.o&&(Mn=Se.o),Se.F=null,Se.J=null,we.Fa!=null&&0<we.Fa.length&&Qt<Mn&&(Se.J=Tf(we,Se,Qt,Mn-Qt),Se.F=we.mb,Se.F==null&&Se.F.length==0)){Ve=Lr(we,3,"Could not decode alpha data.");break e}Qt<Se.j&&(dn=Se.j-Qt,Qt=Se.j,t(!(1&dn)),Se.O+=we.R*dn,Se.N+=we.B*(dn>>1),Se.W+=we.B*(dn>>1),Se.F!=null&&(Se.J+=Se.width*dn)),Qt<Mn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Qt-Se.j,Se.U=Se.va-Se.v,Se.T=Mn-Qt,Ve=Se.put(Se))}Oe+1!=we.Ic||_n||(r(we.sa,we.ta-Fe,dt,Ft+16*we.R,Fe),r(we.qa,we.ra-gt,ft,He+8*we.B,gt),r(we.Ha,we.Ia-gt,An,kn+8*we.B,gt))}if(!Ve)return Lr(Ne,6,"Output aborted.")}return 1}(b,j)),j.bc!=null&&j.bc(j),$&=1}return $?(b.cb=0,$):0}function ns(b,j,$,I,q){q=b[j+$+32*I]+(q>>3),b[j+$+32*I]=-256&q?0>q?0:255:q}function Du(b,j,$,I,q,K){ns(b,j,0,$,I+q),ns(b,j,1,$,I+K),ns(b,j,2,$,I-K),ns(b,j,3,$,I-q)}function rs(b){return(20091*b>>16)+b}function Pc(b,j,$,I){var q,K=0,Z=s(16);for(q=0;4>q;++q){var te=b[j+0]+b[j+8],ie=b[j+0]-b[j+8],le=(35468*b[j+4]>>16)-rs(b[j+12]),ye=rs(b[j+4])+(35468*b[j+12]>>16);Z[K+0]=te+ye,Z[K+1]=ie+le,Z[K+2]=ie-le,Z[K+3]=te-ye,K+=4,j++}for(q=K=0;4>q;++q)te=(b=Z[K+0]+4)+Z[K+8],ie=b-Z[K+8],le=(35468*Z[K+4]>>16)-rs(Z[K+12]),ns($,I,0,0,te+(ye=rs(Z[K+4])+(35468*Z[K+12]>>16))),ns($,I,1,0,ie+le),ns($,I,2,0,ie-le),ns($,I,3,0,te-ye),K++,I+=32}function Nf(b,j,$,I){var q=b[j+0]+4,K=35468*b[j+4]>>16,Z=rs(b[j+4]),te=35468*b[j+1]>>16;Du($,I,0,q+Z,b=rs(b[j+1]),te),Du($,I,1,q+K,b,te),Du($,I,2,q-K,b,te),Du($,I,3,q-Z,b,te)}function jf(b,j,$,I,q){Pc(b,j,$,I),q&&Pc(b,j+16,$,I+4)}function Pl(b,j,$,I){$o(b,j+0,$,I,1),$o(b,j+32,$,I+128,1)}function ng(b,j,$,I){var q;for(b=b[j+0]+4,q=0;4>q;++q)for(j=0;4>j;++j)ns($,I,j,q,b)}function Ou(b,j,$,I){b[j+0]&&$i(b,j+0,$,I),b[j+16]&&$i(b,j+16,$,I+4),b[j+32]&&$i(b,j+32,$,I+128),b[j+48]&&$i(b,j+48,$,I+128+4)}function Tn(b,j,$,I){var q,K=s(16);for(q=0;4>q;++q){var Z=b[j+0+q]+b[j+12+q],te=b[j+4+q]+b[j+8+q],ie=b[j+4+q]-b[j+8+q],le=b[j+0+q]-b[j+12+q];K[0+q]=Z+te,K[8+q]=Z-te,K[4+q]=le+ie,K[12+q]=le-ie}for(q=0;4>q;++q)Z=(b=K[0+4*q]+3)+K[3+4*q],te=K[1+4*q]+K[2+4*q],ie=K[1+4*q]-K[2+4*q],le=b-K[3+4*q],$[I+0]=Z+te>>3,$[I+16]=le+ie>>3,$[I+32]=Z-te>>3,$[I+48]=le-ie>>3,I+=64}function Iu(b,j,$){var I,q=j-32,K=Gi,Z=255-b[q-1];for(I=0;I<$;++I){var te,ie=K,le=Z+b[j-1];for(te=0;te<$;++te)b[j+te]=ie[le+b[q+te]];j+=32}}function ap(b,j){Iu(b,j,4)}function Pf(b,j){Iu(b,j,8)}function op(b,j){Iu(b,j,16)}function Ha(b,j){var $;for($=0;16>$;++$)r(b,j+32*$,b,j-32,16)}function Ac(b,j){var $;for($=16;0<$;--$)i(b,j,b[j-1],16),j+=32}function Al(b,j,$){var I;for(I=0;16>I;++I)i(j,$+32*I,b,16)}function kc(b,j){var $,I=16;for($=0;16>$;++$)I+=b[j-1+32*$]+b[j+$-32];Al(I>>5,b,j)}function yr(b,j){var $,I=8;for($=0;16>$;++$)I+=b[j-1+32*$];Al(I>>4,b,j)}function qa(b,j){var $,I=8;for($=0;16>$;++$)I+=b[j+$-32];Al(I>>4,b,j)}function xa(b,j){Al(128,b,j)}function Ht(b,j,$){return b+2*j+$+2>>2}function Ec(b,j){var $,I=j-32;for(I=new Uint8Array([Ht(b[I-1],b[I+0],b[I+1]),Ht(b[I+0],b[I+1],b[I+2]),Ht(b[I+1],b[I+2],b[I+3]),Ht(b[I+2],b[I+3],b[I+4])]),$=0;4>$;++$)r(b,j+32*$,I,0,I.length)}function Ga(b,j){var $=b[j-1],I=b[j-1+32],q=b[j-1+64],K=b[j-1+96];Le(b,j+0,16843009*Ht(b[j-1-32],$,I)),Le(b,j+32,16843009*Ht($,I,q)),Le(b,j+64,16843009*Ht(I,q,K)),Le(b,j+96,16843009*Ht(q,K,K))}function Ka(b,j){var $,I=4;for($=0;4>$;++$)I+=b[j+$-32]+b[j-1+32*$];for(I>>=3,$=0;4>$;++$)i(b,j+32*$,I,4)}function Af(b,j){var $=b[j-1+0],I=b[j-1+32],q=b[j-1+64],K=b[j-1-32],Z=b[j+0-32],te=b[j+1-32],ie=b[j+2-32],le=b[j+3-32];b[j+0+96]=Ht(I,q,b[j-1+96]),b[j+1+96]=b[j+0+64]=Ht($,I,q),b[j+2+96]=b[j+1+64]=b[j+0+32]=Ht(K,$,I),b[j+3+96]=b[j+2+64]=b[j+1+32]=b[j+0+0]=Ht(Z,K,$),b[j+3+64]=b[j+2+32]=b[j+1+0]=Ht(te,Z,K),b[j+3+32]=b[j+2+0]=Ht(ie,te,Z),b[j+3+0]=Ht(le,ie,te)}function kl(b,j){var $=b[j+1-32],I=b[j+2-32],q=b[j+3-32],K=b[j+4-32],Z=b[j+5-32],te=b[j+6-32],ie=b[j+7-32];b[j+0+0]=Ht(b[j+0-32],$,I),b[j+1+0]=b[j+0+32]=Ht($,I,q),b[j+2+0]=b[j+1+32]=b[j+0+64]=Ht(I,q,K),b[j+3+0]=b[j+2+32]=b[j+1+64]=b[j+0+96]=Ht(q,K,Z),b[j+3+32]=b[j+2+64]=b[j+1+96]=Ht(K,Z,te),b[j+3+64]=b[j+2+96]=Ht(Z,te,ie),b[j+3+96]=Ht(te,ie,ie)}function Mu(b,j){var $=b[j-1+0],I=b[j-1+32],q=b[j-1+64],K=b[j-1-32],Z=b[j+0-32],te=b[j+1-32],ie=b[j+2-32],le=b[j+3-32];b[j+0+0]=b[j+1+64]=K+Z+1>>1,b[j+1+0]=b[j+2+64]=Z+te+1>>1,b[j+2+0]=b[j+3+64]=te+ie+1>>1,b[j+3+0]=ie+le+1>>1,b[j+0+96]=Ht(q,I,$),b[j+0+64]=Ht(I,$,K),b[j+0+32]=b[j+1+96]=Ht($,K,Z),b[j+1+32]=b[j+2+96]=Ht(K,Z,te),b[j+2+32]=b[j+3+96]=Ht(Z,te,ie),b[j+3+32]=Ht(te,ie,le)}function Fu(b,j){var $=b[j+0-32],I=b[j+1-32],q=b[j+2-32],K=b[j+3-32],Z=b[j+4-32],te=b[j+5-32],ie=b[j+6-32],le=b[j+7-32];b[j+0+0]=$+I+1>>1,b[j+1+0]=b[j+0+64]=I+q+1>>1,b[j+2+0]=b[j+1+64]=q+K+1>>1,b[j+3+0]=b[j+2+64]=K+Z+1>>1,b[j+0+32]=Ht($,I,q),b[j+1+32]=b[j+0+96]=Ht(I,q,K),b[j+2+32]=b[j+1+96]=Ht(q,K,Z),b[j+3+32]=b[j+2+96]=Ht(K,Z,te),b[j+3+64]=Ht(Z,te,ie),b[j+3+96]=Ht(te,ie,le)}function Bu(b,j){var $=b[j-1+0],I=b[j-1+32],q=b[j-1+64],K=b[j-1+96];b[j+0+0]=$+I+1>>1,b[j+2+0]=b[j+0+32]=I+q+1>>1,b[j+2+32]=b[j+0+64]=q+K+1>>1,b[j+1+0]=Ht($,I,q),b[j+3+0]=b[j+1+32]=Ht(I,q,K),b[j+3+32]=b[j+1+64]=Ht(q,K,K),b[j+3+64]=b[j+2+64]=b[j+0+96]=b[j+1+96]=b[j+2+96]=b[j+3+96]=K}function lp(b,j){var $=b[j-1+0],I=b[j-1+32],q=b[j-1+64],K=b[j-1+96],Z=b[j-1-32],te=b[j+0-32],ie=b[j+1-32],le=b[j+2-32];b[j+0+0]=b[j+2+32]=$+Z+1>>1,b[j+0+32]=b[j+2+64]=I+$+1>>1,b[j+0+64]=b[j+2+96]=q+I+1>>1,b[j+0+96]=K+q+1>>1,b[j+3+0]=Ht(te,ie,le),b[j+2+0]=Ht(Z,te,ie),b[j+1+0]=b[j+3+32]=Ht($,Z,te),b[j+1+32]=b[j+3+64]=Ht(I,$,Z),b[j+1+64]=b[j+3+96]=Ht(q,I,$),b[j+1+96]=Ht(K,q,I)}function rg(b,j){var $;for($=0;8>$;++$)r(b,j+32*$,b,j-32,8)}function jo(b,j){var $;for($=0;8>$;++$)i(b,j,b[j-1],8),j+=32}function ba(b,j,$){var I;for(I=0;8>I;++I)i(j,$+32*I,b,8)}function Ns(b,j){var $,I=8;for($=0;8>$;++$)I+=b[j+$-32]+b[j-1+32*$];ba(I>>4,b,j)}function Vu(b,j){var $,I=4;for($=0;8>$;++$)I+=b[j+$-32];ba(I>>3,b,j)}function $c(b,j){var $,I=4;for($=0;8>$;++$)I+=b[j-1+32*$];ba(I>>3,b,j)}function kf(b,j){ba(128,b,j)}function El(b,j,$){var I=b[j-$],q=b[j+0],K=3*(q-I)+Qa[1020+b[j-2*$]-b[j+$]],Z=id[112+(K+4>>3)];b[j-$]=Gi[255+I+id[112+(K+3>>3)]],b[j+0]=Gi[255+q-Z]}function Rc(b,j,$,I){var q=b[j+0],K=b[j+$];return Ys[255+b[j-2*$]-b[j-$]]>I||Ys[255+K-q]>I}function zu(b,j,$,I){return 4*Ys[255+b[j-$]-b[j+0]]+Ys[255+b[j-2*$]-b[j+$]]<=I}function Ef(b,j,$,I,q){var K=b[j-3*$],Z=b[j-2*$],te=b[j-$],ie=b[j+0],le=b[j+$],ye=b[j+2*$],Pe=b[j+3*$];return 4*Ys[255+te-ie]+Ys[255+Z-le]>I?0:Ys[255+b[j-4*$]-K]<=q&&Ys[255+K-Z]<=q&&Ys[255+Z-te]<=q&&Ys[255+Pe-ye]<=q&&Ys[255+ye-le]<=q&&Ys[255+le-ie]<=q}function wa(b,j,$,I){var q=2*I+1;for(I=0;16>I;++I)zu(b,j+I,$,q)&&El(b,j+I,$)}function qs(b,j,$,I){var q=2*I+1;for(I=0;16>I;++I)zu(b,j+I*$,1,q)&&El(b,j+I*$,1)}function Gs(b,j,$,I){var q;for(q=3;0<q;--q)wa(b,j+=4*$,$,I)}function cp(b,j,$,I){var q;for(q=3;0<q;--q)qs(b,j+=4,$,I)}function Sa(b,j,$,I,q,K,Z,te){for(K=2*K+1;0<q--;){if(Ef(b,j,$,K,Z))if(Rc(b,j,$,te))El(b,j,$);else{var ie=b,le=j,ye=$,Pe=ie[le-2*ye],Ae=ie[le-ye],Ne=ie[le+0],Ge=ie[le+ye],Oe=ie[le+2*ye],we=27*(Ve=Qa[1020+3*(Ne-Ae)+Qa[1020+Pe-Ge]])+63>>7,Se=18*Ve+63>>7,Ve=9*Ve+63>>7;ie[le-3*ye]=Gi[255+ie[le-3*ye]+Ve],ie[le-2*ye]=Gi[255+Pe+Se],ie[le-ye]=Gi[255+Ae+we],ie[le+0]=Gi[255+Ne-we],ie[le+ye]=Gi[255+Ge-Se],ie[le+2*ye]=Gi[255+Oe-Ve]}j+=I}}function is(b,j,$,I,q,K,Z,te){for(K=2*K+1;0<q--;){if(Ef(b,j,$,K,Z))if(Rc(b,j,$,te))El(b,j,$);else{var ie=b,le=j,ye=$,Pe=ie[le-ye],Ae=ie[le+0],Ne=ie[le+ye],Ge=id[112+((Oe=3*(Ae-Pe))+4>>3)],Oe=id[112+(Oe+3>>3)],we=Ge+1>>1;ie[le-2*ye]=Gi[255+ie[le-2*ye]+we],ie[le-ye]=Gi[255+Pe+Oe],ie[le+0]=Gi[255+Ae-Ge],ie[le+ye]=Gi[255+Ne-we]}j+=I}}function Uu(b,j,$,I,q,K){Sa(b,j,$,1,16,I,q,K)}function Gr(b,j,$,I,q,K){Sa(b,j,1,$,16,I,q,K)}function $l(b,j,$,I,q,K){var Z;for(Z=3;0<Z;--Z)is(b,j+=4*$,$,1,16,I,q,K)}function Rl(b,j,$,I,q,K){var Z;for(Z=3;0<Z;--Z)is(b,j+=4,1,$,16,I,q,K)}function Tc(b,j,$,I,q,K,Z,te){Sa(b,j,q,1,8,K,Z,te),Sa($,I,q,1,8,K,Z,te)}function $f(b,j,$,I,q,K,Z,te){Sa(b,j,1,q,8,K,Z,te),Sa($,I,1,q,8,K,Z,te)}function Lc(b,j,$,I,q,K,Z,te){is(b,j+4*q,q,1,8,K,Z,te),is($,I+4*q,q,1,8,K,Z,te)}function Wu(b,j,$,I,q,K,Z,te){is(b,j+4,1,q,8,K,Z,te),is($,I+4,1,q,8,K,Z,te)}function Ya(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function up(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new O}function ig(){this.xb=this.a=0,this.l=new Lu,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new up,this.ab=0,this.gc=a(4,Hu),this.Oc=0}function qu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Po(b,j,$,I,q,K,Z){for(b=b==null?0:b[j+0],j=0;j<Z;++j)q[K+j]=b+$[I+j]&255,b=q[K+j]}function Rf(b,j,$,I,q,K,Z){var te;if(b==null)Po(null,null,$,I,q,K,Z);else for(te=0;te<Z;++te)q[K+te]=b[j+te]+$[I+te]&255}function Ll(b,j,$,I,q,K,Z){if(b==null)Po(null,null,$,I,q,K,Z);else{var te,ie=b[j+0],le=ie,ye=ie;for(te=0;te<Z;++te)le=ye+(ie=b[j+te])-le,ye=$[I+te]+(-256&le?0>le?0:255:le)&255,le=ie,q[K+te]=ye}}function Tf(b,j,$,I){var q=j.width,K=j.o;if(t(b!=null&&j!=null),0>$||0>=I||$+I>K)return null;if(!b.Cc){if(b.ga==null){var Z;if(b.ga=new qu,(Z=b.ga==null)||(Z=j.width*j.o,t(b.Gb.length==0),b.Gb=s(Z),b.Uc=0,b.Gb==null?Z=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,Z=1),Z=!Z),!Z){Z=b.ga;var te=b.Fa,ie=b.P,le=b.qc,ye=b.mb,Pe=b.nb,Ae=ie+1,Ne=le-1,Ge=Z.l;if(t(te!=null&&ye!=null&&j!=null),Ri[0]=null,Ri[1]=Po,Ri[2]=Rf,Ri[3]=Ll,Z.ca=ye,Z.tb=Pe,Z.c=j.width,Z.i=j.height,t(0<Z.c&&0<Z.i),1>=le)j=0;else if(Z.$a=te[ie+0]>>0&3,Z.Z=te[ie+0]>>2&3,Z.Lc=te[ie+0]>>4&3,ie=te[ie+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ie)j=0;else if(Ge.put=Ws,Ge.ac=li,Ge.bc=ma,Ge.ma=Z,Ge.width=j.width,Ge.height=j.height,Ge.Da=j.Da,Ge.v=j.v,Ge.va=j.va,Ge.j=j.j,Ge.o=j.o,Z.$a)e:{t(Z.$a==1),j=_s();t:for(;;){if(j==null){j=0;break e}if(t(Z!=null),Z.mc=j,j.c=Z.c,j.i=Z.i,j.l=Z.l,j.l.ma=Z,j.l.width=Z.c,j.l.height=Z.i,j.a=0,z(j.m,te,Ae,Ne),!Wa(Z.c,Z.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&No(j.s)?(Z.ic=1,te=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(te),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Z.ic=0,j=Cl(j,Z.c)),!j))break t;j=1;break e}Z.mc=null,j=0}else j=Ne>=Z.c*Z.i;Z=!j}if(Z)return null;b.ga.Lc!=1?b.Ga=0:I=K-$}t(b.ga!=null),t($+I<=K);e:{if(j=(te=b.ga).c,K=te.l.o,te.$a==0){if(Ae=b.rc,Ne=b.Vc,Ge=b.Fa,ie=b.P+1+$*j,le=b.mb,ye=b.nb+$*j,t(ie<=b.P+b.qc),te.Z!=0)for(t(Ri[te.Z]!=null),Z=0;Z<I;++Z)Ri[te.Z](Ae,Ne,Ge,ie,le,ye,j),Ae=le,Ne=ye,ye+=j,ie+=j;else for(Z=0;Z<I;++Z)r(le,ye,Ge,ie,j),Ae=le,Ne=ye,ye+=j,ie+=j;b.rc=Ae,b.Vc=Ne}else{if(t(te.mc!=null),j=$+I,t((Z=te.mc)!=null),t(j<=Z.i),Z.C>=j)j=1;else if(te.ic||je(),te.ic){te=Z.V,Ae=Z.Ba,Ne=Z.c;var Oe=Z.i,we=(Ge=1,ie=Z.$/Ne,le=Z.$%Ne,ye=Z.m,Pe=Z.s,Z.$),Se=Ne*Oe,Ve=Ne*j,Fe=Pe.wc,He=we<Ve?gr(Pe,le,ie):null;t(we<=Se),t(j<=Oe),t(No(Pe));t:for(;;){for(;!ye.h&&we<Ve;){if(le&Fe||(He=gr(Pe,le,ie)),t(He!=null),ue(ye),256>(Oe=ts(He.G[0],He.H[0],ye)))te[Ae+we]=Oe,++we,++le>=Ne&&(le=0,++ie<=j&&!(ie%16)&&va(Z,ie));else{if(!(280>Oe)){Ge=0;break t}Oe=Ss(Oe-256,ye);var gt,dt=ts(He.G[4],He.H[4],ye);if(ue(ye),!(we>=(dt=es(Ne,dt=Ss(dt,ye)))&&Se-we>=Oe)){Ge=0;break t}for(gt=0;gt<Oe;++gt)te[Ae+we+gt]=te[Ae+we+gt-dt];for(we+=Oe,le+=Oe;le>=Ne;)le-=Ne,++ie<=j&&!(ie%16)&&va(Z,ie);we<Ve&&le&Fe&&(He=gr(Pe,le,ie))}t(ye.h==re(ye))}va(Z,ie>j?j:ie);break t}!Ge||ye.h&&we<Se?(Ge=0,Z.a=ye.h?5:3):Z.$=we,j=Ge}else j=yi(Z,Z.V,Z.Ba,Z.c,Z.i,j,wc);if(!j){I=0;break e}}$+I>=K&&(b.Cc=1),I=1}if(!I)return null;if(b.Cc&&((I=b.ga)!=null&&(I.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+$*q}function k(b,j,$,I,q,K){for(;0<q--;){var Z,te=b,ie=j+($?1:0),le=b,ye=j+($?0:3);for(Z=0;Z<I;++Z){var Pe=le[ye+4*Z];Pe!=255&&(Pe*=32897,te[ie+4*Z+0]=te[ie+4*Z+0]*Pe>>23,te[ie+4*Z+1]=te[ie+4*Z+1]*Pe>>23,te[ie+4*Z+2]=te[ie+4*Z+2]*Pe>>23)}j+=K}}function G(b,j,$,I,q){for(;0<I--;){var K;for(K=0;K<$;++K){var Z=b[j+2*K+0],te=15&(le=b[j+2*K+1]),ie=4369*te,le=(240&le|le>>4)*ie>>16;b[j+2*K+0]=(240&Z|Z>>4)*ie>>16&240|(15&Z|Z<<4)*ie>>16>>4&15,b[j+2*K+1]=240&le|te}j+=q}}function de(b,j,$,I,q,K,Z,te){var ie,le,ye=255;for(le=0;le<q;++le){for(ie=0;ie<I;++ie){var Pe=b[j+ie];K[Z+4*ie]=Pe,ye&=Pe}j+=$,Z+=te}return ye!=255}function ve(b,j,$,I,q){var K;for(K=0;K<q;++K)$[I+K]=b[j+K]>>8}function je(){ss=k,Jn=G,Un=de,$r=ve}function Me(b,j,$){M[b]=function(I,q,K,Z,te,ie,le,ye,Pe,Ae,Ne,Ge,Oe,we,Se,Ve,Fe){var He,gt=Fe-1>>1,dt=te[ie+0]|le[ye+0]<<16,Ft=Pe[Ae+0]|Ne[Ge+0]<<16;t(I!=null);var ft=3*dt+Ft+131074>>2;for(j(I[q+0],255&ft,ft>>16,Oe,we),K!=null&&(ft=3*Ft+dt+131074>>2,j(K[Z+0],255&ft,ft>>16,Se,Ve)),He=1;He<=gt;++He){var An=te[ie+He]|le[ye+He]<<16,kn=Pe[Ae+He]|Ne[Ge+He]<<16,_n=dt+An+Ft+kn+524296,dn=_n+2*(An+Ft)>>3;ft=dn+dt>>1,dt=(_n=_n+2*(dt+kn)>>3)+An>>1,j(I[q+2*He-1],255&ft,ft>>16,Oe,we+(2*He-1)*$),j(I[q+2*He-0],255&dt,dt>>16,Oe,we+(2*He-0)*$),K!=null&&(ft=_n+Ft>>1,dt=dn+kn>>1,j(K[Z+2*He-1],255&ft,ft>>16,Se,Ve+(2*He-1)*$),j(K[Z+2*He+0],255&dt,dt>>16,Se,Ve+(2*He+0)*$)),dt=An,Ft=kn}1&Fe||(ft=3*dt+Ft+131074>>2,j(I[q+Fe-1],255&ft,ft>>16,Oe,we+(Fe-1)*$),K!=null&&(ft=3*Ft+dt+131074>>2,j(K[Z+Fe-1],255&ft,ft>>16,Se,Ve+(Fe-1)*$)))}}function Ye(){os[fp]=Q2,os[Fl]=Bl,os[Rv]=eb,os[Mf]=ld,os[Ff]=qc,os[Zn]=Wf,os[hp]=lg,os[sd]=Bl,os[Uc]=ld,os[Bf]=qc,os[Vf]=Wf}function mt(b){return b&-16384?0>b?0:255:b>>Vl}function It(b,j){return mt((19077*b>>8)+(26149*j>>8)-14234)}function ln(b,j,$){return mt((19077*b>>8)-(6419*j>>8)-(13320*$>>8)+8708)}function sn(b,j){return mt((19077*b>>8)+(33050*j>>8)-17685)}function wn(b,j,$,I,q){I[q+0]=It(b,$),I[q+1]=ln(b,j,$),I[q+2]=sn(b,j)}function xr(b,j,$,I,q){I[q+0]=sn(b,j),I[q+1]=ln(b,j,$),I[q+2]=It(b,$)}function kr(b,j,$,I,q){var K=ln(b,j,$);j=K<<3&224|sn(b,j)>>3,I[q+0]=248&It(b,$)|K>>5,I[q+1]=j}function Mr(b,j,$,I,q){var K=240&sn(b,j)|15;I[q+0]=240&It(b,$)|ln(b,j,$)>>4,I[q+1]=K}function ki(b,j,$,I,q){I[q+0]=255,wn(b,j,$,I,q+1)}function ci(b,j,$,I,q){xr(b,j,$,I,q),I[q+3]=255}function _a(b,j,$,I,q){wn(b,j,$,I,q),I[q+3]=255}function js(b,j){return 0>b?0:b>j?j:b}function Ks(b,j,$){M[b]=function(I,q,K,Z,te,ie,le,ye,Pe){for(var Ae=ye+(-2&Pe)*$;ye!=Ae;)j(I[q+0],K[Z+0],te[ie+0],le,ye),j(I[q+1],K[Z+0],te[ie+0],le,ye+$),q+=2,++Z,++ie,ye+=2*$;1&Pe&&j(I[q+0],K[Z+0],te[ie+0],le,ye)}}function Dl(b,j,$){return $==0?b==0?j==0?6:5:j==0?4:0:$}function Lf(b,j,$,I,q){switch(b>>>30){case 3:$o(j,$,I,q,0);break;case 2:Ln(j,$,I,q);break;case 1:$i(j,$,I,q)}}function Gu(b,j){var $,I,q=j.M,K=j.Nb,Z=b.oc,te=b.pc+40,ie=b.oc,le=b.pc+584,ye=b.oc,Pe=b.pc+600;for($=0;16>$;++$)Z[te+32*$-1]=129;for($=0;8>$;++$)ie[le+32*$-1]=129,ye[Pe+32*$-1]=129;for(0<q?Z[te-1-32]=ie[le-1-32]=ye[Pe-1-32]=129:(i(Z,te-32-1,127,21),i(ie,le-32-1,127,9),i(ye,Pe-32-1,127,9)),I=0;I<b.za;++I){var Ae=j.ya[j.aa+I];if(0<I){for($=-1;16>$;++$)r(Z,te+32*$-4,Z,te+32*$+12,4);for($=-1;8>$;++$)r(ie,le+32*$-4,ie,le+32*$+4,4),r(ye,Pe+32*$-4,ye,Pe+32*$+4,4)}var Ne=b.Gd,Ge=b.Hd+I,Oe=Ae.ad,we=Ae.Hc;if(0<q&&(r(Z,te-32,Ne[Ge].y,0,16),r(ie,le-32,Ne[Ge].f,0,8),r(ye,Pe-32,Ne[Ge].ea,0,8)),Ae.Za){var Se=Z,Ve=te-32+16;for(0<q&&(I>=b.za-1?i(Se,Ve,Ne[Ge].y[15],4):r(Se,Ve,Ne[Ge+1].y,0,4)),$=0;4>$;$++)Se[Ve+128+$]=Se[Ve+256+$]=Se[Ve+384+$]=Se[Ve+0+$];for($=0;16>$;++$,we<<=2)Se=Z,Ve=te+cg[$],Xs[Ae.Ob[$]](Se,Ve),Lf(we,Oe,16*+$,Se,Ve)}else if(Se=Dl(I,q,Ae.Ob[0]),Ki[Se](Z,te),we!=0)for($=0;16>$;++$,we<<=2)Lf(we,Oe,16*+$,Z,te+cg[$]);for($=Ae.Gc,Se=Dl(I,q,Ae.Dd),as[Se](ie,le),as[Se](ye,Pe),we=Oe,Se=ie,Ve=le,255&(Ae=$>>0)&&(170&Ae?Ro(we,256,Se,Ve):Ps(we,256,Se,Ve)),Ae=ye,we=Pe,255&($>>=8)&&(170&$?Ro(Oe,320,Ae,we):Ps(Oe,320,Ae,we)),q<b.Ub-1&&(r(Ne[Ge].y,0,Z,te+480,16),r(Ne[Ge].f,0,ie,le+224,8),r(Ne[Ge].ea,0,ye,Pe+224,8)),$=8*K*b.B,Ne=b.sa,Ge=b.ta+16*I+16*K*b.R,Oe=b.qa,Ae=b.ra+8*I+$,we=b.Ha,Se=b.Ia+8*I+$,$=0;16>$;++$)r(Ne,Ge+$*b.R,Z,te+32*$,16);for($=0;8>$;++$)r(Oe,Ae+$*b.B,ie,le+32*$,8),r(we,Se+$*b.B,ye,Pe+32*$,8)}}function Dc(b,j,$,I,q,K,Z,te,ie){var le=[0],ye=[0],Pe=0,Ae=ie!=null?ie.kd:0,Ne=ie??new Tl;if(b==null||12>$)return 7;Ne.data=b,Ne.w=j,Ne.ha=$,j=[j],$=[$],Ne.gb=[Ne.gb];e:{var Ge=j,Oe=$,we=Ne.gb;if(t(b!=null),t(Oe!=null),t(we!=null),we[0]=0,12<=Oe[0]&&!n(b,Ge[0],"RIFF")){if(n(b,Ge[0]+8,"WEBP")){we=3;break e}var Se=Qe(b,Ge[0]+4);if(12>Se||4294967286<Se){we=3;break e}if(Ae&&Se>Oe[0]-8){we=7;break e}we[0]=Se,Ge[0]+=12,Oe[0]-=12}we=0}if(we!=0)return we;for(Se=0<Ne.gb[0],$=$[0];;){e:{var Ve=b;Oe=j,we=$;var Fe=le,He=ye,gt=Ge=[0];if((ft=Pe=[Pe])[0]=0,8>we[0])we=7;else{if(!n(Ve,Oe[0],"VP8X")){if(Qe(Ve,Oe[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var dt=Qe(Ve,Oe[0]+8),Ft=1+qe(Ve,Oe[0]+12);if(2147483648<=Ft*(Ve=1+qe(Ve,Oe[0]+15))){we=3;break e}gt!=null&&(gt[0]=dt),Fe!=null&&(Fe[0]=Ft),He!=null&&(He[0]=Ve),Oe[0]+=18,we[0]-=18,ft[0]=1}we=0}}if(Pe=Pe[0],Ge=Ge[0],we!=0)return we;if(Oe=!!(2&Ge),!Se&&Pe)return 3;if(K!=null&&(K[0]=!!(16&Ge)),Z!=null&&(Z[0]=Oe),te!=null&&(te[0]=0),Z=le[0],Ge=ye[0],Pe&&Oe&&ie==null){we=0;break}if(4>$){we=7;break}if(Se&&Pe||!Se&&!Pe&&!n(b,j[0],"ALPH")){$=[$],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{dt=b,we=j,Se=$;var ft=Ne.gb;Fe=Ne.na,He=Ne.P,gt=Ne.Sa,Ft=22,t(dt!=null),t(Se!=null),Ve=we[0];var An=Se[0];for(t(Fe!=null),t(gt!=null),Fe[0]=null,He[0]=null,gt[0]=0;;){if(we[0]=Ve,Se[0]=An,8>An){we=7;break e}var kn=Qe(dt,Ve+4);if(4294967286<kn){we=3;break e}var _n=8+kn+1&-2;if(Ft+=_n,0<ft&&Ft>ft){we=3;break e}if(!n(dt,Ve,"VP8 ")||!n(dt,Ve,"VP8L")){we=0;break e}if(An[0]<_n){we=7;break e}n(dt,Ve,"ALPH")||(Fe[0]=dt,He[0]=Ve+8,gt[0]=kn),Ve+=_n,An-=_n}}if($=$[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],we!=0)break}$=[$],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(ft=b,we=j,Se=$,Fe=Ne.gb[0],He=Ne.Ja,gt=Ne.xa,dt=we[0],Ve=!n(ft,dt,"VP8 "),Ft=!n(ft,dt,"VP8L"),t(ft!=null),t(Se!=null),t(He!=null),t(gt!=null),8>Se[0])we=7;else{if(Ve||Ft){if(ft=Qe(ft,dt+4),12<=Fe&&ft>Fe-12){we=3;break e}if(Ae&&ft>Se[0]-8){we=7;break e}He[0]=ft,we[0]+=8,Se[0]-=8,gt[0]=Ft}else gt[0]=5<=Se[0]&&ft[dt+0]==47&&!(ft[dt+4]>>5),He[0]=Se[0];we=0}if($=$[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],j=j[0],we!=0)break;if(4294967286<Ne.Ja)return 3;if(te==null||Oe||(te[0]=Ne.xa?2:1),Z=[Z],Ge=[Ge],Ne.xa){if(5>$){we=7;break}te=Z,Ae=Ge,Oe=K,b==null||5>$?b=0:5<=$&&b[j+0]==47&&!(b[j+4]>>5)?(Se=[0],ft=[0],Fe=[0],z(He=new B,b,j,$),Mt(He,Se,ft,Fe)?(te!=null&&(te[0]=Se[0]),Ae!=null&&(Ae[0]=ft[0]),Oe!=null&&(Oe[0]=Fe[0]),b=1):b=0):b=0}else{if(10>$){we=7;break}te=Ge,b==null||10>$||!ip(b,j+3,$-3)?b=0:(Ae=b[j+0]|b[j+1]<<8|b[j+2]<<16,Oe=16383&(b[j+7]<<8|b[j+6]),b=16383&(b[j+9]<<8|b[j+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=Ne.Ja||!Oe||!b?b=0:(Z&&(Z[0]=Oe),te&&(te[0]=b),b=1))}if(!b||(Z=Z[0],Ge=Ge[0],Pe&&(le[0]!=Z||ye[0]!=Ge)))return 3;ie!=null&&(ie[0]=Ne,ie.offset=j-ie.w,t(4294967286>j-ie.w),t(ie.offset==ie.ha-$));break}return we==0||we==7&&Pe&&ie==null?(K!=null&&(K[0]|=Ne.na!=null&&0<Ne.na.length),I!=null&&(I[0]=Z),q!=null&&(q[0]=Ge),0):we}function Ku(b,j,$){var I=j.width,q=j.height,K=0,Z=0,te=I,ie=q;if(j.Da=b!=null&&0<b.Da,j.Da&&(te=b.cd,ie=b.bd,K=b.v,Z=b.j,11>$||(K&=-2,Z&=-2),0>K||0>Z||0>=te||0>=ie||K+te>I||Z+ie>q))return 0;if(j.v=K,j.j=Z,j.va=K+te,j.o=Z+ie,j.U=te,j.T=ie,j.da=b!=null&&0<b.da,j.da){if(!Dt(te,ie,$=[b.ib],K=[b.hb]))return 0;j.ib=$[0],j.hb=K[0]}return j.ob=b!=null&&b.ob,j.Kb=b==null||!b.Sd,j.da&&(j.ob=j.ib<3*I/4&&j.hb<3*q/4,j.Kb=0),1}function Yu(b){if(b==null)return 2;if(11>b.S){var j=b.f.RGBA;j.fb+=(b.height-1)*j.A,j.A=-j.A}else j=b.f.kb,b=b.height,j.O+=(b-1)*j.fa,j.fa=-j.fa,j.N+=(b-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(b-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(b-1)*j.lb,j.lb=-j.lb);return 0}function Oc(b,j,$,I){if(I==null||0>=b||0>=j)return 2;if($!=null){if($.Da){var q=$.cd,K=$.bd,Z=-2&$.v,te=-2&$.j;if(0>Z||0>te||0>=q||0>=K||Z+q>b||te+K>j)return 2;b=q,j=K}if($.da){if(!Dt(b,j,q=[$.ib],K=[$.hb]))return 2;b=q[0],j=K[0]}}I.width=b,I.height=j;e:{var ie=I.width,le=I.height;if(b=I.S,0>=ie||0>=le||!(b>=fp&&13>b))b=2;else{if(0>=I.Rd&&I.sd==null){Z=K=q=j=0;var ye=(te=ie*Hf[b])*le;if(11>b||(K=(le+1)/2*(j=(ie+1)/2),b==12&&(Z=(q=ie)*le)),(le=s(ye+2*K+Z))==null){b=1;break e}I.sd=le,11>b?((ie=I.f.RGBA).eb=le,ie.fb=0,ie.A=te,ie.size=ye):((ie=I.f.kb).y=le,ie.O=0,ie.fa=te,ie.Fd=ye,ie.f=le,ie.N=0+ye,ie.Ab=j,ie.Cd=K,ie.ea=le,ie.W=0+ye+K,ie.Db=j,ie.Ed=K,b==12&&(ie.F=le,ie.J=0+ye+2*K),ie.Tc=Z,ie.lb=q)}if(j=1,q=I.S,K=I.width,Z=I.height,q>=fp&&13>q)if(11>q)b=I.f.RGBA,j&=(te=Math.abs(b.A))*(Z-1)+K<=b.size,j&=te>=K*Hf[q],j&=b.eb!=null;else{b=I.f.kb,te=(K+1)/2,ye=(Z+1)/2,ie=Math.abs(b.fa),le=Math.abs(b.Ab);var Pe=Math.abs(b.Db),Ae=Math.abs(b.lb),Ne=Ae*(Z-1)+K;j&=ie*(Z-1)+K<=b.Fd,j&=le*(ye-1)+te<=b.Cd,j=(j&=Pe*(ye-1)+te<=b.Ed)&ie>=K&le>=te&Pe>=te,j&=b.y!=null,j&=b.f!=null,j&=b.ea!=null,q==12&&(j&=Ae>=K,j&=Ne<=b.Tc,j&=b.F!=null)}else j=0;b=j?0:2}}return b!=0||$!=null&&$.fd&&(b=Yu(I)),b}var Er=64,Xu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ju=24,Zu=32,Qu=8,Wi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];oe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(b){return b},M.Predictor2=function(b,j,$){return j[$+0]},M.Predictor3=function(b,j,$){return j[$+1]},M.Predictor4=function(b,j,$){return j[$-1]},M.Predictor5=function(b,j,$){return _e(_e(b,j[$+1]),j[$+0])},M.Predictor6=function(b,j,$){return _e(b,j[$-1])},M.Predictor7=function(b,j,$){return _e(b,j[$+0])},M.Predictor8=function(b,j,$){return _e(j[$-1],j[$+0])},M.Predictor9=function(b,j,$){return _e(j[$+0],j[$+1])},M.Predictor10=function(b,j,$){return _e(_e(b,j[$-1]),_e(j[$+0],j[$+1]))},M.Predictor11=function(b,j,$){var I=j[$+0];return 0>=Ie(I>>24&255,b>>24&255,(j=j[$-1])>>24&255)+Ie(I>>16&255,b>>16&255,j>>16&255)+Ie(I>>8&255,b>>8&255,j>>8&255)+Ie(255&I,255&b,255&j)?I:b},M.Predictor12=function(b,j,$){var I=j[$+0];return(Be((b>>24&255)+(I>>24&255)-((j=j[$-1])>>24&255))<<24|Be((b>>16&255)+(I>>16&255)-(j>>16&255))<<16|Be((b>>8&255)+(I>>8&255)-(j>>8&255))<<8|Be((255&b)+(255&I)-(255&j)))>>>0},M.Predictor13=function(b,j,$){var I=j[$-1];return(We((b=_e(b,j[$+0]))>>24&255,I>>24&255)<<24|We(b>>16&255,I>>16&255)<<16|We(b>>8&255,I>>8&255)<<8|We(b>>0&255,I>>0&255))>>>0};var Ic=M.PredictorAdd0;M.PredictorAdd1=et,oe("Predictor2","PredictorAdd2"),oe("Predictor3","PredictorAdd3"),oe("Predictor4","PredictorAdd4"),oe("Predictor5","PredictorAdd5"),oe("Predictor6","PredictorAdd6"),oe("Predictor7","PredictorAdd7"),oe("Predictor8","PredictorAdd8"),oe("Predictor9","PredictorAdd9"),oe("Predictor10","PredictorAdd10"),oe("Predictor11","PredictorAdd11"),oe("Predictor12","PredictorAdd12"),oe("Predictor13","PredictorAdd13");var Ao=M.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var dp,Hi=M.ColorIndexInverseTransform,ed=M.MapARGB,Df=M.VP8LColorIndexInverseTransformAlpha,td=M.MapAlpha,Xa=M.VP8LPredictorsAdd=[];Xa.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Ol,qi,Ei,Il,ko,Eo,nd,$o,Ln,Ro,$i,Ps,Mc,Of,Fc,Bc,Vc,As,To,Ja,Lo,Do,Ml,xi,ss,Jn,Un,$r,Fr=s(511),Za=s(2041),rd=s(225),zc=s(767),If=0,Qa=Za,id=rd,Gi=zc,Ys=Fr,fp=0,Fl=1,Rv=2,Mf=3,Ff=4,Zn=5,hp=6,sd=7,Uc=8,Bf=9,Vf=10,zf=[2,3,7],pp=[3,3,11],Wc=[280,256,256,256,40],Tv=[0,1,1,1,0],Y2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],X2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mp=8,ad=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hc=null,sg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ag=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ov=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],J2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Z2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],og=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],Xs=[],as=[],eo=1,od=2,Ri=[],os=[];Me("UpsampleRgbLinePair",wn,3),Me("UpsampleBgrLinePair",xr,3),Me("UpsampleRgbaLinePair",_a,4),Me("UpsampleBgraLinePair",ci,4),Me("UpsampleArgbLinePair",ki,4),Me("UpsampleRgba4444LinePair",Mr,2),Me("UpsampleRgb565LinePair",kr,2);var Q2=M.UpsampleRgbLinePair,eb=M.UpsampleBgrLinePair,Bl=M.UpsampleRgbaLinePair,ld=M.UpsampleBgraLinePair,qc=M.UpsampleArgbLinePair,Wf=M.UpsampleRgba4444LinePair,lg=M.UpsampleRgb565LinePair,Oo=16,Ca=1<<Oo-1,Wn=-227,Gn=482,Vl=6,bi=0,ls=s(256),Gc=s(256),cd=s(256),cs=s(256),gp=s(Gn-Wn),Iv=s(Gn-Wn);Ks("YuvToRgbRow",wn,3),Ks("YuvToBgrRow",xr,3),Ks("YuvToRgbaRow",_a,4),Ks("YuvToBgraRow",ci,4),Ks("YuvToArgbRow",ki,4),Ks("YuvToRgba4444Row",Mr,2),Ks("YuvToRgb565Row",kr,2);var cg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kc=[0,2,8],Mv=[8,7,6,4,4,2,2,2,1,1,1,1],Io=1;this.WebPDecodeRGBA=function(b,j,$,I,q){var K=Fl,Z=new Ya,te=new pr;Z.ba=te,te.S=K,te.width=[te.width],te.height=[te.height];var ie=te.width,le=te.height,ye=new qr;if(ye==null||b==null)var Pe=2;else t(ye!=null),Pe=Dc(b,j,$,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Pe!=0?ie=0:(ie!=null&&(ie[0]=ye.width[0]),le!=null&&(le[0]=ye.height[0]),ie=1),ie){te.width=te.width[0],te.height=te.height[0],I!=null&&(I[0]=te.width),q!=null&&(q[0]=te.height);e:{if(I=new Lu,(q=new Tl).data=b,q.w=j,q.ha=$,q.kd=1,j=[0],t(q!=null),((b=Dc(q.data,q.w,q.ha,null,null,null,j,null,q))==0||b==7)&&j[0]&&(b=4),(j=b)==0){if(t(Z!=null),I.data=q.data,I.w=q.w+q.offset,I.ha=q.ha-q.offset,I.put=Ws,I.ac=li,I.bc=ma,I.ma=Z,q.xa){if((b=_s())==null){Z=1;break e}if(function(Ae,Ne){var Ge=[0],Oe=[0],we=[0];t:for(;;){if(Ae==null)return 0;if(Ne==null)return Ae.a=2,0;if(Ae.l=Ne,Ae.a=0,z(Ae.m,Ne.data,Ne.w,Ne.ha),!Mt(Ae.m,Ge,Oe,we)){Ae.a=3;break t}if(Ae.xb=od,Ne.width=Ge[0],Ne.height=Oe[0],!Wa(Ge[0],Oe[0],1,Ae,null))break t;return 1}return t(Ae.a!=0),0}(b,I)){if(I=(j=Oc(I.width,I.height,Z.Oa,Z.ba))==0){t:{I=b;n:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t(($=I.l)!=null),t((q=$.ma)!=null),I.xb!=0){if(I.ca=q.ba,I.tb=q.tb,t(I.ca!=null),!Ku(q.Oa,$,Mf)){I.a=2;break n}if(!Cl(I,$.width)||$.da)break n;if(($.da||Gt(I.ca.S))&&je(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&je()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!yt(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!yi(I,I.V,I.Ba,I.c,I.i,$.o,_l))break n;q.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(j=b.a)}else j=b.a}else{if((b=new Cs)==null){Z=1;break e}if(b.Fa=q.na,b.P=q.P,b.qc=q.Sa,sp(b,I)){if((j=Oc(I.width,I.height,Z.Oa,Z.ba))==0){if(b.Aa=0,$=Z.Oa,t((q=b)!=null),$!=null){if(0<(ie=0>(ie=$.Md)?0:100<ie?255:255*ie/100)){for(le=ye=0;4>le;++le)12>(Pe=q.pb[le]).lc&&(Pe.ia=ie*Mv[0>Pe.lc?0:Pe.lc]>>3),ye|=Pe.ia;ye&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=$.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}jc(b,I)||(j=b.a)}}else j=b.a}j==0&&Z.Oa!=null&&Z.Oa.fd&&(j=Yu(Z.ba))}Z=j}K=Z!=0?null:11>K?te.f.RGBA.eb:te.f.kb.y}else K=null;return K};var Hf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,U){for(var ee="",F=0;F<4;F++)ee+=String.fromCharCode(M[U++]);return ee}function f(M,U){return(M[U+0]<<0|M[U+1]<<8|M[U+2]<<16)>>>0}function h(M,U){return(M[U+0]<<0|M[U+1]<<8|M[U+2]<<16|M[U+3]<<24)>>>0}new c;var g=[0],m=[0],x=[],y=new c,S=e,_=function(M,U){var ee={},F=0,O=!1,H=0,V=0;if(ee.frames=[],!function(Q,re,ce,ue){for(var he=0;he<ue;he++)if(Q[re+he]!=ce.charCodeAt(he))return!0;return!1}(M,U,"RIFF",4)){for(h(M,U+=4),U+=8;U<M.length;){var ae=u(M,U),J=h(M,U+=4);U+=4;var W=J+(1&J);switch(ae){case"VP8 ":case"VP8L":ee.frames[F]===void 0&&(ee.frames[F]={}),(se=ee.frames[F]).src_off=O?V:U-8,se.src_size=H+J+8,F++,O&&(O=!1,H=0,V=0);break;case"VP8X":(se=ee.header={}).feature_flags=M[U];var z=U+4;se.canvas_width=1+f(M,z),z+=3,se.canvas_height=1+f(M,z),z+=3;break;case"ALPH":O=!0,H=W+8,V=U-8;break;case"ANIM":(se=ee.header).bgcolor=h(M,U),z=U+4,se.loop_count=(X=M)[(B=z)+0]<<0|X[B+1]<<8,z+=2;break;case"ANMF":var ne,se;(se=ee.frames[F]={}).offset_x=2*f(M,U),U+=3,se.offset_y=2*f(M,U),U+=3,se.width=1+f(M,U),U+=3,se.height=1+f(M,U),U+=3,se.duration=f(M,U),U+=3,ne=M[U++],se.dispose=1&ne,se.blend=ne>>1&1}ae!="ANMF"&&(U+=W)}var X,B;return ee}}(S,0);_.response=S,_.rgbaoutput=!0,_.dataurl=!1;var C=_.header?_.header:null,P=_.frames?_.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],m=[C.canvas_width];for(var A=0;A<P.length&&P[A].blend!=0;A++);}var R=P[0],D=y.WebPDecodeRGBA(S,R.src_off,R.src_size,m,g);R.rgba=D,R.imgwidth=m[0],R.imgheight=g[0];for(var T=0;T<m[0]*g[0]*4;T++)x[T]=D[T];return this.width=m,this.height=g,this.data=x,this}(function(e){var t=function(){return typeof U3=="function"},n=function(g,m,x,y){var S=4,_=a;switch(y){case e.image_compression.FAST:S=1,_=s;break;case e.image_compression.MEDIUM:S=6,_=o;break;case e.image_compression.SLOW:S=9,_=c}g=r(g,m,x,_);var C=U3(g,{level:S});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(g,m,x,y){for(var S,_,C,P=g.length/m,A=new Uint8Array(g.length+P),R=f(),D=0;D<P;D+=1){if(C=D*m,S=g.subarray(C,C+m),y)A.set(y(S,x,_),C+D);else{for(var T,M=R.length,U=[];T<M;T+=1)U[T]=R[T](S,x,_);var ee=h(U.concat());A.set(U[ee],C+D)}_=S}return A},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var x,y=[],S=g.length;y[0]=1;for(var _=0;_<S;_+=1)x=g[_-m]||0,y[_+1]=g[_]-x+256&255;return y},a=function(g,m,x){var y,S=[],_=g.length;S[0]=2;for(var C=0;C<_;C+=1)y=x&&x[C]||0,S[C+1]=g[C]-y+256&255;return S},o=function(g,m,x){var y,S,_=[],C=g.length;_[0]=3;for(var P=0;P<C;P+=1)y=g[P-m]||0,S=x&&x[P]||0,_[P+1]=g[P]+256-(y+S>>>1)&255;return _},c=function(g,m,x){var y,S,_,C,P=[],A=g.length;P[0]=4;for(var R=0;R<A;R+=1)y=g[R-m]||0,S=x&&x[R]||0,_=x&&x[R-m]||0,C=u(y,S,_),P[R+1]=g[R]-C+256&255;return P},u=function(g,m,x){if(g===m&&m===x)return g;var y=Math.abs(m-x),S=Math.abs(g-x),_=Math.abs(g+m-x-x);return y<=S&&y<=_?g:S<=_?m:x},f=function(){return[i,s,a,o,c]},h=function(g){var m=g.map(function(x){return x.reduce(function(y,S){return y+Math.abs(S)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,x,y){var S,_,C,P,A,R,D,T,M,U,ee,F,O,H,V,ae=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(C=new Fue(g)).imgData,_=C.bits,S=C.colorSpace,A=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){M=(T=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,ee=new Uint8Array(M*C.colors),U=new Uint8Array(M);var W,z=C.pixelBitlength-C.bits;for(H=0,V=0;H<M;H++){for(O=T[H],W=0;W<z;)ee[V++]=O>>>W&255,W+=C.bits;U[H]=O>>>W&255}}if(C.bits===16){M=(T=new Uint32Array(C.decodePixels().buffer)).length,ee=new Uint8Array(M*(32/C.pixelBitlength)*C.colors),U=new Uint8Array(M*(32/C.pixelBitlength)),F=C.colors>1,H=0,V=0;for(var ne=0;H<M;)O=T[H++],ee[V++]=O>>>0&255,F&&(ee[V++]=O>>>16&255,O=T[H++],ee[V++]=O>>>0&255),U[ne++]=O>>>16&255;_=8}y!==e.image_compression.NONE&&t()?(g=n(ee,C.width*C.colors,C.colors,y),D=n(U,C.width,1,y)):(g=ee,D=U,ae=void 0)}if(C.colorType===3&&(S=this.color_spaces.INDEXED,R=C.palette,C.transparency.indexed)){var se=C.transparency.indexed,X=0;for(H=0,M=se.length;H<M;++H)X+=se[H];if((X/=255)===M-1&&se.indexOf(0)!==-1)P=[se.indexOf(0)];else if(X!==M){for(T=C.decodePixels(),U=new Uint8Array(T.length),H=0,M=T.length;H<M;H++)U[H]=se[T[H]];D=n(U,C.width,1)}}var B=function(Q){var re;switch(Q){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(y);return ae===this.decode.FLATE_DECODE&&(J="/Predictor "+B+" "),J+="/Colors "+A+" /BitsPerComponent "+_+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:x,data:g,index:m,filter:ae,decodeParameters:J,transparency:P,palette:R,sMask:D,predictor:B,width:C.width,height:C.height,bitsPerComponent:_,colorSpace:S}}}})(Kt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new Bue(t),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},f=new Mw(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(Kt.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ir.log("bit decode error:"+n)}},Xo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Xo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Xo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=u}this.pos+=e}},Xo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Xo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Xo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Xo(t,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new Mw(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(Kt.API),p8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new p8(t),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new Mw(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(Kt.API),Kt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var f=r[u],h=r[u+1],g=r[u+2],m=r[u+3];s[o++]=f,s[o++]=h,s[o++]=g,a[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Kt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vp=Kt.API,R1=Vp.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=t.doKerning!==!1,g=0,m=e.length,x=0,y=o[0]||c,S=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=h&&Yn(u[r])==="object"&&!isNaN(parseInt(u[r][x],10))?u[r][x]/f:0,S.push((o[r]||y)/c+g)),x=r;return S},u8=Vp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Vp.processArabic&&(e=Vp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:R1.apply(this,arguments).reduce(function(s,a){return s+a},0)},d8=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var c=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},f8=function(e,t,n){n||(n={});var r,i,s,a,o,c,u,f=[],h=[f],g=n.textIndent||0,m=0,x=0,y=e.split(" "),S=R1.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var _=Array(c).join(" "),C=[];y.map(function(A){(A=A.split(/\s*\n/)).length>1?C=C.concat(A.map(function(R,D){return(D&&R.length?`
`:"")+R})):C.push(A[0])}),y=C,c=u8.apply(this,[_,n])}for(s=0,a=y.length;s<a;s++){var P=0;if(r=y[s],c&&r[0]==`
`&&(r=r.substr(1),P=1),g+m+(x=(i=R1.apply(this,[r,n])).reduce(function(A,R){return A+R},0))>t||P){if(x>t){for(o=d8.apply(this,[r,i,t-(g+m),t]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(A,R){return A+R},0)}else f=[r];h.push(f),g=x+c,m=S}else f.push(r),g+=m+x,m=S}return u=c?function(A,R){return(R?_:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(u)},Vp.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(f8.apply(this,[r[o],a,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var g,m,x,y,S=["{"];for(var _ in h){if(g=h[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=s(_).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(x=s(g).slice(3),y="-"):(x=s(g).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Yn(g)!=="object")throw new Error("Don't know what to do with value type "+Yn(g)+".");x=a(g)}S.push(m+x)}return S.push("}"),S.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,x,y,S={},_=1,C=S,P=[],A="",R="",D=h.length-1,T=1;T<D;T+=1)(y=h[T])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(P.push([C,x]),C={},x=void 0):y=="}"?((m=P.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?_=-1:x===void 0?n.hasOwnProperty(y)?(A+=n[y],x=parseInt(A,16)*_,_=1,A=""):A+=y:n.hasOwnProperty(y)?(R+=n[y],C[x]=parseInt(R,16)*_,_=1,x=void 0,R=""):R+=y;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var g=h.font,m=f.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var x=u.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(Kt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(l0(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Kt),function(e){function t(){return(Zt.canvg?Promise.resolve(Zt.canvg):of(()=>import("./index.es-CqBEHDD5.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Kt.API.addSvgAsImage=function(n,r,i,s,a,o,c,u){if(isNaN(r)||isNaN(i))throw ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(x){return x.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,s,a,c,u)})}}(),Kt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Kt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,f=0,h=0;function g(x,y){var S,_=!1;for(S=0;S<x.length;S+=1)x[S]===y&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(h=0;h<m;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Yn(e)==="object"){for(i in e)if(s=e[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?y.push("/"+x+" /"+n[x].value):y.push("/"+x+" "+n[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Kt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,g=s.length;h<g;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},r=function(s){var a,o,c,u,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(o=Object.keys(s).sort(function(m,x){return m-x})).length;h<g;h++)a=o[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",x=0;x<g.length;x++)m+=String.fromCharCode(g[x]);var y=u();f({data:m,addLength1:!0,objectId:y}),c("endobj");var S=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var _=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+im(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var C=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+im(o.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+im(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,g="",m=0;m<h.length;m++)g+=String.fromCharCode(h[m]);var x=u();f({data:g,addLength1:!0,objectId:x}),c("endobj");var y=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+im(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+im(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,u=s.y,f=s.options||{},h=s.mutex||{},g=h.pdfEscape,m=h.activeFontKey,x=h.fonts,y=m,S="",_=0,C="",P=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:f,mutex:h};for(C=o,y=m,Array.isArray(o)&&(C=o[0]),_=0;_<C.length;_+=1)x[y].metadata.hasOwnProperty("cmap")&&(a=x[y].metadata.cmap.unicode.codeMap[C[_].charCodeAt(0)]),a||C[_].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?S+=C[_]:S+="";var A="";return parseInt(y.slice(1))<14||P==="WinAnsiEncoding"?A=g(S,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(A=n(S,x[y])),h.isHex=!0,{text:A,x:c,y:u,options:f,mutex:h}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},c,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(Kt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Kt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,o,c,u,f,h=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,P=0;this.__bidiEngine__={};var A=function(F){var O=F.charCodeAt(),H=O>>8,V=y[H];return V!==void 0?h[256*V+(255&O)]:H===252||H===253?"AL":_.test(H)?"L":H===8?"R":"N"},R=function(F){for(var O,H=0;H<F.length;H++){if((O=A(F.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},D=function(F,O,H,V){var ae,J,W,z,ne=O[V];switch(ne){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ne="AN");break;case"AL":C=!0,ne="R";break;case"WS":ne="N";break;case"CS":V<1||V+1>=O.length||(ae=H[V-1])!=="EN"&&ae!=="AN"||(J=O[V+1])!=="EN"&&J!=="AN"?ne="N":C&&(J="AN"),ne=J===ae?J:"N";break;case"ES":ne=(ae=V>0?H[V-1]:"B")==="EN"&&V+1<O.length&&O[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&H[V-1]==="EN"){ne="EN";break}if(C){ne="N";break}for(W=V+1,z=O.length;W<z&&O[W]==="ET";)W++;ne=W<z&&O[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(z=O.length,W=V+1;W<z&&O[W]==="NSM";)W++;if(W<z){var se=F[V],X=se>=1425&&se<=2303||se===64286;if(ae=O[W],X&&(ae==="R"||ae==="AL")){ne="R";break}}}ne=V<1||(ae=O[V-1])==="B"?"N":H[V-1];break;case"B":C=!1,i=!0,ne=P;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ne="N"}return ne},T=function(F,O,H){var V=F.split("");return H&&M(V,H,{hiLevel:P}),V.reverse(),O&&O.reverse(),V.join("")},M=function(F,O,H){var V,ae,J,W,z,ne=-1,se=F.length,X=0,B=[],Q=P?m:g,re=[];for(C=!1,i=!1,s=!1,ae=0;ae<se;ae++)re[ae]=A(F[ae]);for(J=0;J<se;J++){if(z=X,B[J]=D(F,re,B,J),V=240&(X=Q[z][x[B[J]]]),X&=15,O[J]=W=Q[X][5],V>0)if(V===16){for(ae=ne;ae<J;ae++)O[ae]=1;ne=-1}else ne=-1;if(Q[X][6])ne===-1&&(ne=J);else if(ne>-1){for(ae=ne;ae<J;ae++)O[ae]=W;ne=-1}re[J]==="B"&&(O[J]=0),H.hiLevel|=W}s&&function(ce,ue,he){for(var ge=0;ge<he;ge++)if(ce[ge]==="S"){ue[ge]=P;for(var be=ge-1;be>=0&&ce[be]==="WS";be--)ue[be]=P}}(re,O,se)},U=function(F,O,H,V,ae){if(!(ae.hiLevel<F)){if(F===1&&P===1&&!i)return O.reverse(),void(H&&H.reverse());for(var J,W,z,ne,se=O.length,X=0;X<se;){if(V[X]>=F){for(z=X+1;z<se&&V[z]>=F;)z++;for(ne=X,W=z-1;ne<W;ne++,W--)J=O[ne],O[ne]=O[W],O[W]=J,H&&(J=H[ne],H[ne]=H[W],H[W]=J);X=z}X++}}},ee=function(F,O,H){var V=F.split(""),ae={hiLevel:P};return H||(H=[]),M(V,H,ae),function(J,W,z){if(z.hiLevel!==0&&f)for(var ne,se=0;se<J.length;se++)W[se]===1&&(ne=S.indexOf(J[se]))>=0&&(J[se]=S[ne+1])}(V,H,ae),U(2,V,O,H,ae),U(1,V,O,H,ae),V.join("")};return this.__bidiEngine__.doBidiReorder=function(F,O,H){if(function(ae,J){if(J)for(var W=0;W<ae.length;W++)J[W]=W;o===void 0&&(o=R(ae)),u===void 0&&(u=R(ae))}(F,O),a||!c||u)if(a&&c&&o^u)P=o?1:0,F=T(F,O,H);else if(!a&&c&&u)P=o?1:0,F=ee(F,O,H),F=T(F,O);else if(!a||o||c||u){if(a&&!c&&o^u)F=T(F,O),o?(P=0,F=ee(F,O,H)):(P=1,F=ee(F,O,H),F=T(F,O));else if(a&&o&&!c&&u)P=1,F=ee(F,O,H),F=T(F,O);else if(!a&&!c&&o^u){var V=f;o?(P=1,F=ee(F,O,H),P=0,f=!1,F=ee(F,O,H),f=V):(P=0,F=ee(F,O,H),F=T(F,O),P=1,f=!1,F=ee(F,O,H),f=V,F=T(F,O))}}else P=0,F=ee(F,O,H);else P=o?1:0,F=ee(F,O,H);return F},this.__bidiEngine__.setOptions=function(F){F&&(a=F.isInputVisual,c=F.isOutputVisual,o=F.isInputRtl,u=F.isOutputRtl,f=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Kt),Kt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new cf(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new tde(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Vue(this.contents),this.head=new Uue(this),this.name=new Kue(this),this.cmap=new $D(this),this.toUnicode={},this.hhea=new Wue(this),this.maxp=new Yue(this),this.hmtx=new Xue(this),this.post=new que(this),this.os2=new Hue(this),this.loca=new ede(this),this.glyf=new Jue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var xl,cf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,o,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Vue=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,o,c,u,f,h,g,m,x,y;for(y in m=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),a=Math.floor(h/c),f=16*m-h,(i=new cf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(a),i.writeShort(f),s=16*m,u=i.pos+s,o=null,x=[],n)for(g=n[y],i.writeString(y),i.writeInt(e(g)),i.writeInt(u),i.writeInt(g.length),x=x.concat(g),y==="head"&&(o=u),u+=g.length;u%4;)x.push(0),u++;return i.write(x),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=RD.call(n);n.length%4;)n.push(0);for(s=new cf(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),zue={}.hasOwnProperty,yc=function(e,t){for(var n in t)zue.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};xl=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Uue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new cf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),m8=function(){function e(t,n){var r,i,s,a,o,c,u,f,h,g,m,x,y,S,_,C,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var A,R;for(R=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)R.push(t.readUInt16());return R}(),t.pos+=2,y=function(){var A,R;for(R=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)R.push(t.readUInt16());return R}(),u=function(){var A,R;for(R=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)R.push(t.readUInt16());return R}(),f=function(){var A,R;for(R=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)R.push(t.readUInt16());return R}(),i=(this.length-t.pos+this.offset)/2,o=function(){var A,R;for(R=[],c=A=0;0<=i?A<i:A>i;c=0<=i?++A:--A)R.push(t.readUInt16());return R}(),c=_=0,P=s.length;_<P;c=++_)for(S=s[c],r=C=x=y[c];x<=S?C<=S:C>=S;r=x<=S?++C:--C)f[c]===0?a=r+u[c]:(a=o[f[c]/2+(r-x)-(g-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}t.pos=h}return e.encode=function(t,n){var r,i,s,a,o,c,u,f,h,g,m,x,y,S,_,C,P,A,R,D,T,M,U,ee,F,O,H,V,ae,J,W,z,ne,se,X,B,Q,re,ce,ue,he,ge,be,Le,$e,qe;switch(V=new cf,a=Object.keys(t).sort(function(Qe,yt){return Qe-yt}),n){case"macroman":for(y=0,S=function(){var Qe=[];for(x=0;x<256;++x)Qe.push(0);return Qe}(),C={0:0},s={},ae=0,ne=a.length;ae<ne;ae++)C[be=t[i=a[ae]]]==null&&(C[be]=++y),s[i]={old:t[i],new:C[t[i]]},S[i]=C[t[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(S),{charMap:s,subtable:V.data,maxGlyphID:y+1};case"unicode":for(O=[],h=[],P=0,C={},r={},_=u=null,J=0,se=a.length;J<se;J++)C[R=t[i=a[J]]]==null&&(C[R]=++P),r[i]={old:R,new:C[R]},o=C[R]-i,_!=null&&o===u||(_&&h.push(_),O.push(i),u=o),_=i;for(_&&h.push(_),h.push(65535),O.push(65535),ee=2*(U=O.length),M=2*Math.pow(Math.log(U)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,T=2*U-M,c=[],D=[],m=[],x=W=0,X=O.length;W<X;x=++W){if(F=O[x],f=h[x],F===65535){c.push(0),D.push(0);break}if(F-(H=r[F].new)>=32768)for(c.push(0),D.push(2*(m.length+U-x)),i=z=F;F<=f?z<=f:z>=f;i=F<=f?++z:--z)m.push(r[i].new);else c.push(H-F),D.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*U+2*m.length),V.writeUInt16(0),V.writeUInt16(ee),V.writeUInt16(M),V.writeUInt16(g),V.writeUInt16(T),he=0,B=h.length;he<B;he++)i=h[he],V.writeUInt16(i);for(V.writeUInt16(0),ge=0,Q=O.length;ge<Q;ge++)i=O[ge],V.writeUInt16(i);for(Le=0,re=c.length;Le<re;Le++)o=c[Le],V.writeUInt16(o);for($e=0,ce=D.length;$e<ce;$e++)A=D[$e],V.writeUInt16(A);for(qe=0,ue=m.length;qe<ue;qe++)y=m[qe],V.writeUInt16(y);return{charMap:r,subtable:V.data,maxGlyphID:P+1}}},e}(),$D=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new m8(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=m8.encode(n,r),(s=new cf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),Wue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Hue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),que=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)u.push(n.readUInt32());return u}).call(this)}},t}(),Gue=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Kue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,a,o,c,u,f,h,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},a=h=0,g=i.length;h<g;a=++h)s=i[a],n.pos=s.offset,f=n.readString(s.length),o=new Gue(f,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Yue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Xue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,a,o,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,g,m;for(m=[],f=0,h=(g=this.metrics).length;f<h;f++)a=g[f],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),RD=[].slice,Jue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,a,o,c,u,f,h,g;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(c=new cf(r.read(s))).readShort(),f=c.readShort(),g=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=o===-1?new Que(c,f,g,u,h):new Zue(c,o,f,g,u,h),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,a,o,c,u;for(o=[],a=[],c=0,u=r.length;c<u;c++)s=n[r[c]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},t}(),Zue=function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Que=function(){function e(t,n,r,i,s){var a,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new cf(RD.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),ede=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,xl),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(s+=u)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},t}(),tde=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,o,c;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,o,c,u,f,h,g,m,x,y,S,_;for(i in r=$D.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),m={0:0},_=r.charMap)m[(c=_[i]).old]=c.new;for(x in g=r.maxGlyphID,a)x in m||(m[x]=g++);return f=function(C){var P,A;for(P in A={},C)A[C[P]]=P;return A}(m),h=Object.keys(f).sort(function(C,P){return C-P}),y=function(){var C,P,A;for(A=[],C=0,P=h.length;C<P;C++)o=h[C],A.push(f[o]);return A}(),s=this.font.glyf.encode(a,y,m),u=this.font.loca.encode(s.offsets,y),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();Kt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();function TD(e,t,n,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*c,f=/\r\n|\r|\n/g,h="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof e=="string"?e.split(f):e,g=h.length||1),n+=o*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),h&&g>=1){for(var x=0;x<h.length;x++)i.text(h[x],t-i.getStringUnitWidth(h[x])*m,n),n+=u;return i}t-=i.getStringUnitWidth(e)*m}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var g8={},_m=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:g8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var f=e.unifyColor(t.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=e.unifyColor(t.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=e.unifyColor(t.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,s){return this.jsPDFDocument.rect(t,n,r,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return g8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),X3=function(e,t){return X3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},X3(e,t)};function LD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");X3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var DD=function(e){LD(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function nde(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rde(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function fx(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function OD(e,t,n,r){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var a=ID(i,!1);a&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,a)}function ID(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function D2(e,t){var n,r,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function MD(e,t){var n=D2(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function ide(e,t,n,r,i){var s={},a=1.3333333333333333,o=Fw(t,function(P){return i.getComputedStyle(P).backgroundColor});o!=null&&(s.fillColor=o);var c=Fw(t,function(P){return i.getComputedStyle(P).color});c!=null&&(s.textColor=c);var u=ade(r,n);u&&(s.cellPadding=u);var f="borderTopColor",h=a*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/h;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var x=Fw(t,function(P){return i.getComputedStyle(P)[f]});x!=null&&(s.lineColor=x);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var S=parseInt(r.fontSize||"");isNaN(S)||(s.fontSize=S/a);var _=sde(r);_&&(s.fontStyle=_);var C=(r.fontFamily||"").toLowerCase();return e.indexOf(C)!==-1&&(s.font=C),s}function sde(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Fw(e,t){var n=FD(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function FD(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:FD(e.parentElement,t):n}function ade(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(o){return parseInt(o||"0")/r}),a=D2(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function BD(e,t,n,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=n.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),f=[],h=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:f,body:h,foot:g};for(var m=0;m<o.rows.length;m++){var x=o.rows[m],y=(a=(s=x==null?void 0:x.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),S=ode(c,u,n,x,r,i);S&&(y==="thead"?f.push(S):y==="tfoot"?g.push(S):h.push(S))}return{head:f,body:h,foot:g}}function ode(e,t,n,r,i,s){for(var a=new DD(r),o=0;o<r.cells.length;o++){var c=r.cells[o],u=n.getComputedStyle(c);if(i||u.display!=="none"){var f=void 0;s&&(f=ide(e,c,t,u,n)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:lde(c)})}}var h=n.getComputedStyle(r);if(a.length>0&&(i||h.display!=="none"))return a}function lde(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function cde(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function mu(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function VD(e,t){var n=new _m(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();cde(i,r,t);var s=mu({},i,r,t),a;typeof window<"u"&&(a=window);var o=ude(i,r,t),c=dde(i,r,t),u=fde(n,s),f=pde(n,s,a);return{id:t.tableId,content:f,hooks:c,styles:o,settings:u}}function ude(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=e[c],f=t[c],h=n[c];r.columnStyles=mu({},u,f,h)}else{var g=[e,t,n],m=g.map(function(x){return x[c]||{}});r[c]=mu({},m[0],m[1],m[2])}},s=0,a=Object.keys(r);s<a.length;s++){var o=a[s];i(o)}return r}function dde(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function fde(e,t){var n,r,i,s,a,o,c,u,f,h,g,m,x=D2(t.margin,40/e.scaleFactor()),y=(n=hde(e,t.startY))!==null&&n!==void 0?n:x.top,S;t.showFoot===!0?S="everyPage":t.showFoot===!1?S="never":S=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var C=(s=t.useCss)!==null&&s!==void 0?s:!1,P=t.theme||(C?"plain":"striped"),A=!!t.horizontalPageBreak,R=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:C,theme:P,startY:y,margin:x,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:_,showFoot:S,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function hde(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;s=a===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function pde(e,t,n){var r=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(n){var o=BD(e,t.html,n,a,t.useCss)||{};r=o.head||r,i=o.body||r,s=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||mde(r,i,s);return{columns:c,head:r,body:i,foot:s}}function mde(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(r)?o=r[parseInt(s)]:o=r[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(c>0?"_".concat(c):"");var f={dataKey:u};i.push(f)}}),i}var J3=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),gde=function(e){LD(t,e);function t(n,r,i,s,a,o){var c=e.call(this,n,r,o)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return t}(J3),vde=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,s,a){for(var o=0,c=n;o<c.length;o++){var u=c[o],f=new gde(t,this,r,i,s,a),h=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new J3(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new J3(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),zD=function(){function e(t,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof DD&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var o=n.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+o;return u>i?u:i},0)},e}(),UD=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=D2(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),yde=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},e}();function xde(e,t){bde(e,t);var n=[],r=0;t.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(t);a?s.width=a:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=Z3(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Z3(n,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Sde(t),_de(t,e),wde(t)}function bde(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=MD(e,t);t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u){var f=t.hooks.didParseCell;t.callCellHooks(e,f,u,s,c,null);var h=u.padding("horizontal");u.contentWidth=fx(u.text,u.styles,e)+h;var g=fx(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Z3(e,t,n){for(var r=t,i=e.reduce(function(m,x){return m+x.wrappedWidth},0),s=0;s<e.length;s++){var a=e[s],o=a.wrappedWidth/i,c=r*o,u=a.width+c,f=n(a),h=u<f?f:u;t-=h-a.width,a.width=h}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(m){return t<0?m.width>n(m):!0});g.length&&(t=Z3(g,t,n))}return t}function wde(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,o=e.columns;a<o.length;a++){var c=o[a],u=t[c.index];if(n>1)n--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var h=r.length-i,g=f.rowSpan>h?h:f.rowSpan;t[c.index]={cell:f,left:g,row:s}}}}}function Sde(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,s=0,a=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(a-=1,a>1&&e.columns[o+1])s+=c.width,delete r.cells[c.index];else if(i){var u=i;delete r.cells[c.index],i=null,u.width=c.width+s}else{var u=r.cells[c.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=c.width;continue}u.width=c.width+s}}}function _de(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var s=i[r],a=0,o=e.columns;a<o.length;a++){var c=o[a],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,f+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=v8(u.text,f,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=v8(u.text,f,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,f);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function v8(e,t,n,r,i){return e.map(function(s){return Cde(s,t,n,r,i)})}function Cde(e,t,n,r,i){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=fx(e,n,r))return e;for(;t<fx(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function WD(e,t){var n=new _m(e),r=Nde(t,n.scaleFactor()),i=new vde(t,r);return xde(n,i),n.applyStyles(n.userStyles),i}function Nde(e,t){var n=e.content,r=Pde(n.columns);if(n.head.length===0){var i=y8(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=y8(r,"foot");i&&n.foot.push(i)}var s=e.settings.theme,a=e.styles;return{columns:r,head:Bw("head",n.head,r,a,s,t),body:Bw("body",n.body,r,a,s,t),foot:Bw("foot",n.foot,r,a,s,t)}}function Bw(e,t,n,r,i,s){var a={},o=t.map(function(c,u){for(var f=0,h={},g=0,m=0,x=0,y=n;x<y.length;x++){var S=y[x];if(a[S.index]==null||a[S.index].left===0)if(m===0){var _=void 0;Array.isArray(c)?_=c[S.index-g-f]:_=c[S.dataKey];var C={};typeof _=="object"&&!Array.isArray(_)&&(C=(_==null?void 0:_.styles)||{});var P=Ade(e,S,u,i,r,s,C),A=new UD(_,P,e);h[S.dataKey]=A,h[S.index]=A,m=A.colSpan-1,a[S.index]={left:A.rowSpan-1,times:m}}else m--,g++;else a[S.index].left--,m=a[S.index].times,f++}return new zD(c,u,e,h)});return o}function y8(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=jde(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function jde(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Pde(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new yde(i,t,n)})}function Ade(e,t,n,r,i,s,a){var o=rde(r),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var u=mu({},o.table,o[e],i.styles,c),f=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},h=e==="body"?f:{},g=e==="body"&&n%2===0?mu({},o.alternateRow,i.alternateRowStyles):{},m=nde(s),x=mu({},m,u,g,h);return mu(x,a)}function kde(e,t,n){var r;n===void 0&&(n={});var i=MD(e,t),s=new Map,a=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var m=t.columns.find(function(x){return x.dataKey===g||x.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(t.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<t.columns.length;){if(s.has(f)){f++;continue}var h=t.columns[f].wrappedWidth;if(u||i>=h)u=!1,a.push(f),o.push(t.columns[f]),i-=h;else break;f++}return{colIndexes:a,columns:o,lastIndex:f-1}}function Ede(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=kde(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function HD(e,t){var n=t.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+i.bottom+a;if(n.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(g,m){return g+m.height},0);o+=u}var f=new _m(e);(n.pageBreak==="always"||n.startY!=null&&o>f.pageSize().height)&&(GD(f),s.y=i.top),t.callWillDrawPageHooks(f,s);var h=mu({},s);t.startPageNumber=f.pageNumber(),n.horizontalPageBreak?$de(f,t,h,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(g){return Cu(f,t,g,s,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(g,m){var x=m===t.body.length-1;hx(f,t,g,x,h,s,t.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(g){return Cu(f,t,g,s,t.columns)})),OD(f,t,h,s),t.callEndPageHooks(f,s),t.finalY=s.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function $de(e,t,n,r){var i=Ede(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){e.applyStyles(e.userStyles),f>0?c0(e,t,n,r,u.columns,!0):x8(e,t,r,u.columns),Rde(e,t,n,r,u.columns),Vw(e,t,r,u.columns)});else for(var a=-1,o=i[0],c=function(){var u=a;if(o){e.applyStyles(e.userStyles);var f=o.columns;a>=0?c0(e,t,n,r,f,!0):x8(e,t,r,f),u=b8(e,t,a+1,r,f),Vw(e,t,r,f)}var h=u-a;i.slice(1).forEach(function(g){e.applyStyles(e.userStyles),c0(e,t,n,r,g.columns,!0),b8(e,t,a+1,r,g.columns,h),Vw(e,t,r,g.columns)}),a=u};a<t.body.length-1;)c()}function x8(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return Cu(e,t,s,n,r)})}function Rde(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,a){var o=a===t.body.length-1;hx(e,t,s,o,n,r,i)})}function b8(e,t,n,r,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var a=Math.min(n+s,t.body.length),o=-1;return t.body.slice(n,a).forEach(function(c,u){var f=n+u===t.body.length-1,h=qD(e,t,f,r);c.canEntireRowFit(h,i)&&(Cu(e,t,c,r,i),o=n+u)}),o}function Vw(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return Cu(e,t,s,n,r)})}function Tde(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/r);return Math.max(0,s)}function Lde(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,a=0,o=n.columns;a<o.length;a++){var c=o[a],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new UD(u.raw,u.styles,u.section);f=mu(f,u),f.text=[];var h=Tde(u,t,r);u.text.length>h&&(f.text=u.text.splice(h,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=t&&(u.contentHeight=t,f.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,m),f.contentHeight>s&&(s=f.contentHeight),i[c.index]=f}}var x=new zD(e.raw,-1,e.section,i,!0);x.height=s;for(var y=0,S=n.columns;y<S.length;y++){var c=S[y],f=x.cells[c.index];f&&(f.height=x.height);var u=e.cells[c.index];u&&(u.height=e.height)}return x}function Dde(e,t,n,r){var i=e.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,o=i-a;t.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),u=c<n;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=t.hasRowSpan(r.columns),h=t.getMaxCellHeight(r.columns)>o;return h?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function hx(e,t,n,r,i,s,a){var o=qD(e,t,r,s);if(n.canEntireRowFit(o,a))Cu(e,t,n,s,a);else if(Dde(e,n,o,t)){var c=Lde(n,o,t,e);Cu(e,t,n,s,a),c0(e,t,i,s,a),hx(e,t,c,r,i,s,a)}else c0(e,t,i,s,a),hx(e,t,n,r,i,s,a)}function Cu(e,t,n,r,i){r.x=t.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],c=n.cells[o.index];if(!c){r.x+=o.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,n,o,r);if(u===!1){r.x+=o.width;continue}Ode(e,c,r);var f=c.getTextPos();TD(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,o,r),r.x+=o.width}r.y+=n.height}function Ode(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=ID(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Ide(e,t,n,r.lineWidth))}function Ide(e,t,n,r){var i,s,a,o;r.top&&(i=n.x,s=n.y,a=n.x+t.width,o=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,a,o)),r.bottom&&(i=n.x,s=n.y+t.height,a=n.x+t.width,o=n.y+t.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,a,o)),r.left&&(i=n.x,s=n.y,a=n.x,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,i,s,a,o)),r.right&&(i=n.x+t.width,s=n.y,a=n.x+t.width,o=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,i,s,a,o));function c(u,f,h,g,m){e.getDocument().setLineWidth(u),e.getDocument().line(f,h,g,m,"S")}}function qD(e,t,n,r){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function c0(e,t,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Cu(e,t,o,r,i)}),t.callEndPageHooks(e,r);var a=t.settings.margin;OD(e,t,n,r),GD(e),t.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Cu(e,t,o,r,i)}),e.applyStyles(e.userStyles))}function GD(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Mde(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=VD(this,r),s=WD(this,i);return HD(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){TD(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return _m.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){_m.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new _m(this),s=BD(i,t,window,n,!1),a=s.head,o=s.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var zw;function w8(e,t){var n=VD(e,t),r=WD(e,n);HD(e,r)}try{if(typeof window<"u"&&window){var S8=window,_8=S8.jsPDF||((zw=S8.jspdf)===null||zw===void 0?void 0:zw.jsPDF);_8&&Mde(_8)}}catch(e){console.error("Could not apply autoTable plugin",e)}const C8=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),zp=({value:e})=>{const t=k9(0),n=UK(t,{damping:30,stiffness:200});return w.useEffect(()=>cY(t,e,{duration:.6,ease:"easeOut"}).stop,[e,t]),w.useEffect(()=>n.on("change",i=>{const s=document.getElementById(`animated-number-${e}`);s&&(s.textContent=C8.format(i))}),[n,e]),l.jsx("span",{id:`animated-number-${e}`,children:C8.format(e)})},Fde=({fees:e})=>l.jsxs(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-lg bg-muted/50 p-4 border self-start",children:[l.jsx("h4",{className:"font-semibold mb-3 text-center text-muted-foreground",children:"Desglose de Tarifas Estimadas"}),l.jsxs(zs,{children:[l.jsxs(ha,{children:[l.jsxs(mn,{children:[l.jsx(ot,{className:"text-muted-foreground",children:"Puja Máxima"}),l.jsx(ot,{className:"text-right font-medium text-lg",children:l.jsx(zp,{value:e.bid})})]}),l.jsxs(mn,{children:[l.jsx(ot,{className:"text-muted-foreground",children:"Buyer's Fee"}),l.jsx(ot,{className:"text-right",children:l.jsx(zp,{value:e.buyer_fee})})]}),l.jsxs(mn,{children:[l.jsx(ot,{className:"text-muted-foreground",children:"Internet Fee"}),l.jsx(ot,{className:"text-right",children:l.jsx(zp,{value:e.internet_fee})})]}),l.jsxs(mn,{children:[l.jsx(ot,{className:"text-muted-foreground",children:"Tarifa Opulent"}),l.jsx(ot,{className:"text-right",children:l.jsx(zp,{value:e.opulent_fee})})]}),l.jsxs(mn,{children:[l.jsx(ot,{className:"text-muted-foreground",children:"Tarifas de Proceso"}),l.jsx(ot,{className:"text-right",children:l.jsx(zp,{value:e.processing_fees})})]})]}),l.jsx(uD,{children:l.jsxs(mn,{className:"text-xl font-bold hover:bg-transparent",children:[l.jsx(wt,{children:"Total Estimado"}),l.jsx(wt,{className:"text-right text-primary",children:l.jsx(zp,{value:e.total})})]})})]})]},"fees-card");var Vn=function(){return Vn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Vn.apply(this,arguments)};function x_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ta(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var pc=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},Bde={k:1e3,m:1e6,b:1e9},Vde=function(e,t){t===void 0&&(t=".");var n=new RegExp("(\\d+(".concat(pc(t),"\\d*)?)([kmb])$"),"i"),r=e.match(n);if(r){var i=r[1],s=r[3],a=Bde[s.toLowerCase()];return Number(i.replace(t,"."))*a}},zde=function(e,t){t===void 0&&(t=",");var n=new RegExp(pc(t),"g");return e.replace(n,"")},Ude=function(e,t){var n=pc(t.join("")),r=new RegExp("[^\\d".concat(n,"]"),"gi");return e.replace(r,"")},Uw=function(e){var t=e.value,n=e.groupSeparator,r=n===void 0?",":n,i=e.decimalSeparator,s=i===void 0?".":i,a=e.allowDecimals,o=a===void 0?!0:a,c=e.decimalsLimit,u=c===void 0?2:c,f=e.allowNegativeValue,h=f===void 0?!0:f,g=e.disableAbbreviations,m=g===void 0?!1:g,x=e.prefix,y=x===void 0?"":x,S=e.transformRawValue,_=S===void 0?function(se){return se}:S,C=_(t);if(C==="-")return C;var P=m?[]:["k","m","b"],A=new RegExp("((^|\\D)-\\d)|(-".concat(pc(y),")")),R=A.test(C),D=RegExp("(\\d+)-?".concat(pc(y))).exec(t)||[],T=D[0],M=D[1],U=y?T?C.replace(T,"").concat(M):C.replace(y,""):C,ee=zde(U,r),F=Ude(ee,Ta([r,s],P,!0)),O=F;if(!m){if(P.some(function(se){return se===F.toLowerCase().replace(s,"")}))return"";var H=Vde(F,s);H&&(O=String(H))}var V=R&&h?"-":"";if(s&&O.includes(s)){var ae=F.split(s),J=ae[0],W=ae[1],z=u&&W?W.slice(0,u):W,ne=o?"".concat(s).concat(z):"";return"".concat(V).concat(J).concat(ne)}return"".concat(V).concat(O)},Wde=function(e,t,n){if(n!==void 0&&e.length>1){if(n===0)return e.replace(t,"");if(e.includes(t)){var r=e.split(t),i=r[0],s=r[1];if(s.length===n)return e;if(s.length>n)return"".concat(i).concat(t).concat(s.slice(0,n))}var a=e.length>n?new RegExp("(\\d+)(\\d{".concat(n,"})")):new RegExp("(\\d)(\\d+)"),o=e.match(a);if(o){var i=o[1],s=o[2];return"".concat(i).concat(t).concat(s)}}return e},KD=function(e,t){var n=t.groupSeparator,r=n===void 0?",":n,i=t.decimalSeparator,s=i===void 0?".":i,a=new RegExp("\\d([^".concat(pc(r)).concat(pc(s),"0-9]+)")),o=e.match(a);return o?o[1]:void 0},Tg=function(e){var t=e.value,n=e.decimalSeparator,r=e.intlConfig,i=e.decimalScale,s=e.prefix,a=s===void 0?"":s,o=e.suffix,c=o===void 0?"":o;if(t===""||t===void 0)return"";if(t==="-")return"-";var u=new RegExp("^\\d?-".concat(a?"".concat(pc(a),"?"):"","\\d")).test(t),f=n!=="."?Hde(t,n,u):t;n&&n!=="-"&&f.startsWith(n)&&(f="0"+f);var h=r||{},g=h.locale,m=h.currency,x=x_(h,["locale","currency"]),y=Vn(Vn({},x),{minimumFractionDigits:i||0,maximumFractionDigits:20}),S=r?new Intl.NumberFormat(g,Vn(Vn({},y),m&&{style:"currency",currency:m})):new Intl.NumberFormat(void 0,y),_=S.formatToParts(Number(f)),C=qde(_,e),P=KD(C,Vn({},e)),A=t.slice(-1)===n?n:"",R=f.match(RegExp("\\d+\\.(\\d+)"))||[],D=R[1];return i===void 0&&D&&n&&(C.includes(n)?C=C.replace(RegExp("(\\d+)(".concat(pc(n),")(\\d+)"),"g"),"$1$2".concat(D)):P&&!c?C=C.replace(P,"".concat(n).concat(D).concat(P)):C="".concat(C).concat(n).concat(D)),c&&A?"".concat(C).concat(A).concat(c):P&&A?C.replace(P,"".concat(A).concat(P)):P&&c?C.replace(P,"".concat(A).concat(c)):[C,A,c].join("")},Hde=function(e,t,n){var r=e;return t&&t!=="."&&(r=r.replace(RegExp(pc(t),"g"),"."),n&&t==="-"&&(r="-".concat(r.slice(1)))),r},qde=function(e,t){var n=t.prefix,r=t.groupSeparator,i=t.decimalSeparator,s=t.decimalScale,a=t.disableGroupSeparators,o=a===void 0?!1:a;return e.reduce(function(c,u,f){var h=u.type,g=u.value;return f===0&&n?h==="minusSign"?[g,n]:h==="currency"?Ta(Ta([],c,!0),[n],!1):[n,g]:h==="currency"?n?c:Ta(Ta([],c,!0),[g],!1):h==="group"?o?c:Ta(Ta([],c,!0),[r!==void 0?r:g],!1):h==="decimal"?s!==void 0&&s===0?c:Ta(Ta([],c,!0),[i!==void 0?i:g],!1):h==="fraction"?Ta(Ta([],c,!0),[s!==void 0?g.slice(0,s):g],!1):Ta(Ta([],c,!0),[g],!1)},[""]).join("")},Gde={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},Kde=function(e){var t=e||{},n=t.locale,r=t.currency,i=x_(t,["locale","currency"]),s=n?new Intl.NumberFormat(n,Vn(Vn({},i),r&&{currency:r,style:"currency"})):new Intl.NumberFormat;return s.formatToParts(1000.1).reduce(function(a,o,c){return o.type==="currency"?c===0?Vn(Vn({},a),{currencySymbol:o.value,prefix:o.value}):Vn(Vn({},a),{currencySymbol:o.value,suffix:o.value}):o.type==="group"?Vn(Vn({},a),{groupSeparator:o.value}):o.type==="decimal"?Vn(Vn({},a),{decimalSeparator:o.value}):a},Gde)},N8=function(e){return RegExp(/\d/,"gi").test(e)},Yde=function(e,t,n){if(n===void 0||t===""||t===void 0||e===""||e===void 0)return e;if(!e.match(/\d/g))return"";var r=e.split(t),i=r[0],s=r[1];if(n===0)return i;var a=s||"";if(a.length<n)for(;a.length<n;)a+="0";else a=a.slice(0,n);return"".concat(i).concat(t).concat(a)},Xde=function(e){var t=e.selectionStart,n=e.value,r=e.lastKeyStroke,i=e.stateValue,s=e.groupSeparator,a=t,o=n;if(i&&a){var c=n.split("");return r==="Backspace"&&i[a]===s&&(c.splice(a-1,1),a-=1),r==="Delete"&&i[a]===s&&(c.splice(a,1),a+=1),o=c.join(""),{modifiedValue:o,cursorPosition:a}}return{modifiedValue:o,cursorPosition:t}},YD=w.forwardRef(function(e,t){var n=e.allowDecimals,r=n===void 0?!0:n,i=e.allowNegativeValue,s=i===void 0?!0:i,a=e.id,o=e.name,c=e.className,u=e.customInput,f=e.decimalsLimit,h=e.defaultValue,g=e.disabled,m=g===void 0?!1:g,x=e.maxLength,y=e.value,S=e.onValueChange,_=e.fixedDecimalLength,C=e.placeholder,P=e.decimalScale,A=e.prefix,R=e.suffix,D=e.intlConfig,T=e.step,M=e.min,U=e.max,ee=e.disableGroupSeparators,F=ee===void 0?!1:ee,O=e.disableAbbreviations,H=O===void 0?!1:O,V=e.decimalSeparator,ae=e.groupSeparator,J=e.onChange,W=e.onFocus,z=e.onBlur,ne=e.onKeyDown,se=e.onKeyUp,X=e.transformRawValue,B=e.formatValueOnBlur,Q=B===void 0?!0:B,re=x_(e,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue","formatValueOnBlur"]);if(V&&N8(V))throw new Error("decimalSeparator cannot be a number");if(ae&&N8(ae))throw new Error("groupSeparator cannot be a number");var ce=w.useMemo(function(){return Kde(D)},[D]),ue=V||ce.decimalSeparator||"",he=ae||ce.groupSeparator||"";if(ue&&he&&ue===he&&F===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var ge={decimalSeparator:ue,groupSeparator:he,disableGroupSeparators:F,intlConfig:D,prefix:A||ce.prefix,suffix:R},be={decimalSeparator:ue,groupSeparator:he,allowDecimals:r,decimalsLimit:f||_||2,allowNegativeValue:s,disableAbbreviations:H,prefix:A||ce.prefix,transformRawValue:X},Le=w.useState(function(){return h!=null?Tg(Vn(Vn({},ge),{decimalScale:P,value:String(h)})):y!=null?Tg(Vn(Vn({},ge),{decimalScale:P,value:String(y)})):""}),$e=Le[0],qe=Le[1],Qe=w.useState(!1),yt=Qe[0],De=Qe[1],fe=w.useState(0),Dt=fe[0],xt=fe[1],Ke=w.useState(0),oe=Ke[0],me=Ke[1],_e=w.useState(null),Be=_e[0],We=_e[1],Ie=w.useRef(null);w.useImperativeHandle(t,function(){return Ie.current});var et=function(Wt,rn){De(!0);var Rn=Xde({selectionStart:rn,value:Wt,lastKeyStroke:Be,stateValue:$e,groupSeparator:he}),Gt=Rn.modifiedValue,or=Rn.cursorPosition,on=Uw(Vn({value:Gt},be));if(!(x&&on.replace(/-/g,"").length>x)){if(on===""||on==="-"||on===ue){S&&S(void 0,o,{float:null,formatted:"",value:""}),qe(on),xt(1);return}var pr=ue?on.replace(ue,"."):on,qr=parseFloat(pr),Xn=Tg(Vn({value:on},ge));if(or!=null){var Vt=or+(Xn.length-Wt.length);Vt=Vt<=0?A?A.length:0:Vt,xt(Vt),me(oe+1)}if(qe(Xn),S){var Nn={float:qr,formatted:Xn,value:on};S(on,o,Nn)}}},St=function(Wt){var rn=Wt.target,Rn=rn.value,Gt=rn.selectionStart;et(Rn,Gt),J&&J(Wt)},$t=function(Wt){return W&&W(Wt),$e?$e.length:0},Pt=function(Wt){var rn=Wt.target.value,Rn=Uw(Vn({value:rn},be));if(Rn==="-"||Rn===ue||!Rn){qe(""),z&&z(Wt);return}var Gt=Wde(Rn,ue,_),or=Yde(Gt,ue,P!==void 0?P:_),on=ue?or.replace(ue,"."):or,pr=parseFloat(on),qr=Tg(Vn(Vn({},ge),{value:or}));S&&Q&&S(or,o,{float:pr,formatted:qr,value:or}),qe(qr),z&&z(Wt)},qt=function(Wt){var rn=Wt.key;if(We(rn),T&&(rn==="ArrowUp"||rn==="ArrowDown")){Wt.preventDefault(),xt($e.length);var Rn=y!=null?String(y):void 0,Gt=ue&&Rn?Rn.replace(ue,"."):Rn,or=parseFloat(Gt??Uw(Vn({value:$e},be)))||0,on=rn==="ArrowUp"?or+T:or-T;if(M!==void 0&&on<Number(M)||!s&&on<0||U!==void 0&&on>Number(U))return;var pr=String(T).includes(".")?Number(String(T).split(".")[1].length):void 0;et(String(pr?on.toFixed(pr):on).replace(".",ue))}ne&&ne(Wt)},st=function(Wt){var rn=Wt.key,Rn=Wt.currentTarget.selectionStart;if(rn!=="ArrowUp"&&rn!=="ArrowDown"&&$e!=="-"){var Gt=KD($e,{groupSeparator:he,decimalSeparator:ue});if(Gt&&Rn&&Rn>$e.length-Gt.length&&Ie.current){var or=$e.length-Gt.length;Ie.current.setSelectionRange(or,or)}}se&&se(Wt)};w.useEffect(function(){y==null&&h==null&&qe("")},[h,y]),w.useEffect(function(){yt&&$e!=="-"&&Ie.current&&document.activeElement===Ie.current&&Ie.current.setSelectionRange(Dt,Dt)},[$e,Dt,Ie,yt,oe]);var Ir=function(){return y!=null&&$e!=="-"&&(!ue||$e!==ue)?Tg(Vn(Vn({},ge),{decimalScale:yt?void 0:P,value:String(y)})):$e},fn=Vn({type:"text",inputMode:"decimal",id:a,name:o,className:c,onChange:St,onBlur:Pt,onFocus:$t,onKeyDown:qt,onKeyUp:st,placeholder:C,disabled:m,value:Ir(),ref:Ie},re);if(u){var oi=u;return Re.createElement(oi,Vn({},fn))}return Re.createElement("input",Vn({},fn))});YD.displayName="CurrencyInput";const Pd=({name:e,control:t,label:n,type:r="text",isCurrency:i=!1,...s})=>l.jsxs("div",{children:[l.jsx(ht,{htmlFor:e,children:n}),l.jsx(fo,{name:e,control:t,render:({field:a,fieldState:{error:o}})=>l.jsxs(l.Fragment,{children:[i?l.jsx(YD,{id:e,name:a.name,value:a.value,onValueChange:c=>a.onChange(c),intlConfig:{locale:"en-US",currency:"USD"},decimalsLimit:2,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-lg ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o&&"border-destructive"),...s}):l.jsx(Ot,{id:e,type:r,...a,...s,className:Je(o&&"border-destructive","mt-1")}),o&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:o.message})]})})]}),Jde=[{min:0,max:49.99,fee:25},{min:50,max:99.99,fee:45},{min:100,max:199.99,fee:80},{min:200,max:299.99,fee:130},{min:300,max:349.99,fee:137.5},{min:350,max:399.99,fee:145},{min:400,max:449.99,fee:175},{min:450,max:499.99,fee:185},{min:500,max:549.99,fee:205},{min:550,max:599.99,fee:210},{min:600,max:699.99,fee:240},{min:700,max:799.99,fee:270},{min:800,max:899.99,fee:295},{min:900,max:999.99,fee:320},{min:1e3,max:1199.99,fee:375},{min:1200,max:1299.99,fee:395},{min:1300,max:1399.99,fee:410},{min:1400,max:1499.99,fee:430},{min:1500,max:1599.99,fee:445},{min:1600,max:1699.99,fee:465},{min:1700,max:1799.99,fee:485},{min:1800,max:1999.99,fee:510},{min:2e3,max:2399.99,fee:535},{min:2400,max:2499.99,fee:570},{min:2500,max:2999.99,fee:610},{min:3e3,max:3499.99,fee:655},{min:3500,max:3999.99,fee:705},{min:4e3,max:4499.99,fee:725},{min:4500,max:4999.99,fee:750},{min:5e3,max:5499.99,fee:775},{min:5500,max:5999.99,fee:800},{min:6e3,max:6499.99,fee:825},{min:6500,max:6999.99,fee:845},{min:7e3,max:7499.99,fee:880},{min:7500,max:7999.99,fee:900},{min:8e3,max:8499.99,fee:925},{min:8500,max:9999.99,fee:945},{min:1e4,max:14999.99,fee:1e3},{min:15e3,max:1/0,fee:.075,isPercentage:!0}],j8=300,P8=85,A8=130,Q3={bid:0,buyer_fee:0,internet_fee:0,opulent_fee:0,processing_fees:0,total:0},Zde=e=>{const t=e?parseFloat(String(e).replace(/[^0-9.]/g,"")):0;if(isNaN(t)||t<=0)return Q3;const n=Jde.find(s=>t>=s.min&&t<=s.max);if(!n)return Q3;const r=n.isPercentage?t*n.fee:n.fee,i=t+r+P8+j8+A8;return{bid:t,buyer_fee:r,internet_fee:P8,opulent_fee:j8,processing_fees:A8,total:i}},eS=new Date().getFullYear(),Qde=Gd({vin:En().length(17,{message:"El VIN debe tener 17 caracteres."}).trim(),vehicleUrl:En().url({message:"Debe ser una URL válida."}),auctionDate:X4({required_error:"La fecha es obligatoria."}),make:En().min(2,{message:"La marca es requerida."}).trim(),model:En().min(1,{message:"El modelo es requerido."}).trim(),year:vre.number().min(1980,"El año debe ser 1980 o posterior.").max(eS+1,`El año no puede ser mayor que ${eS+1}.`),color:En().min(2,{message:"El color es requerido."}).trim(),auctionHouse:JR(["IAA","Copart"],{required_error:"Selecciona una casa de subastas."}),auctionState:En().min(1,"Debes seleccionar un estado."),auctionLocation:En({required_error:"Selecciona una ubicación."}).min(1,"Selecciona una ubicación."),lotNumber:En().min(1,{message:"El número de lote es requerido."}),maxBid:En().min(1,{message:"La puja es obligatoria."}),comments:En().max(500,"Máximo 500 caracteres.").optional(),legalAuth:XR().refine(e=>e===!0,{message:"Debes aceptar los términos para continuar."})}),efe=({currentStep:e})=>{const t=[{id:1,title:"Detalles y Costos"},{id:2,title:"Confirmar y Firmar"}];return l.jsx("nav",{className:"mb-8 pt-2",children:l.jsx("ol",{className:"flex items-center w-full",children:t.map((n,r)=>l.jsxs(Re.Fragment,{children:[l.jsxs("li",{className:"flex flex-col items-center justify-start text-center w-28 flex-shrink-0",children:[l.jsx(Bt.div,{layout:!0,className:Je("flex items-center justify-center w-10 h-10 rounded-full text-lg font-bold transition-colors duration-500",e>=n.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:l.jsx(Vi,{children:e>n.id?l.jsx(Bt.svg,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.4,ease:"easeOut"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx(Bt.path,{d:"M20 6 9 17l-5-5"})},"check"):l.jsx(Bt.span,{initial:{scale:0},animate:{scale:1},transition:{duration:.2},children:n.id},"step-number")})}),l.jsx("p",{className:Je("mt-2 text-sm font-medium transition-colors duration-500",e>=n.id?"text-foreground":"text-muted-foreground"),children:n.title})]}),r<t.length-1&&l.jsx("li",{className:"flex-1 px-2",children:l.jsx("div",{className:"h-1.5 w-full rounded-full bg-border overflow-hidden",children:l.jsx(Bt.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:e>n.id?"100%":"0%"},transition:{duration:.6,ease:"easeInOut"}})})})]},n.id))})})};function tfe(){const e=qn.useSupabaseClient(),[t,n]=w.useState(1),[r,i]=w.useState(!1),[s,a]=w.useState(Q3),[o,c]=w.useState(null),u=w.useRef(null),{toast:f}=Pn(),{user:h,userProfile:g}=Pi(),m=pv({resolver:mv(Qde),mode:"onChange",defaultValues:{vin:"",vehicleUrl:"",make:"",model:"",year:"",color:"",lotNumber:"",auctionDate:null,auctionHouse:void 0,auctionState:"",auctionLocation:"",maxBid:"",comments:"",legalAuth:!1}}),x=m.watch("maxBid"),y=m.watch("auctionHouse"),S=m.watch("auctionState");w.useEffect(()=>{a(Zde(x))},[x]),w.useEffect(()=>{y&&(m.setValue("auctionState",""),m.setValue("auctionLocation",""),c(null))},[y,m.setValue]);const _=async()=>{const T=["vin","vehicleUrl","auctionDate","make","model","year","color","auctionHouse","auctionState","auctionLocation","lotNumber","maxBid"];await m.trigger(T)?n(2):f({title:"Campos Incompletos",description:"Por favor, completa todos los campos requeridos para continuar.",variant:"destructive"})},C=(T,M)=>{const U=new Kt,ee=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),F=new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});U.setFontSize(18),U.text("Comprobante de Solicitud de Puja - Opulent Auto Gallery",14,22),U.setFontSize(11),U.text(`Fecha de Solicitud: ${F}`,14,30),U.text(`Cliente: ${(g==null?void 0:g.full_name)||"N/A"}`,14,36),U.text(`Email: ${(h==null?void 0:h.email)||"N/A"}`,14,42),w8(U,{startY:50,head:[["Detalle del Vehículo","Información"]],body:[["VIN",T.vin],["URL del Vehículo",{content:T.vehicle_url,styles:{cellWidth:"wrap"}}],["Vehículo",`${T.year} ${T.make} ${T.model} (${T.color})`],["Subasta",`${T.auction_type} - Lote #${T.lot_number}`],["Ubicación",T.auction_location_id],["Fecha de Subasta",Hr(T.auction_date,"PPP",{locale:Fa})]],theme:"striped"});let O=U.lastAutoTable.finalY;U.text("Desglose de Costos Estimados:",14,O+10),M&&(w8(U,{startY:O+12,head:[["Concepto","Monto (USD)"]],body:[["Puja Máxima",ee.format(M.bid)],["Tarifa de Compra de la subasta (Tarifa de Compra)",ee.format(M.buyer_fee)],["Tarifa de Internet de la subasta (Tarifa de Internet)",ee.format(M.internet_fee)],["Tarifa de Servicio (Opulent)",ee.format(M.opulent_fee)],["Tarifas de Procesamiento de la Subasta (Auction Processing Fees)",ee.format(M.processing_fees)]],foot:[["Total Estimado",ee.format(M.total)]],footStyles:{fontStyle:"bold",fontSize:12},theme:"grid"}),O=U.lastAutoTable.finalY),U.text("Firma de Autorización:",14,O+15),T.signature_image_base64&&U.addImage(T.signature_image_base64,"PNG",14,O+17,60,30);const H=O+55;return U.setLineWidth(.2),U.line(14,H-2,84,H-2),U.text(T.full_name,14,H),U.setFontSize(8),U.text("Nombre Impreso del Solicitante",14,H+4),U.output("blob")},P=async T=>{if(!h||!g)return f({title:"Error de autenticación",variant:"destructive"});if(u.current.isEmpty())return f({title:"Firma Requerida",description:"Por favor, firma en el recuadro para continuar.",variant:"destructive"});i(!0);try{const M=u.current.toDataURL("image/png"),U={user_id:h.id,full_name:g.full_name,email:h.email,phone:g.phone||"N/A",vin:T.vin,vehicle_url:T.vehicleUrl,auction_date:Hr(T.auctionDate,"yyyy-MM-dd"),make:T.make,model:T.model,year:T.year,color:T.color,auction_type:T.auctionHouse,auction_location_id:T.auctionLocation,lot_number:T.lotNumber,max_bid:parseFloat(String(T.maxBid).replace(/[^0-9.]/g,"")),comments:T.comments,legal_auth_accepted:T.legalAuth,signature_image_base64:M,fees_detail:s},{data:ee,error:F}=await e.from("auction_bids").insert(U).select("id").single();if(F)throw F;const O=C(U,s),H=`${h.id}/${ee.id}/comprobante-puja.pdf`,{data:V,error:ae}=await e.storage.from("auction-receipts").upload(H,O);if(ae)throw ae;const{error:J}=await e.from("auction_bids").update({receipt_pdf_path:V.path}).eq("id",ee.id);if(J)throw J;f({title:"¡Solicitud Completa!",description:"Tus datos y comprobante han sido guardados."}),m.reset(),u.current.clear(),n(1)}catch(M){console.error("Error en el proceso de envío:",M),f({title:"Ocurrió un Error",description:M.message,variant:"destructive"})}finally{i(!1)}},A=y?y==="IAA"?RL:TL:{},R=Object.keys(A).sort(),D=T=>{m.setValue("auctionLocation",T);const U=(y==="IAA"?$3:R3).find(ee=>ee.full===T);c(U||null)};return l.jsxs("div",{className:"w-full max-w-5xl mx-auto pb-8 px-4",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Solicitar Puja en Subasta"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Completa los 2 pasos para autorizarnos a pujar por un vehículo en tu nombre."}),l.jsxs(ct,{className:"bg-card/80 backdrop-blur-sm border-border/50 shadow-lg",children:[l.jsx(_t,{children:l.jsx(efe,{currentStep:t})}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:m.handleSubmit(P),children:[l.jsxs(Vi,{mode:"wait",children:[t===1&&l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"space-y-8",children:[l.jsx(Ct,{children:"Paso 1: Detalles y Costos"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-12 gap-y-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(Pd,{name:"vin",label:"VIN del vehículo (17 caracteres)",control:m.control,placeholder:"Ingresa los 17 caracteres del VIN",maxLength:"17"}),l.jsx(Pd,{name:"vehicleUrl",label:"URL del Vehículo en Subasta",control:m.control,placeholder:"https://www.copart.com/lot/..."}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Pd,{name:"make",label:"Marca",control:m.control}),l.jsx(Pd,{name:"model",label:"Modelo",control:m.control})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Pd,{name:"year",label:"Año",type:"number",control:m.control,placeholder:eS.toString()}),l.jsx(Pd,{name:"color",label:"Color",control:m.control})]}),l.jsxs("div",{children:[l.jsx(ht,{children:"Fecha de la subasta"}),l.jsx(fo,{name:"auctionDate",control:m.control,render:({field:T,fieldState:{error:M}})=>l.jsxs(l.Fragment,{children:[l.jsxs(N2,{children:[l.jsx(j2,{asChild:!0,children:l.jsxs(Ue,{variant:"outline",className:Je("w-full justify-start text-left font-normal mt-1",!T.value&&"text-muted-foreground",M&&"border-destructive"),children:[l.jsx(Rx,{className:"mr-2 h-4 w-4"}),T.value?Hr(T.value,"PPP",{locale:Fa}):l.jsx("span",{children:"Selecciona una fecha"})]})}),l.jsx(wv,{className:"w-auto p-0",children:l.jsx(Nv,{mode:"single",selected:T.value,onSelect:T.onChange,disabled:U=>U<new Date(new Date().setDate(new Date().getDate()-1)),initialFocus:!0})})]}),M&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:M.message})]})})]}),l.jsx(Pd,{name:"lotNumber",label:"Número de Lote / Stock",control:m.control,placeholder:"Ej: 12345678"})]}),l.jsxs("div",{className:"space-y-6 flex flex-col",children:[l.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[l.jsx(ht,{children:"Casa de Subastas"}),l.jsx(fo,{name:"auctionHouse",control:m.control,render:({field:T,fieldState:{error:M}})=>l.jsxs(l.Fragment,{children:[l.jsxs(_2,{onValueChange:T.onChange,value:T.value,className:"flex space-x-4 pt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kd,{value:"IAA",id:"house-iaa"}),l.jsx(ht,{htmlFor:"house-iaa",children:"IAA"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Kd,{value:"Copart",id:"house-copart"}),l.jsx(ht,{htmlFor:"house-copart",children:"Copart"})]})]}),M&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:M.message})]})}),l.jsx(Vi,{children:y&&l.jsxs(Bt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start",children:[l.jsx(fo,{name:"auctionState",control:m.control,render:({field:T,fieldState:{error:M}})=>l.jsxs("div",{children:[l.jsx(ht,{children:"Estado"}),l.jsxs(Pr,{onValueChange:U=>{T.onChange(U),c(null),m.setValue("auctionLocation","")},value:T.value,children:[l.jsx(dr,{className:Je("mt-1",M&&"border-destructive"),children:l.jsx(Ar,{placeholder:"Elige..."})}),l.jsx(fr,{className:"max-h-[280px]",children:R.map(U=>l.jsx(nt,{value:U,children:U},U))})]}),M&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:M.message})]})}),l.jsx(fo,{name:"auctionLocation",control:m.control,render:({field:T,fieldState:{error:M}})=>{var U;return l.jsxs("div",{children:[l.jsx(ht,{children:"Sucursal"}),l.jsxs(Pr,{onValueChange:ee=>D(ee),value:T.value,disabled:!S,children:[l.jsx(dr,{className:Je("w-full mt-1",M&&"border-destructive"),children:l.jsx(Ar,{placeholder:"Selecciona..."})}),l.jsx(fr,{className:"max-h-[280px]",children:S&&((U=A[S])==null?void 0:U.map(ee=>l.jsx(nt,{value:ee.full,children:ee.name},ee.full)))})]}),M&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:M.message})]})}})]}),l.jsx(Vi,{children:o&&l.jsx(Bt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"overflow-hidden",children:l.jsxs("div",{className:"pt-2",children:[l.jsx(ht,{children:"Dirección de la Sucursal"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground p-3 border rounded-md bg-background",children:[l.jsx(Ok,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("p",{children:o.address})]})]})})})]})})]}),l.jsx(Pd,{name:"maxBid",label:"Monto máximo de puja (USD)",control:m.control,placeholder:"$1,234.56",isCurrency:!0}),l.jsx("div",{className:"flex-grow flex flex-col",children:l.jsx(Fde,{fees:s})})]})]}),l.jsxs(Yd,{variant:"default",className:"mt-6",children:[l.jsx(sc,{className:"h-4 w-4"}),l.jsx(Xd,{children:"El total mostrado es aproximado. Las tarifas pueden variar minimamente del total estimado."})]})]},"step1"),t===2&&l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"space-y-6",children:[l.jsx(Ct,{children:"Paso 2: Confirmar y Firmar"}),l.jsxs(ct,{className:"bg-muted/50 p-4",children:[l.jsx(pn,{children:"Por favor, confirma los detalles antes de firmar:"}),l.jsxs("div",{className:"text-sm font-medium mt-2 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Vehículo:"})," ",m.getValues("year")," ",m.getValues("make")," ",m.getValues("model")," (",m.getValues("color"),")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subasta:"})," ",m.getValues("auctionHouse")," - Lote #",m.getValues("lotNumber")]}),l.jsxs("p",{className:"font-bold pt-2",children:["Puja Máxima: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(parseFloat(String(m.getValues("maxBid")||"0").replace(/[^0-9.]/g,"")))]}),l.jsxs("p",{className:"font-bold text-lg",children:["Total Estimado: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format((s==null?void 0:s.total)||0)]})]})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"comments",children:"Comentarios o Instrucciones Adicionales"}),l.jsx(_u,{id:"comments",...m.register("comments"),className:"mt-1",placeholder:"Ej: Revisar si hay daños en la parte inferior..."})]}),l.jsxs("div",{className:"border-t pt-4 space-y-4",children:[l.jsx(ht,{className:"text-lg font-semibold",children:"Consentimiento y Firma Digital"}),l.jsxs(Yd,{variant:"default",className:"bg-muted/50",children:[l.jsx(TS,{className:"h-4 w-4"}),l.jsx(_h,{children:"Firma Requerida"}),l.jsx(Xd,{children:"Firma en el recuadro para confirmar tu solicitud. Esta firma se guardará como comprobante de tu autorización."})]}),l.jsx("div",{className:"w-full h-[200px] bg-background rounded-md border border-dashed",children:l.jsx($2,{ref:u,penColor:"white",canvasProps:{className:"w-full h-full"}})}),l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>u.current.clear(),children:"Limpiar Firma"}),l.jsxs("div",{className:"pt-2",children:[l.jsx(ht,{children:"Nombre del Solicitante (Confirmación)"}),l.jsx(Ot,{readOnly:!0,value:(g==null?void 0:g.full_name)||"Cargando...",className:"mt-1 bg-muted/50 cursor-not-allowed"})]}),l.jsx("div",{className:"flex items-start space-x-3 mt-4",children:l.jsx(fo,{name:"legalAuth",control:m.control,render:({field:T,fieldState:{error:M}})=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(B4,{id:"legalAuth",checked:T.value,onCheckedChange:T.onChange,className:"mt-1"}),l.jsxs("div",{className:"grid gap-1.5 leading-none",children:[l.jsx(ht,{htmlFor:"legalAuth",className:Je(M&&"text-destructive"),children:"Autorizo y acepto los términos *"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Entiendo que esta solicitud es una autorización vinculante para pujar en mi nombre hasta el monto máximo especificado."}),M&&l.jsx("p",{className:"text-sm font-medium text-destructive mt-1",children:M.message})]})]})})})]})]},"step2")]}),l.jsxs("div",{className:"flex justify-between items-center pt-8 mt-8 border-t",children:[t>1&&l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>n(1),children:"Anterior"}),l.jsx("div",{className:"flex-grow"}),t<2?l.jsx(Ue,{type:"button",size:"lg",onClick:_,children:"Siguiente"}):l.jsx(Ue,{type:"submit",size:"lg",disabled:r||!m.formState.isValid,children:r?"Enviando...":"Enviar Solicitud Final"})]})]})})]})]})}var O2="Tabs",[nfe,dxe]=Ui(O2,[Jm]),XD=Jm(),[rfe,b_]=nfe(O2),JD=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,f=Ym(o),[h,g]=go({prop:r,onChange:i,defaultProp:s??"",caller:O2});return l.jsx(rfe,{scope:n,baseId:ol(),value:h,onValueChange:g,orientation:a,dir:f,activationMode:c,children:l.jsx(jt.div,{dir:f,"data-orientation":a,...u,ref:t})})});JD.displayName=O2;var ZD="TabsList",QD=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=b_(ZD,n),a=XD(n);return l.jsx(r_,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(jt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});QD.displayName=ZD;var eO="TabsTrigger",tO=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=b_(eO,n),o=XD(n),c=iO(a.baseId,r),u=sO(a.baseId,r),f=r===a.value;return l.jsx(i_,{asChild:!0,...o,focusable:!i,active:f,children:l.jsx(jt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:rt(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:rt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:rt(e.onFocus,()=>{const h=a.activationMode!=="manual";!f&&!i&&h&&a.onValueChange(r)})})})});tO.displayName=eO;var nO="TabsContent",rO=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=b_(nO,n),c=iO(o.baseId,r),u=sO(o.baseId,r),f=r===o.value,h=w.useRef(f);return w.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(Vs,{present:i||f,children:({present:g})=>l.jsx(jt.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&s})})});rO.displayName=nO;function iO(e,t){return`${e}-trigger-${t}`}function sO(e,t){return`${e}-content-${t}`}var ife=JD,aO=QD,oO=tO,lO=rO;const I2=ife,jv=w.forwardRef(({className:e,...t},n)=>l.jsx(aO,{ref:n,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jv.displayName=aO.displayName;const Fh=w.forwardRef(({className:e,...t},n)=>l.jsx(oO,{ref:n,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Fh.displayName=oO.displayName;const sl=w.forwardRef(({className:e,...t},n)=>l.jsx(lO,{ref:n,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));sl.displayName=lO.displayName;const Eu=()=>{const e=qn.useSupabaseClient(),{user:t}=vo(),{toast:n}=Pn(),[r,i]=w.useState(!1),s=w.useCallback(async()=>{i(!0);try{const[A,R,D,T]=await Promise.all([e.from("inspections").select("*").order("created_at",{ascending:!1}),e.from("legalizations").select("*").order("created_at",{ascending:!1}),e.from("power_buying_requests").select("*").order("created_at",{ascending:!1}),e.from("vin_check_logs").select("*").order("created_at",{ascending:!1})]),M=[A.error,R.error,D.error,T.error].filter(Boolean);if(M.length>0){const J=M.map(W=>W.message).join(", ");throw new Error(J)}const U=[...A.data.map(J=>({...J,type:"Inspección",type_key:"inspections"})),...R.data.map(J=>({...J,type:"Legalización",type_key:"legalizations"})),...D.data.map(J=>({...J,type:"Power Buying",type_key:"power_buying_requests"})),...T.data.map(J=>({...J,type:"Chequeo VIN",type_key:"vin_check_logs"}))];if(U.length===0)return{success:!0,data:[]};const ee=[...new Set(U.map(J=>J.user_id).filter(Boolean))],{data:F,error:O}=await e.from("users_profile").select("id, full_name, email").in("id",ee);if(O)throw O;const H=new Map(F.map(J=>[J.id,J]));return{success:!0,data:U.map(J=>{const W=H.get(J.user_id)||{full_name:"Usuario no encontrado",email:""};return{...J,user:W}}).sort((J,W)=>new Date(W.created_at)-new Date(J.created_at))}}catch(A){return console.error("Error fetching all requests:",A),n({variant:"destructive",title:"❌ Error al cargar solicitudes",description:A.message}),{success:!1,data:[]}}finally{i(!1)}},[e,n]),a=w.useCallback(async(A,R,D)=>{i(!0);const M={inspections:"inspections",legalizations:"legalizations",power_buying_requests:"power_buying_requests",vin_check_logs:"vin_check_logs"}[R];if(!M)return n({variant:"destructive",title:"❌ Error",description:"Tipo de solicitud inválido."}),i(!1),{success:!1,error:{message:"Tipo de solicitud inválido."}};try{const{error:U}=await e.from(M).update({status:D}).eq("id",A);if(U)throw U;return n({title:"✅ Estado actualizado",description:`La solicitud ha sido actualizada a "${D}".`}),{success:!0}}catch(U){return console.error(`Error updating status for ${R}:`,U),n({variant:"destructive",title:"❌ Error al actualizar estado",description:U.message}),{success:!1,error:U}}finally{i(!1)}},[e,n]),o=w.useCallback(async()=>{i(!0);try{const{data:A,error:R}=await e.from("users_profile").select("*").order("created_at",{ascending:!1});if(R)throw R;return{success:!0,data:await Promise.all(A.map(async T=>{const M=T.user_id||T.id,{data:U,error:ee}=await e.from("documents").select("id, file_path, status, rejection_reason, document_type").eq("user_id",M).in("document_type",["id_front","id_back","selfie"]);ee&&console.error("Error documentos:",ee),console.log(`Documentos encontrados para ${M}:`,U);const F=(U==null?void 0:U.map(O=>{const H=O.file_path.replace(/^kycdocuments\//,""),{data:{publicUrl:V}}=e.storage.from("kycdocuments").getPublicUrl(H);return{...O,url:V,type:O.document_type}}))||[];return{...T,documents:F}})),error:null}}catch(A){return console.error("Error en fetchAllUsers:",A),{success:!1,error:A,data:[]}}finally{i(!1)}},[e]),c=w.useCallback(async(A,R)=>{i(!0);try{const{error:D}=await e.from("users_profile").update({verification_status:R}).eq("id",A);if(D)throw D;return n({title:"✅ Verificación de usuario actualizada",description:`El estado del usuario ahora es "${R}".`}),{success:!0}}catch(D){return console.error("Error en updateUserVerification:",D),n({variant:"destructive",title:"❌ Error al verificar usuario",description:D.message}),{success:!1,error:D}}finally{i(!1)}},[e,n]),u=w.useCallback(async(A,R,D=null)=>{i(!0);try{const{error:T}=await e.from("documents").update({status:R,rejection_reason:D}).eq("id",A);if(T)throw T;return n({title:"✅ Documento actualizado",description:`El estado del documento ahora es "${R}".`}),{success:!0}}catch(T){return console.error("Error en updateDocumentStatus:",T),n({variant:"destructive",title:"❌ Error al actualizar documento",description:`Razón: ${T.message}.`}),{success:!1,error:T}}finally{i(!1)}},[e,n]),f=w.useCallback(async A=>{i(!0);try{const{data:R,error:D}=await e.rpc("get_all_legalizations",{p_status:A==null?void 0:A.status,p_start_date:A==null?void 0:A.startDate,p_end_date:A==null?void 0:A.endDate});if(D)throw D;return{success:!0,data:R,error:null}}catch(R){return console.error("Error fetching all legalizations:",R),n({variant:"destructive",title:"❌ Error al cargar legalizaciones",description:R.message}),{success:!1,data:null,error:R}}finally{i(!1)}},[e,n]),h=w.useCallback(async A=>{if(!A)return{success:!1,data:null,error:"No ID provided"};const{data:R,error:D}=await e.from("documents").select("*").eq("legalization_id",A);return D?(console.error("Error fetching documents for legalization:",D),{success:!1,data:null,error:D}):{success:!0,data:R,error:null}},[e]),g=w.useCallback(async(A,R="kycdocuments")=>{try{const{data:{publicUrl:D}}=e.storage.from(R).getPublicUrl(A);return{success:!0,url:D}}catch(D){return console.error("Error getting document URL:",D),{success:!1,url:null,error:D}}},[e]),m=w.useCallback(async()=>{i(!0);try{const{data:A,error:R}=await e.from("deposits").select("*").order("created_at",{ascending:!1});if(R)throw R;if(!A||A.length===0)return{success:!0,data:[]};const D=[...new Set(A.map(F=>F.user_id).filter(Boolean))];if(D.length===0)return{success:!0,data:A.map(O=>({...O,user_profile:null})),error:null};const{data:T,error:M}=await e.from("users_profile").select("id, full_name, email").in("id",D);if(M)throw M;const U=new Map(T.map(F=>[F.id,F]));return{success:!0,data:A.map(F=>({...F,user_profile:U.get(F.user_id)||null})),error:null}}catch(A){return console.error("Error fetching all deposits:",A),n({variant:"destructive",title:"❌ Error al cargar depósitos",description:A.message}),{success:!1,data:[],error:A}}finally{i(!1)}},[e,n]),x=w.useCallback(async(A,R)=>{i(!0);try{const{error:D}=await e.rpc("update_deposit_status",{deposit_id_to_update:A,new_status:R});if(D)throw D;return n({title:"✅ Estado de depósito actualizado",description:`El depósito ha sido marcado como "${R}".`}),{success:!0,error:null}}catch(D){return console.error("Error updating deposit status:",D),n({variant:"destructive",title:"❌ Error al actualizar depósito",description:D.message}),{success:!1,error:D}}finally{i(!1)}},[e,n]),y=w.useCallback(async()=>{try{const[A,R,D,T,M,U,ee,F]=await Promise.all([e.from("inspections").select("id",{count:"exact"}).eq("status","pending"),e.from("legalizations").select("id",{count:"exact"}).eq("status","pending"),e.from("power_buying_requests").select("id",{count:"exact"}).eq("status","pending"),e.from("vin_check_logs").select("id",{count:"exact"}).eq("status","pending"),e.from("documents").select("id",{count:"exact"}).eq("status","pending"),e.from("chat_messages").select("id",{count:"exact"}).eq("is_read",!1),e.from("users_profile").select("id",{count:"exact"}),e.from("deposits").select("id",{count:"exact"}).eq("status","pending")]);return{success:!0,data:{pendingRequests:(A.count||0)+(R.count||0)+(D.count||0)+(T.count||0),totalUsers:ee.count||0,pendingDocuments:M.count||0,unreadMessages:U.count||0,pendingDeposits:F.count||0}}}catch(A){return console.error("Error al obtener estadísticas:",A),{success:!1,error:A}}},[e]),S=w.useCallback(async A=>{try{const{data:R,error:D}=await e.from("notifications").insert(A).select();if(D)throw D;return{success:!0,data:R}}catch(R){return console.error("Error al crear notificación:",R),{success:!1,error:R}}},[e]),_=w.useCallback(async(A,R,D=null)=>{if(!t)return{data:null,error:{message:"Usuario no autenticado."}};let T=null,M=null;try{if(D){const O=`${t.id}/${Date.now()}_${D.name}`,{error:H}=await e.storage.from("chatdocuments").upload(O,D);if(H)throw H;T=O,M=D.type}if(!R&&!D)return{data:null,error:{message:"No se puede enviar un mensaje vacío."}};const U={sender_id:t.id,receiver_id:A,content:R||null,file_path:T,file_type:M,is_read:!1},{data:ee,error:F}=await e.from("chat_messages").insert(U).select().single();if(F)throw F;return{data:ee,error:null}}catch(U){return console.error("Error al enviar mensaje de admin:",U),{data:null,error:U}}},[e,t]),C=w.useCallback(async(A,R)=>{if(!t)return{error:{message:"Usuario no autenticado."}};try{const D={status:R};R==="solucionado"?(D.closed_at=new Date().toISOString(),D.closed_by=t.id):(D.closed_at=null,D.closed_by=null);const{data:T,error:M}=await e.from("chat_conversations").update(D).eq("client_id",A).select().single();if(M)throw M;return n({title:"✅ Estado actualizado",description:`La conversación ahora está "${R}".`}),{data:T,error:null}}catch(D){return console.error("Error en updateChatStatus:",D),n({variant:"destructive",title:"❌ Error al actualizar estado",description:D.message}),{data:null,error:D}}},[e,t,n]);return{loading:r,fetchAllRequests:s,updateRequestStatus:a,fetchAllUsers:o,updateUserVerification:c,updateDocumentStatus:u,fetchAllLegalizations:f,getDocumentsForLegalization:h,getDocumentDownloadUrl:g,getDashboardStats:y,createNotification:S,sendAdminMessage:_,updateChatStatus:C,fetchAllDeposits:m,updateDepositStatus:x,fetchAllDocuments:async()=>{const{data:A,error:R}=await e.from("documents").select("*").order("created_at",{ascending:!1});if(R)return console.error("Error al obtener los documentos:",R),{success:!1,data:[],error:R};const{data:D,error:T}=await e.from("users_profile").select("id, full_name, email");return T?(console.error("Error al obtener perfiles:",T),{success:!1,data:[],error:T}):{success:!0,data:A.map(U=>{const ee=D.find(F=>F.id===U.user_id);return{...U,user_profile:ee||null}}),error:null}}}},sfe=({stats:e,loading:t})=>{const n=[{title:"Total Usuarios",value:(e==null?void 0:e.totalUsers)||0,icon:C0,borderColor:"#3b82f6"},{title:"Solicitudes Pendientes",value:(e==null?void 0:e.pendingRequests)||0,icon:Tk,borderColor:"#f59e0b"},{title:"Documentos Pendientes",value:(e==null?void 0:e.pendingDocuments)||0,icon:y5,borderColor:"#eab308"},{title:"Mensajes Sin Leer",value:(e==null?void 0:e.unreadMessages)||0,icon:Ox,borderColor:"#a855f7"},{title:"Depósitos Pendientes",value:(e==null?void 0:e.pendingDeposits)||0,icon:kk,borderColor:"#f97316"}];return t?l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:Array.from({length:5}).map((r,i)=>l.jsx(ct,{className:"bg-card border-border animate-pulse h-32",children:l.jsxs(ut,{className:"pt-6",children:[l.jsx("div",{className:"h-6 bg-muted rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]})},i))}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:n.map((r,i)=>l.jsx(Bt.div,{className:"h-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i*.05,ease:"easeOut"},children:l.jsxs(ct,{className:"bg-card border-border shadow-sm hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",style:{borderLeftWidth:"4px",borderLeftColor:r.borderColor},children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:r.title}),l.jsx(r.icon,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(ut,{className:"flex-grow flex flex-col justify-end",children:l.jsx("div",{className:"text-3xl font-bold text-foreground",children:r.value})})]})},r.title))})};var tS=["Enter"," "],afe=["ArrowDown","PageUp","Home"],cO=["ArrowUp","PageDown","End"],ofe=[...afe,...cO],lfe={ltr:[...tS,"ArrowRight"],rtl:[...tS,"ArrowLeft"]},cfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pv="Menu",[M0,ufe,dfe]=J0(Pv),[Qh,uO]=Ui(Pv,[dfe,pf,Jm]),M2=pf(),dO=Jm(),[ffe,ep]=Qh(Pv),[hfe,Av]=Qh(Pv),fO=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,o=M2(t),[c,u]=w.useState(null),f=w.useRef(!1),h=Fs(s),g=Ym(i);return w.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(GS,{...o,children:l.jsx(ffe,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(hfe,{scope:t,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:g,modal:a,children:r})})})};fO.displayName=Pv;var pfe="MenuAnchor",w_=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=M2(n);return l.jsx(X0,{...i,...r,ref:t})});w_.displayName=pfe;var S_="MenuPortal",[mfe,hO]=Qh(S_,{forceMount:void 0}),pO=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=ep(S_,t);return l.jsx(mfe,{scope:t,forceMount:n,children:l.jsx(Vs,{present:n||s.open,children:l.jsx(Hm,{asChild:!0,container:i,children:r})})})};pO.displayName=S_;var po="MenuContent",[gfe,__]=Qh(po),mO=w.forwardRef((e,t)=>{const n=hO(po,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=ep(po,e.__scopeMenu),a=Av(po,e.__scopeMenu);return l.jsx(M0.Provider,{scope:e.__scopeMenu,children:l.jsx(Vs,{present:r||s.open,children:l.jsx(M0.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(vfe,{...i,ref:t}):l.jsx(yfe,{...i,ref:t})})})})}),vfe=w.forwardRef((e,t)=>{const n=ep(po,e.__scopeMenu),r=w.useRef(null),i=tn(t,r);return w.useEffect(()=>{const s=r.current;if(s)return c2(s)},[]),l.jsx(C_,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:rt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),yfe=w.forwardRef((e,t)=>{const n=ep(po,e.__scopeMenu);return l.jsx(C_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xfe=Zd("MenuContent.ScrollLock"),C_=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:m,disableOutsideScroll:x,...y}=e,S=ep(po,n),_=Av(po,n),C=M2(n),P=dO(n),A=ufe(n),[R,D]=w.useState(null),T=w.useRef(null),M=tn(t,T,S.onContentChange),U=w.useRef(0),ee=w.useRef(""),F=w.useRef(0),O=w.useRef(null),H=w.useRef("right"),V=w.useRef(0),ae=x?av:w.Fragment,J=x?{as:xfe,allowPinchZoom:!0}:void 0,W=ne=>{var he,ge;const se=ee.current+ne,X=A().filter(be=>!be.disabled),B=document.activeElement,Q=(he=X.find(be=>be.ref.current===B))==null?void 0:he.textValue,re=X.map(be=>be.textValue),ce=$fe(re,se,Q),ue=(ge=X.find(be=>be.textValue===ce))==null?void 0:ge.ref.current;(function be(Le){ee.current=Le,window.clearTimeout(U.current),Le!==""&&(U.current=window.setTimeout(()=>be(""),1e3))})(se),ue&&setTimeout(()=>ue.focus())};w.useEffect(()=>()=>window.clearTimeout(U.current),[]),o2();const z=w.useCallback(ne=>{var X,B;return H.current===((X=O.current)==null?void 0:X.side)&&Tfe(ne,(B=O.current)==null?void 0:B.area)},[]);return l.jsx(gfe,{scope:n,searchRef:ee,onItemEnter:w.useCallback(ne=>{z(ne)&&ne.preventDefault()},[z]),onItemLeave:w.useCallback(ne=>{var se;z(ne)||((se=T.current)==null||se.focus(),D(null))},[z]),onTriggerLeave:w.useCallback(ne=>{z(ne)&&ne.preventDefault()},[z]),pointerGraceTimerRef:F,onPointerGraceIntentChange:w.useCallback(ne=>{O.current=ne},[]),children:l.jsx(ae,{...J,children:l.jsx(sv,{asChild:!0,trapped:i,onMountAutoFocus:rt(s,ne=>{var se;ne.preventDefault(),(se=T.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Wh,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:m,children:l.jsx(r_,{asChild:!0,...P,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:rt(c,ne=>{_.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(zx,{role:"menu","aria-orientation":"vertical","data-state":$O(S.open),"data-radix-menu-content":"",dir:_.dir,...C,...y,ref:M,style:{outline:"none",...y.style},onKeyDown:rt(y.onKeyDown,ne=>{const X=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,B=ne.ctrlKey||ne.altKey||ne.metaKey,Q=ne.key.length===1;X&&(ne.key==="Tab"&&ne.preventDefault(),!B&&Q&&W(ne.key));const re=T.current;if(ne.target!==re||!ofe.includes(ne.key))return;ne.preventDefault();const ue=A().filter(he=>!he.disabled).map(he=>he.ref.current);cO.includes(ne.key)&&ue.reverse(),kfe(ue)}),onBlur:rt(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(U.current),ee.current="")}),onPointerMove:rt(e.onPointerMove,F0(ne=>{const se=ne.target,X=V.current!==ne.clientX;if(ne.currentTarget.contains(se)&&X){const B=ne.clientX>V.current?"right":"left";H.current=B,V.current=ne.clientX}}))})})})})})})});mO.displayName=po;var bfe="MenuGroup",N_=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(jt.div,{role:"group",...r,ref:t})});N_.displayName=bfe;var wfe="MenuLabel",gO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(jt.div,{...r,ref:t})});gO.displayName=wfe;var px="MenuItem",k8="menu.itemSelect",F2=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=w.useRef(null),a=Av(px,e.__scopeMenu),o=__(px,e.__scopeMenu),c=tn(t,s),u=w.useRef(!1),f=()=>{const h=s.current;if(!n&&h){const g=new CustomEvent(k8,{bubbles:!0,cancelable:!0});h.addEventListener(k8,m=>r==null?void 0:r(m),{once:!0}),IS(h,g),g.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(vO,{...i,ref:c,disabled:n,onClick:rt(e.onClick,f),onPointerDown:h=>{var g;(g=e.onPointerDown)==null||g.call(e,h),u.current=!0},onPointerUp:rt(e.onPointerUp,h=>{var g;u.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:rt(e.onKeyDown,h=>{const g=o.searchRef.current!=="";n||g&&h.key===" "||tS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});F2.displayName=px;var vO=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=__(px,n),o=dO(n),c=w.useRef(null),u=tn(t,c),[f,h]=w.useState(!1),[g,m]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[s.children]),l.jsx(M0.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:l.jsx(i_,{asChild:!0,...o,focusable:!r,children:l.jsx(jt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:rt(e.onPointerMove,F0(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rt(e.onPointerLeave,F0(x=>a.onItemLeave(x))),onFocus:rt(e.onFocus,()=>h(!0)),onBlur:rt(e.onBlur,()=>h(!1))})})})}),Sfe="MenuCheckboxItem",yO=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(_O,{scope:e.__scopeMenu,checked:n,children:l.jsx(F2,{role:"menuitemcheckbox","aria-checked":mx(n)?"mixed":n,...i,ref:t,"data-state":P_(n),onSelect:rt(i.onSelect,()=>r==null?void 0:r(mx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yO.displayName=Sfe;var xO="MenuRadioGroup",[_fe,Cfe]=Qh(xO,{value:void 0,onValueChange:()=>{}}),bO=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Fs(r);return l.jsx(_fe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(N_,{...i,ref:t})})});bO.displayName=xO;var wO="MenuRadioItem",SO=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=Cfe(wO,e.__scopeMenu),s=n===i.value;return l.jsx(_O,{scope:e.__scopeMenu,checked:s,children:l.jsx(F2,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":P_(s),onSelect:rt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});SO.displayName=wO;var j_="MenuItemIndicator",[_O,Nfe]=Qh(j_,{checked:!1}),CO=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=Nfe(j_,n);return l.jsx(Vs,{present:r||mx(s.checked)||s.checked===!0,children:l.jsx(jt.span,{...i,ref:t,"data-state":P_(s.checked)})})});CO.displayName=j_;var jfe="MenuSeparator",NO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(jt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});NO.displayName=jfe;var Pfe="MenuArrow",jO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=M2(n);return l.jsx(Ux,{...i,...r,ref:t})});jO.displayName=Pfe;var Afe="MenuSub",[fxe,PO]=Qh(Afe),qg="MenuSubTrigger",AO=w.forwardRef((e,t)=>{const n=ep(qg,e.__scopeMenu),r=Av(qg,e.__scopeMenu),i=PO(qg,e.__scopeMenu),s=__(qg,e.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(w_,{asChild:!0,...u,children:l.jsx(vO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$O(n.open),...e,ref:Mx(t,i.onTriggerChange),onClick:h=>{var g;(g=e.onClick)==null||g.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:rt(e.onPointerMove,F0(h=>{s.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:rt(e.onPointerLeave,F0(h=>{var m,x;f();const g=(m=n.content)==null?void 0:m.getBoundingClientRect();if(g){const y=(x=n.content)==null?void 0:x.dataset.side,S=y==="right",_=S?-5:5,C=g[S?"left":"right"],P=g[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:C,y:g.top},{x:P,y:g.top},{x:P,y:g.bottom},{x:C,y:g.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:rt(e.onKeyDown,h=>{var m;const g=s.searchRef.current!=="";e.disabled||g&&h.key===" "||lfe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});AO.displayName=qg;var kO="MenuSubContent",EO=w.forwardRef((e,t)=>{const n=hO(po,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=ep(po,e.__scopeMenu),a=Av(po,e.__scopeMenu),o=PO(kO,e.__scopeMenu),c=w.useRef(null),u=tn(t,c);return l.jsx(M0.Provider,{scope:e.__scopeMenu,children:l.jsx(Vs,{present:r||s.open,children:l.jsx(M0.Slot,{scope:e.__scopeMenu,children:l.jsx(C_,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:rt(e.onFocusOutside,f=>{f.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:rt(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:rt(e.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),g=cfe[a.dir].includes(f.key);h&&g&&(s.onOpenChange(!1),(m=o.trigger)==null||m.focus(),f.preventDefault())})})})})})});EO.displayName=kO;function $O(e){return e?"open":"closed"}function mx(e){return e==="indeterminate"}function P_(e){return mx(e)?"indeterminate":e?"checked":"unchecked"}function kfe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Efe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function $fe(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Efe(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Rfe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],c=t[a],u=o.x,f=o.y,h=c.x,g=c.y;f>r!=g>r&&n<(h-u)*(r-f)/(g-f)+u&&(i=!i)}return i}function Tfe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Rfe(n,t)}function F0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Lfe=fO,Dfe=w_,Ofe=pO,Ife=mO,Mfe=N_,Ffe=gO,Bfe=F2,Vfe=yO,zfe=bO,Ufe=SO,Wfe=CO,Hfe=NO,qfe=jO,Gfe=AO,Kfe=EO,B2="DropdownMenu",[Yfe,hxe]=Ui(B2,[uO]),Us=uO(),[Xfe,RO]=Yfe(B2),TO=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,c=Us(t),u=w.useRef(null),[f,h]=go({prop:i,defaultProp:s??!1,onChange:a,caller:B2});return l.jsx(Xfe,{scope:t,triggerId:ol(),triggerRef:u,contentId:ol(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(g=>!g),[h]),modal:o,children:l.jsx(Lfe,{...c,open:f,onOpenChange:h,dir:r,modal:o,children:n})})};TO.displayName=B2;var LO="DropdownMenuTrigger",DO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=RO(LO,n),a=Us(n);return l.jsx(Dfe,{asChild:!0,...a,children:l.jsx(jt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Mx(t,s.triggerRef),onPointerDown:rt(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:rt(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});DO.displayName=LO;var Jfe="DropdownMenuPortal",OO=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Us(t);return l.jsx(Ofe,{...r,...n})};OO.displayName=Jfe;var IO="DropdownMenuContent",MO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=RO(IO,n),s=Us(n),a=w.useRef(!1);return l.jsx(Ife,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:rt(e.onCloseAutoFocus,o=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:rt(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MO.displayName=IO;var Zfe="DropdownMenuGroup",Qfe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Mfe,{...i,...r,ref:t})});Qfe.displayName=Zfe;var ehe="DropdownMenuLabel",FO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Ffe,{...i,...r,ref:t})});FO.displayName=ehe;var the="DropdownMenuItem",BO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Bfe,{...i,...r,ref:t})});BO.displayName=the;var nhe="DropdownMenuCheckboxItem",VO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Vfe,{...i,...r,ref:t})});VO.displayName=nhe;var rhe="DropdownMenuRadioGroup",ihe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(zfe,{...i,...r,ref:t})});ihe.displayName=rhe;var she="DropdownMenuRadioItem",zO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Ufe,{...i,...r,ref:t})});zO.displayName=she;var ahe="DropdownMenuItemIndicator",UO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Wfe,{...i,...r,ref:t})});UO.displayName=ahe;var ohe="DropdownMenuSeparator",WO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Hfe,{...i,...r,ref:t})});WO.displayName=ohe;var lhe="DropdownMenuArrow",che=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(qfe,{...i,...r,ref:t})});che.displayName=lhe;var uhe="DropdownMenuSubTrigger",HO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Gfe,{...i,...r,ref:t})});HO.displayName=uhe;var dhe="DropdownMenuSubContent",qO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Us(n);return l.jsx(Kfe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qO.displayName=dhe;var fhe=TO,hhe=DO,phe=OO,GO=MO,KO=FO,YO=BO,XO=VO,JO=zO,ZO=UO,QO=WO,eI=HO,tI=qO;const xc=fhe,bc=hhe,mhe=w.forwardRef(({className:e,inset:t,children:n,...r},i)=>l.jsxs(eI,{ref:i,className:Je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Lx,{className:"ml-auto h-4 w-4"})]}));mhe.displayName=eI.displayName;const ghe=w.forwardRef(({className:e,...t},n)=>l.jsx(tI,{ref:n,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ghe.displayName=tI.displayName;const bl=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(phe,{children:l.jsx(GO,{ref:r,sideOffset:t,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bl.displayName=GO.displayName;const ur=w.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(YO,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ur.displayName=YO.displayName;const vhe=w.forwardRef(({className:e,children:t,checked:n,...r},i)=>l.jsxs(XO,{ref:i,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(ZO,{children:l.jsx(Tx,{className:"h-4 w-4"})})}),t]}));vhe.displayName=XO.displayName;const yhe=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(JO,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(ZO,{children:l.jsx(Ek,{className:"h-2 w-2 fill-current"})})}),t]}));yhe.displayName=JO.displayName;const wl=w.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(KO,{ref:r,className:Je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));wl.displayName=KO.displayName;const wf=w.forwardRef(({className:e,...t},n)=>l.jsx(QO,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));wf.displayName=QO.displayName;const nI=({requests:e,loading:t,onStatusUpdate:n})=>{const[r,i]=w.useState(""),[s,a]=w.useState("all"),[o,c]=w.useState("all"),u=g=>{const x={pending:{icon:si,color:"text-yellow-900",bg:"bg-yellow-300",label:"Pendiente"},processing:{icon:si,color:"text-blue-900",bg:"bg-blue-300",label:"Procesando"},completed:{icon:vn,color:"text-green-900",bg:"bg-green-300",label:"Completado"},approved:{icon:vn,color:"text-green-900",bg:"bg-green-300",label:"Aprobado"},rejected:{icon:Qi,color:"text-red-900",bg:"bg-red-300",label:"Rechazado"},cancelled:{icon:Qi,color:"text-gray-900",bg:"bg-gray-300",label:"Cancelado"}}[g]||{icon:Ni,color:"text-gray-900",bg:"bg-gray-300",label:g},y=x.icon;return l.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x.bg} ${x.color}`,children:[l.jsx(y,{className:"w-3 h-3 mr-1"}),x.label]})},f=w.useMemo(()=>e.filter(g=>{var _,C,P;const m=g.user||{},x=r===""||((_=m.full_name)==null?void 0:_.toLowerCase().includes(r.toLowerCase()))||((C=m.email)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))||((P=g.id)==null?void 0:P.toLowerCase().includes(r.toLowerCase())),y=s==="all"||g.status===s,S=o==="all"||g.type_key===o;return x&&y&&S}),[e,r,s,o]),h=(g,m,x)=>{n(g,m,x)};return l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Solicitudes en Tiempo Real"}),l.jsx(pn,{children:"Gestiona todas las solicitudes de los clientes"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-2",children:[l.jsx(Ot,{placeholder:"Buscar por cliente, email o ID...",value:r,onChange:g=>i(g.target.value),className:"max-w-sm"}),l.jsxs(Pr,{value:o,onValueChange:c,children:[l.jsx(dr,{className:"w-full md:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por tipo"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los tipos"}),l.jsx(nt,{value:"inspections",children:"Inspección"}),l.jsx(nt,{value:"legalizations",children:"Legalización"}),l.jsx(nt,{value:"power_buying_requests",children:"Power Buying"}),l.jsx(nt,{value:"vin_check_logs",children:"VIN Check"})]})]}),l.jsxs(Pr,{value:s,onValueChange:a,children:[l.jsx(dr,{className:"w-full md:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"processing",children:"Procesando"}),l.jsx(nt,{value:"completed",children:"Completado"}),l.jsx(nt,{value:"approved",children:"Aprobado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]})]})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"ID"}),l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Tipo"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Fecha"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:f.length>0?f.map((g,m)=>{var x,y;return l.jsxs(Bt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:m*.05},className:"border-b transition-colors hover:bg-muted/50",children:[l.jsxs(ot,{className:"font-medium font-mono text-xs",children:[String(g.id).slice(0,8),"..."]}),l.jsx(ot,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:((x=g.user)==null?void 0:x.full_name)||"N/A"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:((y=g.user)==null?void 0:y.email)||""})]})}),l.jsx(ot,{children:l.jsx("span",{className:"px-2 py-1 rounded-md bg-secondary text-secondary-foreground text-xs font-medium",children:g.type})}),l.jsx(ot,{children:u(g.status)}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:new Date(g.created_at).toLocaleDateString("es-ES")}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsxs(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Abrir menú"}),l.jsx(gc,{className:"h-4 w-4"})]})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsxs(ur,{children:[l.jsx(Dx,{className:"w-4 h-4 mr-2"}),"Ver Detalles"]}),l.jsx(wf,{}),l.jsxs(ur,{onClick:()=>h(g.id,g.type_key,"processing"),children:[l.jsx(si,{className:"w-4 h-4 mr-2 text-blue-600"}),"Marcar Procesando"]}),l.jsxs(ur,{onClick:()=>h(g.id,g.type_key,"completed"),children:[l.jsx(vn,{className:"w-4 h-4 mr-2 text-green-600"}),"Marcar Completado"]}),l.jsxs(ur,{onClick:()=>h(g.id,g.type_key,"rejected"),children:[l.jsx(Qi,{className:"w-4 h-4 mr-2 text-red-600"}),"Rechazar"]})]})]})})]},g.id)}):l.jsx(mn,{children:l.jsx(ot,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"No se encontraron solicitudes con los filtros actuales."})})})]})})]})},rI=({documents:e,loading:t,onStatusUpdate:n})=>{const[r,i]=w.useState(""),[s,a]=w.useState("all"),o=h=>{const m={pending:{icon:Ni,color:"text-yellow-900",bg:"bg-yellow-300",label:"Pendiente"},approved:{icon:vn,color:"text-green-900",bg:"bg-green-300",label:"Aprobado"},rejected:{icon:Qi,color:"text-red-900",bg:"bg-red-300",label:"Rechazado"}}[h]||{icon:Ni,color:"text-gray-600",bg:"bg-gray-100",label:h},x=m.icon;return l.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.bg} ${m.color}`,children:[l.jsx(x,{className:"w-3 h-3 mr-1"}),m.label]})},c=e.filter(h=>{var x,y,S;const g=r===""||((x=h.client_name)==null?void 0:x.toLowerCase().includes(r.toLowerCase()))||((y=h.file_name)==null?void 0:y.toLowerCase().includes(r.toLowerCase()))||((S=h.document_type)==null?void 0:S.toLowerCase().includes(r.toLowerCase())),m=s==="all"||h.status===s;return g&&m}),u=(h,g,m=null)=>{n(h,g,m)},f=h=>{const g=prompt("Por favor, ingresa el motivo del rechazo:");g!==null&&g.trim()!==""&&u(h,"rejected",g)};return t?l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Documentos en Tiempo Real"}),l.jsx(pn,{children:"Cargando documentos..."})]}),l.jsx(ut,{children:l.jsx("div",{className:"animate-pulse space-y-4",children:Array.from({length:5}).map((h,g)=>l.jsx("div",{className:"h-12 bg-muted rounded"},g))})})]}):l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Documentos en Tiempo Real"}),l.jsx(pn,{children:"Revisa y valida documentos subidos por los clientes"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-2",children:[l.jsx(Ot,{placeholder:"Buscar por cliente, archivo o tipo...",value:r,onChange:h=>i(h.target.value),className:"max-w-sm"}),l.jsxs(Pr,{value:s,onValueChange:a,children:[l.jsx(dr,{className:"w-full md:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"approved",children:"Aprobado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]})]})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Archivo"}),l.jsx(wt,{children:"Tipo"}),l.jsx(wt,{children:"Tamaño"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Fecha"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:c.length>0?c.map((h,g)=>l.jsxs(Bt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:g*.05},className:"border-b transition-colors hover:bg-muted/50",children:[l.jsx(ot,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:h.full_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:h.short_id}),l.jsx("div",{className:"text-sm text-muted-foreground",children:h.email})]})}),l.jsx(ot,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mo,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"max-w-[200px] truncate",children:h.file_name})]})}),l.jsx(ot,{children:l.jsx("span",{className:"px-2 py-1 rounded-md bg-secondary text-secondary-foreground text-xs font-medium",children:h.document_type})}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:h.file_size?`${(h.file_size/1024/1024).toFixed(2)} MB`:"N/A"}),l.jsx(ot,{children:l.jsxs("div",{children:[o(h.status),h.status==="rejected"&&h.rejection_reason&&l.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Motivo: ",h.rejection_reason]})]})}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:new Date(h.created_at).toLocaleDateString("es-ES")}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsxs(ur,{children:[l.jsx(Dx,{className:"w-4 h-4 mr-2"}),"Ver Documento"]}),l.jsxs(ur,{children:[l.jsx(zm,{className:"w-4 h-4 mr-2"}),"Descargar"]}),l.jsx(wf,{}),l.jsxs(ur,{onClick:()=>u(h.id,"approved"),disabled:h.status==="approved",children:[l.jsx(vn,{className:"w-4 h-4 mr-2 text-green-600"}),"Aprobar"]}),l.jsxs(ur,{onClick:()=>f(h.id),disabled:h.status==="rejected",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2 text-red-600"}),"Rechazar"]})]})]})})]},h.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"No se encontraron documentos con los filtros actuales."})})})]})})]})},E8={pending:{text:"Pendiente",icon:l.jsx(gV,{className:"h-3.5 w-3.5"}),className:"bg-yellow-100 text-yellow-800"},approved:{text:"Aprobada",icon:l.jsx(CV,{className:"h-3.5 w-3.5"}),className:"bg-cyan-100 text-cyan-800"},processing:{text:"Procesando",icon:l.jsx(_y,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},completed:{text:"Completado",icon:l.jsx(rV,{className:"h-3.5 w-3.5"}),className:"bg-green-100 text-green-800"},rejected:{text:"Rechazado",icon:l.jsx(Qi,{className:"h-3.5 w-3.5"}),className:"bg-red-100 text-red-800"},cancelled:{text:"Cancelada",icon:l.jsx(Qi,{className:"h-3.5 w-3.5"}),className:"bg-gray-100 text-gray-700"},scheduled:{text:"Programada",icon:l.jsx(iV,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},on_hold:{text:"En Espera",icon:l.jsx(Sy,{className:"h-3.5 w-3.5"}),className:"bg-gray-100 text-gray-700"},missing_documents:{text:"Documentos Faltantes",icon:l.jsx(Lk,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},missing_information:{text:"Información Faltante",icon:l.jsx(Wr,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},deposit_required:{text:"Depósito Requerido",icon:l.jsx(vN,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},final_payment_required:{text:"Pago Final Requerido",icon:l.jsx($k,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},in_review:{text:"En Revisión",icon:l.jsx(hV,{className:"h-3.5 w-3.5"}),className:"bg-purple-100 text-purple-800"},won:{text:"Ganada",icon:l.jsx(nV,{className:"h-3.5 w-3.5"}),className:"bg-green-100 text-green-800"},lost:{text:"Perdida",icon:l.jsx(wN,{className:"h-3.5 w-3.5"}),className:"bg-red-100 text-red-800"},outbid:{text:"Superada",icon:l.jsx(wN,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},processed:{text:"Procesada",icon:l.jsx(_y,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},pending_payment:{text:"Pendiente de Pago",icon:l.jsx(vN,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},active:{text:"Activo",icon:l.jsx(jV,{className:"h-3.5 w-3.5"}),className:"bg-teal-100 text-teal-800"},verified:{text:"Verificado",icon:l.jsx(Uk,{className:"h-3.5 w-3.5"}),className:"bg-green-100 text-green-800"},paused:{text:"Pausado",icon:l.jsx(Sy,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},not_verified:{text:"Sin Verificar",icon:l.jsx(xN,{className:"h-3.5 w-3.5"}),className:"bg-gray-100 text-gray-700"},admin:{text:"Admin",icon:l.jsx(tm,{className:"h-3.5 w-3.5"}),className:"bg-purple-100 text-purple-800"},client:{text:"Cliente",icon:l.jsx(tm,{className:"h-3.5 w-3.5"}),className:"bg-blue-100 text-blue-800"},support:{text:"Soporte",icon:l.jsx(tm,{className:"h-3.5 w-3.5"}),className:"bg-green-100 text-green-800"},validation:{text:"Validación",icon:l.jsx(tm,{className:"h-3.5 w-3.5"}),className:"bg-orange-100 text-orange-800"},finance:{text:"Finanzas",icon:l.jsx(tm,{className:"h-3.5 w-3.5"}),className:"bg-cyan-100 text-cyan-800"},default:{text:"N/A",icon:l.jsx(xN,{className:"h-3.5 w-3.5"}),className:"bg-gray-100 text-gray-700"}},uf=({status:e})=>{const t=E8[e]||E8.default;return l.jsxs("div",{className:`inline-flex items-center gap-x-1.5 rounded-full px-2.5 py-1 text-xs font-semibold ${t.className}`,children:[t.icon,l.jsx("span",{children:t.text})]})},nS=()=>{const e=qn.useSupabaseClient(),[t,n]=w.useState(!1),{toast:r}=Pn(),{user:i}=vo(),s=w.useCallback(async(h,g,m)=>{n(!0);try{let x;switch(g){case"inspection":x="inspections";break;case"power_buying":x="power_buying_requests";break;case"vin_check":x="vin_check_logs";break;default:throw new Error("Tipo de solicitud no válido o manejado por otra función.")}const{error:y}=await e.from(x).update({status:m,updated_at:new Date().toISOString()}).eq("id",h);if(y)throw y;return r({title:"Estado actualizado",description:`La solicitud ha sido marcada como ${m}.`}),{success:!0}}catch(x){return console.error("Error updating request status:",x),r({variant:"destructive",title:"Error al actualizar estado",description:x.message}),{success:!1,error:x.message}}finally{n(!1)}},[r]),a=w.useCallback(async(h,g,m=null)=>{n(!0);try{const x={status:g,updated_at:new Date().toISOString()};m&&(x.rejection_reason=m);const{error:y}=await e.from("documents").update(x).eq("id",h);if(y)throw y;return r({title:"Documento actualizado",description:`El documento ha sido ${g==="approved"?"aprobado":"rechazado"}.`}),{success:!0}}catch(x){return console.error("Error updating document status:",x),r({variant:"destructive",title:"Error al actualizar documento",description:x.message}),{success:!1,error:x.message}}finally{n(!1)}},[r]),o=w.useCallback(async(h,g)=>{n(!0);try{const{error:m}=await e.from("deposits").update({status:g,updated_at:new Date().toISOString()}).eq("id",h);if(m)throw m;return r({title:"Depósito actualizado",description:`El depósito ha sido marcado como ${g}.`}),{success:!0}}catch(m){return console.error("Error updating deposit status:",m),r({variant:"destructive",title:"Error al actualizar depósito",description:m.message}),{success:!1,error:m.message}}finally{n(!1)}},[r]),c=w.useCallback(async(h,g,m=null)=>{n(!0);try{const x={verification_status:g,updated_at:new Date().toISOString()};m!==null&&(x.buying_power=m);const{error:y}=await e.from("users_profile").update(x).eq("user_id",h);if(y)throw y;return r({title:"Usuario actualizado",description:"El estado de verificación ha sido actualizado."}),{success:!0}}catch(x){return console.error("Error updating user verification:",x),r({variant:"destructive",title:"Error al actualizar usuario",description:x.message}),{success:!1,error:x.message}}finally{n(!1)}},[r]),u=w.useCallback(async(h,g)=>{n(!0);try{const{error:m}=await e.from("chat_messages").insert({sender_id:i.id,receiver_id:h,content:g,is_read:!1});if(m)throw m;return r({title:"Mensaje enviado",description:"El mensaje ha sido enviado correctamente."}),{success:!0}}catch(m){return console.error("Error sending message:",m),r({variant:"destructive",title:"Error al enviar mensaje",description:m.message}),{success:!1,error:m.message}}finally{n(!1)}},[i,r]),f=w.useCallback(async(h,g)=>{n(!0);try{const{data:m,error:x}=await e.from("legalizations").update({...g,updated_at:new Date().toISOString()}).eq("id",h).select().single();if(x)throw x;return r({title:"Legalización actualizada",description:"Los cambios se han guardado correctamente."}),{success:!0,data:m}}catch(m){return console.error("Error updating legalization:",m),r({variant:"destructive",title:"Error al actualizar",description:"No se pudieron guardar los cambios en la legalización."}),{success:!1,data:null,error:m}}finally{n(!1)}},[r]);return{loading:t,updateRequestStatus:s,updateDocumentStatus:a,updateDepositStatus:o,updateUserVerification:c,sendAdminMessage:u,updateLegalization:f}},xhe=({doc:e,onView:t,onApprove:n,onReject:r,isUpdating:i})=>{const[s,a]=w.useState(!1),o=async()=>{a(!0),await t(e),a(!1)},c=u=>{const f={approved:{icon:vn,color:"text-green-700",label:"Aprobado"},rejected:{icon:Qi,color:"text-red-700",label:"Rechazado"},pending:{icon:Sy,color:"text-yellow-700",label:"Pendiente"}}[u]||{icon:sc,color:"text-gray-700",label:"N/A"},h=f.icon;return l.jsxs("span",{className:`flex items-center text-xs font-medium ${f.color}`,children:[l.jsx(h,{className:"w-3 h-3 mr-1.5"}),f.label]})};return l.jsxs("div",{className:"p-3 border rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("button",{onClick:o,disabled:s,className:"flex items-center gap-2 text-primary hover:underline disabled:opacity-50 disabled:cursor-wait",children:[s?l.jsx(jn,{className:"w-5 h-5 animate-spin"}):l.jsx(mo,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium text-sm truncate",children:e.file_path.split("/").pop()||"documento"})]}),c(e.status)]}),e.status==="rejected"&&e.rejection_reason&&l.jsxs("p",{className:"text-xs text-red-600 bg-red-50 p-2 rounded-md border border-red-200",children:[l.jsx("strong",{children:"Motivo:"})," ",e.rejection_reason]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>n(e),disabled:e.status==="approved"||i,children:i?l.jsx(jn,{className:"w-4 h-4 animate-spin"}):"Aprobar"}),l.jsx(Ue,{size:"sm",variant:"destructive",onClick:()=>r(e),disabled:e.status==="rejected"||i,children:i?l.jsx(jn,{className:"w-4 h-4 animate-spin"}):"Rechazar"})]})]})},bhe=({open:e,onOpenChange:t,onSubmit:n,reason:r,setReason:i,isSubmitting:s})=>l.jsx(vl,{open:e,onOpenChange:t,children:l.jsxs(bo,{children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Motivo del Rechazo"}),l.jsx(_o,{children:"Explica por qué se está rechazando este documento. Esta información será útil para el usuario."})]}),l.jsx("div",{className:"py-4",children:l.jsx(_u,{placeholder:"Ej: La imagen es borrosa, la información no coincide...",value:r,onChange:a=>i(a.target.value)})}),l.jsxs(Jh,{children:[l.jsx(Ue,{variant:"ghost",onClick:()=>t(!1),children:"Cancelar"}),l.jsxs(Ue,{onClick:n,disabled:!r||s,children:[s?l.jsx(jn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Confirmar Rechazo"]})]})]})}),iI=({users:e,loading:t,onVerificationUpdate:n,onDocumentViewRequest:r,onDocumentStatusUpdate:i})=>{const s=qn.useSupabaseClient(),{toast:a}=Pn(),[o,c]=w.useState(""),[u,f]=w.useState("all"),[h,g]=w.useState(!1),[m,x]=w.useState(null),[y,S]=w.useState(null),[_,C]=w.useState(!1),[P,A]=w.useState(!1),[R,D]=w.useState(null),[T,M]=w.useState(""),[U,ee]=w.useState(null);nS&&nS(),w.useEffect(()=>{h&&m?(console.log("Usuario seleccionado:",m),console.log("Documentos del usuario:",m.documents),(async()=>{C(!0);try{const[z,ne,se,X,B]=await Promise.all([s.from("inspections").select("*",{count:"exact",head:!0}).eq("user_id",m.user_id),s.from("legalizations").select("*",{count:"exact",head:!0}).eq("user_id",m.user_id),s.from("power_buying_requests").select("*",{count:"exact",head:!0}).eq("user_id",m.user_id),s.from("vin_check_logs").select("*",{count:"exact",head:!0}).eq("user_id",m.user_id),s.from("auction_bids").select("*",{count:"exact",head:!0}).eq("user_id",m.user_id)]),Q=[z.error,ne.error,se.error,X.error,B.error].filter(Boolean);if(Q.length>0)throw new Error(Q.map(re=>re.message).join(", "));S({inspections:z.count,legalizations:ne.count,power_buying:se.count,vin_checks:X.count,auction_bids:B.count})}catch(z){console.error("Error fetching counts directly:",z),S({})}C(!1)})()):S(null)},[h,m,s]);const F=w.useMemo(()=>e.filter(W=>{var X,B,Q;const z=o.toLowerCase(),ne=o===""||((X=W.full_name)==null?void 0:X.toLowerCase().includes(z))||((B=W.email)==null?void 0:B.toLowerCase().includes(z))||((Q=W.short_id)==null?void 0:Q.toLowerCase().includes(z)),se=u==="all"||W.verification_status===u;return ne&&se}),[e,o,u]),O=W=>{x(W),g(!0)},H=async W=>{if(!W.url){a({variant:"destructive",title:"Error",description:"No hay URL disponible para este documento"});return}window.open(W.url,"_blank","noopener,noreferrer")},V=async W=>{ee(W.id),await i(W.id,"approved",null),ee(null)},ae=W=>{D(W),M(""),A(!0)},J=async()=>{!R||!T||(ee(R.id),await i(R.id,"rejected",T),ee(null),A(!1),D(null),M(""))};return t&&e.length===0?l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestión de Usuarios"}),l.jsx(pn,{children:"Cargando usuarios..."})]}),l.jsx(ut,{children:l.jsxs("div",{className:"animate-pulse space-y-2",children:[l.jsx("div",{className:"h-12 bg-muted rounded"}),l.jsx("div",{className:"h-12 bg-muted rounded"}),l.jsx("div",{className:"h-12 bg-muted rounded"})]})})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestión de Usuarios"}),l.jsx(pn,{children:"Verifica usuarios y consulta sus documentos de validación."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-2",children:[l.jsx(Ot,{placeholder:"Buscar por nombre, email o ID...",value:o,onChange:W=>c(W.target.value),className:"max-w-sm"}),l.jsxs(Pr,{value:u,onValueChange:f,children:[l.jsx(dr,{className:"w-full md:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"verified",children:"Verificado"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"paused",children:"Pausado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"}),l.jsx(nt,{value:"not_verified",children:"Sin verificar"})]})]})]})]}),l.jsx(ut,{children:l.jsx("div",{className:"border rounded-md",children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Usuario"}),l.jsx(wt,{children:"Rol"}),l.jsx(wt,{children:"Estado Verificación"}),l.jsx(wt,{children:"Fecha Registro"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:F.length>0?F.map(W=>l.jsxs(Bt.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[l.jsx(ot,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:W.full_name||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:W.short_id||"N/A"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:W.email||"N/A"})]})}),l.jsx(ot,{children:l.jsx(uf,{status:W.role})}),l.jsx(ot,{children:l.jsx(uf,{status:W.verification_status})}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:new Date(W.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsxs(ur,{onClick:()=>O(W),children:[l.jsx(mo,{className:"w-4 h-4 mr-2"}),"Ver Detalles y Documentos"]}),l.jsx(wf,{}),l.jsxs(ur,{onClick:()=>n(W.id,"verified"),disabled:W.verification_status==="verified",children:[l.jsx(vn,{className:"w-4 h-4 mr-2 text-green-600"}),"Aprobar Verificación"]}),l.jsxs(ur,{onClick:()=>n(W.id,"paused"),disabled:W.verification_status==="paused",children:[l.jsx(Sy,{className:"w-4 h-4 mr-2 text-orange-600"}),"Pausar Verificación"]}),l.jsxs(ur,{onClick:()=>n(W.id,"rejected"),disabled:W.verification_status==="rejected",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2 text-red-600"}),"Rechazar Verificación"]})]})]})})]},W.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"No se encontraron usuarios."})})})]})})})]}),l.jsx(vl,{open:h,onOpenChange:g,children:l.jsxs(bo,{className:"sm:max-w-4xl",children:[l.jsxs(wo,{children:[l.jsxs(So,{children:["Detalles de ",m==null?void 0:m.full_name]}),l.jsx(_o,{children:"Gestiona la información y los documentos de verificación del usuario."})]}),l.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:l.jsxs(I2,{defaultValue:"info",className:"w-full",children:[l.jsxs(jv,{className:"grid w-full grid-cols-2",children:[l.jsx(Fh,{value:"info",children:"Información y Actividad"}),l.jsx(Fh,{value:"docs",children:"Documentos"})]}),l.jsx(sl,{value:"info",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{children:"Perfil de Usuario"})}),l.jsxs(ut,{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",m==null?void 0:m.full_name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",m==null?void 0:m.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"ID Comprador:"})," ",m==null?void 0:m.short_id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rol:"})," ",m==null?void 0:m.role]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Registrado:"})," ",m?new Date(m.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):"N/A"]})]})]}),l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{children:"Resumen de Actividad"})}),l.jsx(ut,{className:"space-y-2 text-sm",children:_?l.jsxs("div",{className:"space-y-3",children:[l.jsx(al,{className:"h-4 w-3/4"}),l.jsx(al,{className:"h-4 w-1/2"}),l.jsx(al,{className:"h-4 w-3/4"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Inspecciones:"})," ",(y==null?void 0:y.inspections)??"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Legalizaciones:"})," ",(y==null?void 0:y.legalizations)??"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Poder de Compra:"})," ",(y==null?void 0:y.power_buying)??"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Chequeos VIN:"})," ",(y==null?void 0:y.vin_checks)??"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Pujas en Subasta:"})," ",(y==null?void 0:y.auction_bids)??"N/A"]})]})})]})]})}),l.jsx(sl,{value:"docs",children:l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{children:"Documentos de Verificación"})}),l.jsx(ut,{children:m!=null&&m.documents&&m.documents.length>0?["id_front","id_back","selfie"].map(W=>{const z=m.documents.filter(se=>se.type===W),ne={id_front:"Identificación (Frente)",id_back:"Identificación (Dorso)",selfie:"Selfie"}[W];return l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:ne}),z.length>0?z.map(se=>l.jsx(xhe,{doc:se,onView:H,onApprove:V,onReject:ae,isUpdating:U===se.id},se.id)):l.jsx("p",{className:"text-sm text-muted-foreground p-3 border rounded-md",children:"No hay documentos de este tipo."})]},W)}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Este usuario no tiene documentos adjuntos."})})]})})]})})]})}),l.jsx(bhe,{open:P,onOpenChange:A,onSubmit:J,reason:T,setReason:M,isSubmitting:U===(R==null?void 0:R.id)})]})},whe=({deposits:e,onStatusChange:t})=>{const n=r=>{switch(r){case"confirmed":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(vn,{className:"w-3 h-3 mr-1"}),"Confirmado"]});case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Pendiente"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Rechazado"]});default:return l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Desconocido"})}};return l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestión de Depósitos"}),l.jsx(pn,{children:"Confirma y gestiona los depósitos de los clientes"})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Monto"}),l.jsx(wt,{children:"Método"}),l.jsx(wt,{children:"Fecha"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:e.map(r=>l.jsxs(mn,{children:[l.jsx(ot,{className:"font-medium",children:r.client_name}),l.jsx(ot,{children:l.jsxs("span",{className:"font-semibold",children:["$",r.amount.toLocaleString()]})}),l.jsx(ot,{children:r.method}),l.jsx(ot,{children:new Date(r.created_at).toLocaleDateString("es-ES")}),l.jsx(ot,{children:n(r.status)}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsx(wf,{}),l.jsxs(ur,{onClick:()=>t(r.id,"confirmed"),disabled:r.status==="confirmed",children:[l.jsx(vn,{className:"w-4 h-4 mr-2 text-green-600"}),"Confirmar"]}),l.jsxs(ur,{onClick:()=>t(r.id,"rejected"),disabled:r.status==="rejected",children:[l.jsx(Wr,{className:"w-4 h-4 mr-2 text-red-600"}),"Rechazar"]})]})]})})]},r.id))})]})})]})};var sI="AlertDialog",[She,pxe]=Ui(sI,[h$]),$u=h$(),aI=e=>{const{__scopeAlertDialog:t,...n}=e,r=$u(t);return l.jsx(A4,{...r,...n,modal:!0})};aI.displayName=sI;var _he="AlertDialogTrigger",Che=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$u(n);return l.jsx(k4,{...i,...r,ref:t})});Che.displayName=_he;var Nhe="AlertDialogPortal",oI=e=>{const{__scopeAlertDialog:t,...n}=e,r=$u(t);return l.jsx(E4,{...r,...n})};oI.displayName=Nhe;var jhe="AlertDialogOverlay",lI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$u(n);return l.jsx(ov,{...i,...r,ref:t})});lI.displayName=jhe;var Cm="AlertDialogContent",[Phe,Ahe]=She(Cm),khe=tE("AlertDialogContent"),cI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=$u(n),a=w.useRef(null),o=tn(t,a),c=w.useRef(null);return l.jsx(GX,{contentName:Cm,titleName:uI,docsSlug:"alert-dialog",children:l.jsx(Phe,{scope:n,cancelRef:c,children:l.jsxs(lv,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:rt(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(khe,{children:r}),l.jsx($he,{contentRef:a})]})})})});cI.displayName=Cm;var uI="AlertDialogTitle",dI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$u(n);return l.jsx(cv,{...i,...r,ref:t})});dI.displayName=uI;var fI="AlertDialogDescription",hI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$u(n);return l.jsx(uv,{...i,...r,ref:t})});hI.displayName=fI;var Ehe="AlertDialogAction",pI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$u(n);return l.jsx(dv,{...i,...r,ref:t})});pI.displayName=Ehe;var mI="AlertDialogCancel",gI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Ahe(mI,n),s=$u(n),a=tn(t,i);return l.jsx(dv,{...s,...r,ref:a})});gI.displayName=mI;var $he=({contentRef:e})=>{const t=`\`${Cm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cm}\` by passing a \`${fI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Rhe=aI,The=oI,vI=lI,yI=cI,xI=pI,bI=gI,wI=dI,SI=hI;const Lhe=Rhe,Dhe=The,_I=w.forwardRef(({className:e,...t},n)=>l.jsx(vI,{className:Je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_I.displayName=vI.displayName;const CI=w.forwardRef(({className:e,...t},n)=>l.jsxs(Dhe,{children:[l.jsx(_I,{}),l.jsx(yI,{ref:n,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));CI.displayName=yI.displayName;const NI=({className:e,...t})=>l.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});NI.displayName="AlertDialogHeader";const jI=({className:e,...t})=>l.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jI.displayName="AlertDialogFooter";const PI=w.forwardRef(({className:e,...t},n)=>l.jsx(wI,{ref:n,className:Je("text-lg font-semibold",e),...t}));PI.displayName=wI.displayName;const AI=w.forwardRef(({className:e,...t},n)=>l.jsx(SI,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));AI.displayName=SI.displayName;const kI=w.forwardRef(({className:e,...t},n)=>l.jsx(xI,{ref:n,className:Je($0(),e),...t}));kI.displayName=xI.displayName;const EI=w.forwardRef(({className:e,...t},n)=>l.jsx(bI,{ref:n,className:Je($0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));EI.displayName=bI.displayName;const $I=e=>{const t=parseFloat(e);return isNaN(t)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},Ohe=Re.memo(({deposit:e,onViewReceipt:t,onActionRequest:n})=>l.jsxs(mn,{children:[l.jsxs(ot,{children:[l.jsx("div",{className:"font-medium",children:e.full_name||"N/A"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:e.email||"N/A"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",e.short_id||"N/A"]})]}),l.jsx(ot,{className:"font-bold",children:$I(e.amount)}),l.jsx(ot,{children:e.moneda||"N/A"}),l.jsx(ot,{children:e.reference}),l.jsx(ot,{className:"hidden md:table-cell",children:new Date(e.updated_at).toLocaleDateString()}),l.jsx(ot,{children:l.jsx(uf,{status:e.status})}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsxs(ur,{onSelect:()=>t(e.receipt_file_path),children:[l.jsx(Dx,{className:"mr-2 h-4 w-4"}),"Ver Comprobante"]}),l.jsx(wf,{}),l.jsxs(ur,{onSelect:()=>n("approved",e),children:[l.jsx(vn,{className:"mr-2 h-4 w-4"}),"Aprobar"]}),l.jsxs(ur,{onSelect:()=>n("rejected",e),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[l.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Rechazar"]})]})]})})]})),Ihe=({confirmation:e,onClose:t,onConfirm:n,isLoading:r})=>{if(!e)return null;const{action:i,deposit:s}=e,a=i==="approved"?"APROBAR":"RECHAZAR",o=i==="rejected"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"";return l.jsx(Lhe,{open:!!e,onOpenChange:c=>!c&&t(),children:l.jsxs(CI,{children:[l.jsxs(NI,{children:[l.jsx(PI,{children:"¿Estás seguro?"}),l.jsxs(AI,{children:["Estás a punto de ",a," el depósito de ",$I(s.amount)," del usuario ",s.full_name||"N/A","."]})]}),l.jsxs(jI,{children:[l.jsx(EI,{onClick:t,children:"Cancelar"}),l.jsxs(kI,{onClick:n,className:o,disabled:r,children:[r&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmar"]})]})]})})},RI=()=>{const{loading:e,fetchAllDeposits:t,updateDepositStatus:n}=Eu(),r=qn.useSupabaseClient(),[i,s]=w.useState([]),[a,o]=w.useState(null),[c,u]=w.useState(""),[f,h]=w.useState({key:"updated_at",direction:"descending"}),[g,m]=w.useState("all"),x=w.useCallback(async()=>{const{success:A,data:R}=await t();A&&s(R||[])},[t]);w.useEffect(()=>{x()},[x]);const y=w.useMemo(()=>{let A=[...i];if(g!=="all"&&(A=A.filter(R=>R.status===g)),c){const R=c.toLowerCase();A=A.filter(D=>{var T,M,U;return((T=D.full_name)==null?void 0:T.toLowerCase().includes(R))||((M=D.email)==null?void 0:M.toLowerCase().includes(R))||((U=D.short_id)==null?void 0:U.toLowerCase().includes(R))})}return f.key&&A.sort((R,D)=>{let T=R[f.key],M=D[f.key];return f.key==="updated_at"&&(T=new Date(T).getTime(),M=new Date(M).getTime()),T<M?f.direction==="ascending"?-1:1:T>M?f.direction==="ascending"?1:-1:0}),A},[i,c,g,f]),S=A=>{let R="ascending";f.key===A&&f.direction==="ascending"&&(R="descending"),h({key:A,direction:R})},_=async()=>{if(!a)return;const{success:A}=await n(a.deposit.id,a.action);A&&s(R=>R.map(D=>D.id===a.deposit.id?{...D,status:a.action}:D)),o(null)},C=async A=>{if(!A)return;const{data:R,error:D}=await r.storage.from("documents").createSignedUrl(A,60);if(D){console.error("Error al crear la URL firmada:",D),alert("No se pudo obtener el comprobante. Revisa la consola.");return}R.signedUrl&&window.open(R.signedUrl,"_blank","noopener,noreferrer")},P=()=>e&&i.length===0?l.jsx(mn,{children:l.jsx(ot,{colSpan:7,className:"h-24 text-center",children:l.jsx(jn,{className:"h-6 w-6 animate-spin mx-auto text-primary"})})}):y.length===0?l.jsx(mn,{children:l.jsx(ot,{colSpan:7,className:"h-24 text-center",children:c||g!=="all"?"No se encontraron resultados.":"No hay depósitos registrados."})}):y.map(A=>l.jsx(Ohe,{deposit:A,onViewReceipt:C,onActionRequest:(R,D)=>o({action:R,deposit:D})},A.id));return l.jsxs(l.Fragment,{children:[l.jsxs(Bt.div,{className:"p-4 md:p-6 space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("header",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Administración de Depósitos"}),l.jsx("p",{className:"text-muted-foreground",children:"Revisa, aprueba o rechaza los depósitos enviados por los usuarios."})]}),l.jsxs(ct,{className:"shadow-lg border-border",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Todos los Depósitos"}),l.jsxs(pn,{children:["Mostrando ",y.length," de ",i.length," registros."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-2",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(G0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ot,{type:"search",placeholder:"Buscar por usuario, ID o email...",className:"w-full pl-9",value:c,onChange:A=>u(A.target.value)})]}),l.jsxs(Pr,{value:g,onValueChange:m,children:[l.jsx(dr,{className:"w-full sm:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"approved",children:"Aprobado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]})]})]}),l.jsx(ut,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Usuario"}),l.jsx(wt,{children:"Monto"}),l.jsx(wt,{children:l.jsxs(Ue,{variant:"ghost",onClick:()=>S("moneda"),children:["Moneda",l.jsx(wy,{className:"ml-2 h-4 w-4"})]})}),l.jsx(wt,{children:"Referencia"}),l.jsx(wt,{className:"hidden md:table-cell",children:l.jsxs(Ue,{variant:"ghost",onClick:()=>S("updated_at"),children:["Fecha de Creación",l.jsx(wy,{className:"ml-2 h-4 w-4"})]})}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:P()})]})})})]})]}),l.jsx(Ihe,{confirmation:a,onClose:()=>o(null),onConfirm:_,isLoading:e})]})},Mhe=()=>{const{userRole:e}=Pi(),{loading:t,fetchAllRequests:n,fetchAllDocuments:r,fetchAllUsers:i,fetchAllDeposits:s,updateRequestStatus:a,updateDocumentStatus:o,updateDepositStatus:c,updateUserVerification:u,getDashboardStats:f,getDocumentDownloadUrl:h}=Eu(),[g,m]=w.useState(null),[x,y]=w.useState([]),[S,_]=w.useState([]),[C,P]=w.useState([]),[A,R]=w.useState([]),[D,T]=w.useState("overview");w.useEffect(()=>{M()},[e]);const M=async()=>{if(!e)return;const J=await f();if(J.success&&m(J.data),e==="admin"||e==="support"||e==="validation"){const W=await n();W.success&&y(W.data)}if(e==="admin"||e==="validation"){const W=await r();W.success&&_(W.data)}if(e==="admin"){const W=await i();W.success&&P(W.data)}if(e==="admin"||e==="finance"){const W=await s();W.success&&R(W.data)}},U=async(J,...W)=>{(await J(...W)).success&&M()},ee=(J,W,z)=>U(a,J,W,z),F=(J,W,z=null)=>U(o,J,W,z),O=(J,W)=>U(c,J,W),H=(J,W)=>U(u,J,W),ae=e?[{value:"overview",label:"Resumen General",roles:["admin","support","validation","finance"]},{value:"requests",label:"Solicitudes",roles:["admin","support","validation"]},{value:"documents",label:"Documentos",roles:["admin","validation"]},{value:"users",label:"Usuarios",roles:["admin"]},{value:"deposits",label:"Depósitos",roles:["admin","finance"]}].filter(W=>W.roles.includes(e)):[];return l.jsxs(Bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard de Administración"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestión completa del sistema en tiempo real."})]}),l.jsx(sfe,{stats:g,loading:t}),l.jsxs(I2,{value:D,onValueChange:T,className:"space-y-6",children:[l.jsx(jv,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:ae.map(J=>l.jsx(Fh,{value:J.value,children:J.label},J.value))}),l.jsx(sl,{value:"overview",className:"space-y-6",children:l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Actividad Reciente"}),l.jsx(pn,{children:"Últimas solicitudes recibidas en el sistema."})]}),l.jsx(ut,{children:l.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(J=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:J.client_name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nueva solicitud de ",J.type.replace("_"," ")]})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(J.created_at).toLocaleDateString("es-ES")})]},J.id))})})]}),l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Estado del Sistema"}),l.jsx(pn,{children:"Métricas clave de rendimiento."})]}),l.jsx(ut,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Solicitudes Pendientes"}),l.jsx("span",{className:"font-semibold",children:(g==null?void 0:g.pendingRequests)??"..."})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Documentos en Revisión"}),l.jsx("span",{className:"font-semibold",children:(g==null?void 0:g.pendingDocuments)??"..."})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Usuarios por Verificar"}),l.jsx("span",{className:"font-semibold",children:(g==null?void 0:g.unverifiedUsers)??"..."})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Depósitos por Confirmar"}),l.jsx("span",{className:"font-semibold",children:(g==null?void 0:g.pendingDeposits)??"..."})]})]})})]})]})}),(e==="admin"||e==="support"||e==="validation")&&l.jsx(sl,{value:"requests",children:l.jsx(nI,{requests:x,loading:t,onStatusUpdate:ee})}),(e==="admin"||e==="validation")&&l.jsx(sl,{value:"documents",children:l.jsx(rI,{documents:S,loading:t,onStatusUpdate:F})}),e==="admin"&&l.jsx(sl,{value:"users",children:l.jsx(iI,{users:C,loading:t,onVerificationUpdate:H,onDocumentViewRequest:h})}),(e==="admin"||e==="finance")&&l.jsx(sl,{value:"deposits",children:l.jsx(RI,{deposits:A,loading:t,onStatusUpdate:O})})]})]})},Fhe=()=>{const{fetchAllRequests:e,updateRequestStatus:t,loading:n}=Eu(),[r,i]=w.useState([]),[s,a]=w.useState(null),o=w.useCallback(async()=>{a(null);const f=await e();f.success?i(f.data):(console.error("Error al cargar solicitudes:",f.error),a("No se pudieron cargar las solicitudes. Inténtalo de nuevo más tarde."))},[e]);w.useEffect(()=>{o()},[o]);const c=async(f,h,g)=>{(await t(f,h,g)).success&&await o()},u=()=>n&&r.length===0?l.jsxs("div",{className:"space-y-4",children:[l.jsx(al,{className:"h-8 w-1/4"}),l.jsx(al,{className:"h-4 w-1/2"}),l.jsx("div",{className:"border rounded-md p-4",children:l.jsx(al,{className:"h-96 w-full"})})]}):s?l.jsx("div",{className:"flex flex-col items-center justify-center h-64 border border-dashed rounded-md",children:l.jsxs("p",{className:"text-xl font-semibold text-destructive",children:["😕 ",s]})}):!n&&r.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 border border-dashed rounded-md",children:[l.jsx("p",{className:"text-xl font-semibold text-muted-foreground",children:"🎉 ¡Todo en orden!"}),l.jsx("p",{className:"text-muted-foreground",children:"No hay solicitudes pendientes por gestionar."})]}):l.jsx(nI,{requests:r,loading:n,onStatusUpdate:c});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Solicitudes"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona todas las solicitudes de clientes en tiempo real."})]}),u()]})},Bhe=()=>{const{fetchAllDocuments:e,updateDocumentStatus:t,loading:n}=Eu(),[r,i]=w.useState([]);w.useEffect(()=>{s()},[]);const s=async()=>{const o=await e();o.success&&i(o.data)},a=async(o,c,u=null)=>{(await t(o,c,u)).success&&await s()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Validación de Documentos"}),l.jsx("p",{className:"text-muted-foreground",children:"Revisa y valida documentos subidos por los clientes en tiempo real"})]}),l.jsx(rI,{documents:r,loading:n,onStatusUpdate:a})]})},Vhe=()=>{const{user:e}=vo(),[t,n]=w.useState([]),[r,i]=w.useState(!0),[s,a]=w.useState(""),o=qn.useSupabaseClient(),c=w.useCallback(async()=>{if(!e)return;i(!0);const{data:m,error:x}=await o.rpc("get_admin_chat_list",{admin_id_param:e.id});x?(console.error("Error fetching chat list:",x),n([])):n(m),i(!1)},[e,o]);w.useEffect(()=>{e&&c()},[e,c]),w.useEffect(()=>{if(!e)return;const m=({payload:y})=>{const S=y.payload;S&&S.agent_id===e.id&&n(_=>{const C=_.filter(P=>P.client_id!==S.client_id);return[S,...C]})},x=o.channel("admin_chat_list_update").on("broadcast",{event:"*"},m).subscribe();return()=>{o.removeChannel(x)}},[e,o]);const u=m=>{if(!m)return"U";const x=m.split(" ");return x.length>1?`${x[0][0]}${x[1][0]}`.toUpperCase():m.substring(0,2).toUpperCase()},f=m=>{if(!m)return"";const x=new Date,y=new Date(m);return x.toDateString()===y.toDateString()?y.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):y.toLocaleDateString("es-ES",{day:"2-digit",month:"short"})},h=m=>{switch(m){case"pendiente":return"destructive";case"solucionado":return"success";case"en revisión":return"secondary";case"leído":return"outline";case"cerrada":return"success";default:return"secondary"}},g=t.filter(m=>{var x,y;return((x=m.client_name)==null?void 0:x.toLowerCase().includes(s.toLowerCase()))||((y=m.short_id)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))});return l.jsxs("div",{className:"space-y-6 h-[calc(100vh-8rem)] flex flex-col p-4 md:p-6",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Centro de Mensajes"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona las conversaciones con los clientes."})]}),l.jsxs(ct,{className:"bg-card border-border shadow-md flex-grow flex flex-col overflow-hidden",children:[l.jsx(_t,{className:"border-b border-border flex-shrink-0 p-4",children:l.jsx(Ot,{placeholder:"Buscar por nombre o ID de cliente...",value:s,onChange:m=>a(m.target.value)})}),l.jsx(ut,{className:"p-0 flex-grow",children:l.jsx(Gm,{className:"h-full",children:r?l.jsx("div",{className:"flex items-center justify-center h-full p-6 text-muted-foreground",children:"Cargando chats..."}):l.jsx(Vi,{children:g.length>0?g.map(m=>{var x;return l.jsx(Bt.div,{layout:!0,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},children:l.jsx(bs,{to:`/admin/chat/${m.client_id}`,className:"block hover:bg-muted/50 transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-4 p-4 border-b border-border last:border-b-0",children:[l.jsxs(Kh,{children:[l.jsx(Yh,{src:m.client_avatar_url,alt:m.client_name}),l.jsx(Xh,{children:u(m.client_name)})]}),l.jsxs("div",{className:"flex-grow min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:"font-semibold text-foreground truncate",children:m.client_name}),l.jsx(vv,{variant:h(m.conversation_status),className:"capitalize text-xs px-1.5 py-0.5",children:((x=m.conversation_status)==null?void 0:x.replace("_"," "))||"..."})]}),l.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:m.short_id}),l.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:m.last_message_content||"..."})]}),l.jsxs("div",{className:"text-right flex-shrink-0 w-20",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:f(m.last_message_at)}),m.unread_count>0&&l.jsx("span",{className:"ml-auto inline-block bg-primary text-primary-foreground text-xs font-bold rounded-full px-2 py-0.5",children:m.unread_count})]})]})})},m.client_id)}):l.jsx("div",{className:"flex items-center justify-center h-full p-6 text-muted-foreground italic",children:"No hay conversaciones activas."})})})})]})]})},zhe=({filePath:e,fileType:t})=>{const n=qn.useSupabaseClient(),[r,i]=w.useState(null);return w.useEffect(()=>{if(!e)return;(async()=>{const{data:a,error:o}=await n.storage.from("chatdocuments").createSignedUrl(e,3600);o?console.error("Error generando URL firmada:",o):i(a.signedUrl)})()},[e,n]),r?t.startsWith("image/")?l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:r,alt:"Adjunto",className:"mt-2 rounded-lg max-w-xs max-h-64 object-cover cursor-pointer hover:opacity-80 transition-opacity"})}):l.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 mt-2 bg-secondary p-2 rounded-lg hover:bg-secondary/80 transition-colors max-w-xs",children:[l.jsx(q0,{className:"h-6 w-6 flex-shrink-0 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm truncate",children:e.split("/").pop().substring(14)}),l.jsxs("span",{className:"text-xs text-blue-500 flex items-center",children:["Ver/Descargar ",l.jsx(zm,{className:"h-3 w-3 ml-1"})]})]})]}):l.jsxs("div",{className:"text-xs text-muted-foreground mt-2 flex items-center",children:[l.jsx(jn,{className:"h-3 w-3 animate-spin mr-1"})," Cargando..."]})},Uhe=()=>{var ne;const{clientId:e}=wB(),{user:t}=vo(),{sendAdminMessage:n,updateChatStatus:r}=Eu(),{toast:i}=Pn(),s=qn.useSupabaseClient(),[a,o]=w.useState(null),[c,u]=w.useState([]),[f,h]=w.useState(!0),[g,m]=w.useState(""),[x,y]=w.useState(!1),[S,_]=w.useState("pendiente"),[C,P]=w.useState(""),[A,R]=w.useState(null),[D,T]=w.useState(null),M=w.useRef(null),U=w.useRef(null),ee=()=>{var X;const se=(X=M.current)==null?void 0:X.querySelector("[data-radix-scroll-area-viewport]");se&&setTimeout(()=>{se.scrollTop=se.scrollHeight},100)};w.useEffect(()=>{if(!e||!t){h(!1);return}(async()=>{h(!0);try{const[X,B,Q,re]=await Promise.all([s.from("users_profile").select("user_id, full_name, email, short_id").eq("user_id",e).single(),s.from("chat_messages").select("*").or(`and(sender_id.eq.${e},receiver_id.eq.${t.id}),and(sender_id.eq.${t.id},receiver_id.eq.${e})`).order("created_at",{ascending:!0}),s.from("chat_conversations").select("status").eq("client_id",e).single(),s.rpc("mark_messages_as_read",{p_client_id:e,p_user_id:t.id})]);if(X.error)throw new Error(`Perfil no encontrado: ${X.error.message}`);if(o(X.data),B.error)throw new Error(`Error al cargar mensajes: ${B.error.message}`);u(B.data||[]),Q.data&&_(Q.data.status)}catch(X){console.error("Error al cargar datos del chat:",X),i({variant:"destructive",title:"Error al Cargar",description:X.message}),o(null)}finally{h(!1),ee()}})()},[e,t,s,i]);const F=w.useCallback(se=>{const X=se.new;t&&e&&X.sender_id===e&&X.receiver_id===t.id&&(u(B=>[...B,X]),s.rpc("mark_messages_as_read",{p_client_id:e,p_user_id:t.id}),ee())},[e,t,s]),O=w.useCallback(se=>{_(se.new.status)},[]);w.useEffect(()=>{if(!e||!t)return;const se=s.channel(`admin-chat-with-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},F).subscribe(),X=s.channel(`conversation-status-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations",filter:`client_id=eq.${e}`},O).subscribe();return()=>{s.removeChannel(se),s.removeChannel(X)}},[e,t,s,F,O]);const H=se=>{var B;const X=(B=se.target.files)==null?void 0:B[0];X&&(R(X),T(URL.createObjectURL(X))),se.target.value=null},V=()=>{D&&URL.revokeObjectURL(D),R(null),T(null)},ae=async se=>{if(se.preventDefault(),!g.trim()&&!A||x||!a)return;y(!0);const{data:X,error:B}=await n(a.user_id,g.trim(),A);y(!1),X&&!B?(u(Q=>[...Q,X]),m(""),V(),ee()):i({variant:"destructive",title:"Error al enviar",description:B.message})},J=async se=>{if(!se||se===S||!a)return;_(se);const{error:X}=await r(a.user_id,se);X&&i({variant:"destructive",title:"Error",description:"No se pudo actualizar el estado."})},W=se=>{navigator.clipboard.writeText(se),i({title:"Copiado",description:"ID copiado al portapapeles."})},z=c.filter(se=>{var X;return(X=se.content)==null?void 0:X.toLowerCase().includes(C.toLowerCase())});return f?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx(jn,{className:"h-8 w-8 animate-spin text-primary"})}):a?l.jsxs("div",{className:"grid grid-rows-[auto,1fr] h-screen max-h-screen p-4 md:p-6 gap-4",children:[l.jsxs("header",{className:"flex items-center justify-between space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ue,{variant:"outline",size:"icon",asChild:!0,children:l.jsx(bs,{to:"/admin/chat",children:l.jsx(Ak,{className:"h-4 w-4"})})}),l.jsxs(Kh,{children:[l.jsx(Yh,{src:null,alt:a.full_name}),l.jsx(Xh,{children:((ne=a.full_name)==null?void 0:ne.charAt(0))||"C"})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-foreground",children:a.full_name}),l.jsx("p",{className:"text-muted-foreground text-sm",children:a.email}),l.jsxs("div",{className:"text-xs text-muted-foreground font-mono mt-1 flex items-center gap-2",children:[l.jsxs("span",{children:["ID: ",a.short_id]}),l.jsx(cV,{className:"h-3 w-3 cursor-pointer hover:text-foreground",onClick:()=>W(a.short_id)})]})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs(Pr,{value:S,onValueChange:J,children:[l.jsx(dr,{className:"w-[180px]",children:l.jsx(Ar,{placeholder:"Cambiar estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"pendiente",children:"Pendiente"}),l.jsx(nt,{value:"en revisión",children:"En Revisión"}),l.jsx(nt,{value:"leído",children:"Leído"}),l.jsx(nt,{value:"solucionado",children:"Solucionado"}),l.jsx(nt,{value:"cerrada",children:"Cerrada"})]})]})})]}),l.jsxs(ct,{className:"grid grid-rows-[auto,1fr,auto] overflow-hidden",children:[l.jsx(_t,{className:"p-2 border-b",children:l.jsxs("div",{className:"relative",children:[l.jsx(G0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ot,{placeholder:"Buscar en la conversación...",value:C,onChange:se=>P(se.target.value),className:"w-full bg-transparent pl-10"})]})}),l.jsx(Gm,{ref:M,className:"p-4",children:l.jsx(Vi,{children:z.map(se=>l.jsx(Bt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex my-2 ${se.sender_id===a.user_id?"justify-start":"justify-end"}`,children:l.jsxs("div",{className:`max-w-[75%] p-3 rounded-2xl ${se.sender_id===a.user_id?"bg-secondary text-secondary-foreground rounded-bl-lg":"bg-primary text-primary-foreground rounded-br-lg"}`,children:[se.content&&l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:se.content}),se.file_path&&l.jsx(zhe,{filePath:se.file_path,fileType:se.file_type})]})},se.id))})}),l.jsxs("div",{className:"p-4 border-t bg-background",children:[l.jsx(Vi,{children:D&&A&&l.jsxs(Bt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",marginBottom:"1rem"},exit:{opacity:0,height:0,marginBottom:0},className:"relative w-fit max-w-xs p-2 border rounded-lg bg-secondary/50",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[A.type.startsWith("image/")?l.jsx("img",{src:D,alt:"Previsualización",className:"object-cover w-16 h-16 rounded-md"}):l.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-md bg-secondary",children:l.jsx(q0,{className:"w-8 h-8 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate text-foreground",children:A.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(A.size/1024).toFixed(1)," KB"]})]})]}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"absolute top-0 right-0 w-6 h-6 rounded-full -mt-2 -mr-2 bg-muted hover:bg-destructive/80",onClick:V,children:l.jsx(yo,{className:"w-4 h-4"})})]})}),l.jsxs("form",{onSubmit:ae,className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",ref:U,onChange:H,className:"hidden",accept:"image/*,application/pdf"}),l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var se;return(se=U.current)==null?void 0:se.click()},disabled:x,children:l.jsx(Ik,{className:"w-5 h-5 text-muted-foreground"})}),l.jsx(Ot,{placeholder:"Escribe tu respuesta...",value:g,onChange:se=>m(se.target.value),className:"flex-grow",disabled:x,autoComplete:"off"}),l.jsx(Ue,{type:"submit",size:"icon",disabled:!g.trim()&&!A||x,children:l.jsx(Bk,{className:"h-4 w-4"})})]})]})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-destructive",children:"Error al Cargar Cliente"}),l.jsx("p",{className:"text-muted-foreground",children:"No se pudo cargar el perfil del cliente."}),l.jsx(Ue,{asChild:!0,className:"mt-4",children:l.jsx(bs,{to:"/admin/chat",children:"Volver a la lista"})})]})},Whe=({deposits:e,loading:t,onStatusUpdate:n})=>{const[r,i]=w.useState(""),[s,a]=w.useState("all"),o=f=>{const g={confirmed:{icon:vn,color:"text-green-900",bg:"bg-green-300",label:"Confirmado"},pending:{icon:si,color:"text-yellow-900",bg:"bg-yellow-300",label:"Pendiente"},rejected:{icon:Qi,color:"text-red-900",bg:"bg-red-300",label:"Rechazado"}}[f]||{icon:si,color:"text-gray-900",bg:"bg-gray-300",label:f},m=g.icon;return l.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${g.bg} ${g.color}`,children:[l.jsx(m,{className:"w-3 h-3 mr-1"}),g.label]})},c=e.filter(f=>{var m,x;const h=r===""||((m=f.client_name)==null?void 0:m.toLowerCase().includes(r.toLowerCase()))||((x=f.reference)==null?void 0:x.toLowerCase().includes(r.toLowerCase())),g=s==="all"||f.status===s;return h&&g}),u=(f,h)=>{n(f,h)};return t?l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Depósitos en Tiempo Real"}),l.jsx(pn,{children:"Cargando depósitos..."})]}),l.jsx(ut,{children:l.jsx("div",{className:"animate-pulse space-y-4",children:Array.from({length:5}).map((f,h)=>l.jsx("div",{className:"h-12 bg-muted rounded"},h))})})]}):l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Depósitos en Tiempo Real"}),l.jsx(pn,{children:"Gestiona y confirma depósitos de clientes"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-2",children:[l.jsx(Ot,{placeholder:"Buscar por cliente o referencia...",value:r,onChange:f=>i(f.target.value),className:"max-w-sm"}),l.jsxs(Pr,{value:s,onValueChange:a,children:[l.jsx(dr,{className:"w-full md:w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"confirmed",children:"Confirmado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]})]})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Monto"}),l.jsx(wt,{children:"Referencia"}),l.jsx(wt,{children:"Fecha Pago"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Fecha Registro"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:c.length>0?c.map((f,h)=>l.jsxs(Bt.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:h*.05},className:"border-b transition-colors hover:bg-muted/50",children:[l.jsx(ot,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:f.client_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:f.client_email})]})}),l.jsx(ot,{children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Au,{className:"h-4 w-4 text-green-900"}),l.jsx("span",{className:"font-semibold text-green-900",children:parseFloat(f.amount).toLocaleString()})]})}),l.jsx(ot,{children:l.jsx("span",{className:"font-mono text-sm",children:f.reference})}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:new Date(f.payment_date).toLocaleDateString("es-ES")}),l.jsx(ot,{children:o(f.status)}),l.jsx(ot,{className:"text-sm text-muted-foreground",children:new Date(f.created_at).toLocaleDateString("es-ES")}),l.jsx(ot,{className:"text-right",children:l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),f.receipt_file_path&&l.jsxs(ur,{children:[l.jsx(Dx,{className:"w-4 h-4 mr-2"}),"Ver Comprobante"]}),l.jsx(wf,{}),l.jsxs(ur,{onClick:()=>u(f.id,"confirmed"),disabled:f.status==="confirmed",children:[l.jsx(vn,{className:"w-4 h-4 mr-2 text-green-900"}),"Confirmar Depósito"]}),l.jsxs(ur,{onClick:()=>u(f.id,"rejected"),disabled:f.status==="rejected",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2 text-red-900"}),"Rechazar Depósito"]})]})]})})]},f.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"No se encontraron depósitos con los filtros actuales."})})})]})})]})},Hhe=()=>{const e=qn.useSupabaseClient(),{toast:t}=Pn(),{fetchAllDeposits:n,updateDepositStatus:r,loading:i}=Eu(),[s,a]=w.useState([]),[o,c]=w.useState(""),[u,f]=w.useState(""),[h,g]=w.useState(!1);w.useEffect(()=>{m()},[]);const m=async()=>{const S=await n();S.success&&a(S.data)},x=async(S,_)=>{const C=await r(S,_);C.success?(t({title:"Estado Actualizado",description:`El depósito ha sido marcado como "${_}".`}),await m()):t({title:"Error al actualizar",description:C.error.message,variant:"destructive"})},y=async S=>{if(S.preventDefault(),!(!o||!u)){g(!0);try{const{data:_,error:C}=await e.functions.invoke("create-payment-link",{body:{clientId:o,amount:parseFloat(u)}});if(C)throw C;await navigator.clipboard.writeText(_.paymentLink),t({title:"Enlace Generado y Copiado",description:"El enlace de pago se ha copiado a tu portapapeles."}),c(""),f("")}catch(_){t({title:"Error al Generar Enlace",description:_.message||"Ocurrió un problema con el servidor. Intenta de nuevo.",variant:"destructive"})}finally{g(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Pagos y Finanzas"}),l.jsx("p",{className:"text-muted-foreground",children:"Confirma depósitos y gestiona pagos en tiempo real."})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Generar Enlace de Pago Manual"}),l.jsx(pn,{children:"Crea un enlace de pago de Stripe para un cliente específico."})]}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:y,className:"flex flex-col md:flex-row gap-4 items-end",children:[l.jsxs("div",{className:"flex-grow w-full",children:[l.jsx(ht,{htmlFor:"clientId",children:"ID o Email del Cliente"}),l.jsx(Ot,{id:"clientId",value:o,onChange:S=>c(S.target.value),placeholder:"Ej: client123 o cliente@email.com",required:!0,className:"mt-1",disabled:h})]}),l.jsxs("div",{className:"flex-grow w-full",children:[l.jsx(ht,{htmlFor:"amount",children:"Monto (USD)"}),l.jsx(Ot,{id:"amount",value:u,onChange:S=>f(S.target.value),type:"number",step:"0.01",placeholder:"Ej: 100.00",required:!0,className:"mt-1",disabled:h})]}),l.jsxs(Ue,{type:"submit",className:"w-full md:w-auto",disabled:h,children:[h?l.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(vV,{className:"w-4 h-4 mr-2"}),h?"Generando...":"Generar Enlace"]})]})})]}),l.jsx(Whe,{deposits:s,loading:i,onStatusUpdate:x})]})},qhe=()=>{const e=qn.useSupabaseClient(),{fetchAllUsers:t,updateUserVerification:n,loading:r,getDocumentDownloadUrl:i,updateDocumentStatus:s}=Eu(),[a,o]=w.useState([]),c=w.useCallback(async()=>{const h=await t();h.success&&o(h.data)},[t]);w.useEffect(()=>{c();const h=e.channel("realtime-admin-users-page").on("postgres_changes",{event:"*",schema:"public",table:"users_profile"},g=>{console.log("Cambio detectado en perfiles de usuario, recargando datos..."),c()}).on("postgres_changes",{event:"*",schema:"public",table:"documents"},g=>{console.log("Cambio detectado en documentos, recargando datos..."),c()}).subscribe();return()=>{e.removeChannel(h)}},[c]);const u=async(h,g)=>{await n(h,g)},f=async(h,g,m=null)=>{await s(h,g,m)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Usuarios"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona verificaciones y consulta los documentos de los usuarios en tiempo real."})]}),l.jsx(iI,{users:a,loading:r,onVerificationUpdate:u,onDocumentViewRequest:i,onDocumentStatusUpdate:f})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kv(e){return e+.5|0}const Bd=(e,t,n)=>Math.max(Math.min(e,n),t);function Gg(e){return Bd(kv(e*2.55),0,255)}function Jd(e){return Bd(kv(e*255),0,255)}function fu(e){return Bd(kv(e/2.55)/100,0,1)}function $8(e){return Bd(kv(e*100),0,100)}const lo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rS=[..."0123456789ABCDEF"],Ghe=e=>rS[e&15],Khe=e=>rS[(e&240)>>4]+rS[e&15],T1=e=>(e&240)>>4===(e&15),Yhe=e=>T1(e.r)&&T1(e.g)&&T1(e.b)&&T1(e.a);function Xhe(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&lo[e[1]]*17,g:255&lo[e[2]]*17,b:255&lo[e[3]]*17,a:t===5?lo[e[4]]*17:255}:(t===7||t===9)&&(n={r:lo[e[1]]<<4|lo[e[2]],g:lo[e[3]]<<4|lo[e[4]],b:lo[e[5]]<<4|lo[e[6]],a:t===9?lo[e[7]]<<4|lo[e[8]]:255})),n}const Jhe=(e,t)=>e<255?t(e):"";function Zhe(e){var t=Yhe(e)?Ghe:Khe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Jhe(e.a,t):void 0}const Qhe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TI(e,t,n){const r=t*Math.min(n,1-n),i=(s,a=(s+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function epe(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function tpe(e,t,n){const r=TI(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function npe(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function A_(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let c,u,f;return s!==a&&(f=s-a,u=o>.5?f/(2-s-a):f/(s+a),c=npe(n,r,i,f,s),c=c*60+.5),[c|0,u||0,o]}function k_(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Jd)}function E_(e,t,n){return k_(TI,e,t,n)}function rpe(e,t,n){return k_(tpe,e,t,n)}function ipe(e,t,n){return k_(epe,e,t,n)}function LI(e){return(e%360+360)%360}function spe(e){const t=Qhe.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Gg(+t[5]):Jd(+t[5]));const i=LI(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=rpe(i,s,a):t[1]==="hsv"?r=ipe(i,s,a):r=E_(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function ape(e,t){var n=A_(e);n[0]=LI(n[0]+t),n=E_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function ope(e){if(!e)return;const t=A_(e),n=t[0],r=$8(t[1]),i=$8(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${fu(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const R8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lpe(){const e={},t=Object.keys(T8),n=Object.keys(R8);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,R8[s]);s=parseInt(T8[a],16),e[o]=[s>>16&255,s>>8&255,s&255]}return e}let L1;function cpe(e){L1||(L1=lpe(),L1.transparent=[0,0,0,0]);const t=L1[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const upe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dpe(e){const t=upe.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const a=+t[7];n=t[8]?Gg(a):Bd(a*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Gg(r):Bd(r,0,255)),i=255&(t[4]?Gg(i):Bd(i,0,255)),s=255&(t[6]?Gg(s):Bd(s,0,255)),{r,g:i,b:s,a:n}}}function fpe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${fu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ww=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Up=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function hpe(e,t,n){const r=Up(fu(e.r)),i=Up(fu(e.g)),s=Up(fu(e.b));return{r:Jd(Ww(r+n*(Up(fu(t.r))-r))),g:Jd(Ww(i+n*(Up(fu(t.g))-i))),b:Jd(Ww(s+n*(Up(fu(t.b))-s))),a:e.a+n*(t.a-e.a)}}function D1(e,t,n){if(e){let r=A_(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=E_(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function DI(e,t){return e&&Object.assign(t||{},e)}function L8(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jd(e[3]))):(t=DI(e,{r:0,g:0,b:0,a:1}),t.a=Jd(t.a)),t}function ppe(e){return e.charAt(0)==="r"?dpe(e):spe(e)}class B0{constructor(t){if(t instanceof B0)return t;const n=typeof t;let r;n==="object"?r=L8(t):n==="string"&&(r=Xhe(t)||cpe(t)||ppe(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=DI(this._rgb);return t&&(t.a=fu(t.a)),t}set rgb(t){this._rgb=L8(t)}rgbString(){return this._valid?fpe(this._rgb):void 0}hexString(){return this._valid?Zhe(this._rgb):void 0}hslString(){return this._valid?ope(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const a=n===s?.5:n,o=2*a-1,c=r.a-i.a,u=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=hpe(this._rgb,t._rgb,n)),this}clone(){return new B0(this.rgb)}alpha(t){return this._rgb.a=Jd(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=kv(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return D1(this._rgb,2,t),this}darken(t){return D1(this._rgb,2,-t),this}saturate(t){return D1(this._rgb,1,t),this}desaturate(t){return D1(this._rgb,1,-t),this}rotate(t){return ape(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function iu(){}const mpe=(()=>{let e=0;return()=>e++})();function ws(e){return e==null}function Zi(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function zn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Nu(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ql(e,t){return Nu(e)?e:t}function nr(e,t){return typeof e>"u"?t:e}const gpe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,OI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Cr(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function tr(e,t,n,r){let i,s,a;if(Zi(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(zn(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function gx(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function vx(e){if(Zi(e))return e.map(vx);if(zn(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=vx(e[n[i]]);return t}return e}function II(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function vpe(e,t,n,r){if(!II(e))return;const i=t[e],s=n[e];zn(i)&&zn(s)?V0(i,s,r):t[e]=vx(s)}function V0(e,t,n){const r=Zi(t)?t:[t],i=r.length;if(!zn(e))return e;n=n||{};const s=n.merger||vpe;let a;for(let o=0;o<i;++o){if(a=r[o],!zn(a))continue;const c=Object.keys(a);for(let u=0,f=c.length;u<f;++u)s(c[u],e,a,n)}return e}function u0(e,t){return V0(e,t,{merger:ype})}function ype(e,t,n){if(!II(e))return;const r=t[e],i=n[e];zn(r)&&zn(i)?u0(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=vx(i))}const D8={"":e=>e,x:e=>e.x,y:e=>e.y};function xpe(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bpe(e){const t=xpe(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function z0(e,t){return(D8[t]||(D8[t]=bpe(t)))(e)}function $_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const yx=e=>typeof e<"u",df=e=>typeof e=="function",O8=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function wpe(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Nr=Math.PI,pi=2*Nr,xx=Number.POSITIVE_INFINITY,Spe=Nr/180,Ci=Nr/2,th=Nr/4,I8=Nr*2/3,M8=Math.sign;function _pe(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function Cpe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bx(e){return!Cpe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function bh(e){return e*(Nr/180)}function Npe(e){return e*(180/Nr)}function MI(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Nr&&(s+=pi),{angle:s,distance:i}}function jpe(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Jl(e){return(e%pi+pi)%pi}function wx(e,t,n,r){const i=Jl(e),s=Jl(t),a=Jl(n),o=Jl(s-i),c=Jl(a-i),u=Jl(i-s),f=Jl(i-a);return i===s||i===a||r&&s===a||o>c&&u<f}function ho(e,t,n){return Math.max(t,Math.min(n,e))}function Ppe(e){return ho(e,-32768,32767)}function Kg(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function R_(e,t,n){n=n||(a=>e[a]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const iS=(e,t,n,r)=>R_(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),Ape=(e,t,n)=>R_(e,n,r=>e[r][t]>=n);function kpe(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const FI=["push","pop","shift","splice","unshift"];function Epe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FI.forEach(n=>{const r="_onData"+$_(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function F8(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(FI.forEach(s=>{delete e[s]}),delete e._chartjs)}function $pe(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const BI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function VI(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,BI.call(window,()=>{r=!1,e.apply(t,n)}))}}function Rpe(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const zI=e=>e==="start"?"left":e==="end"?"right":"center",La=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Tpe=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,O1=e=>e===0||e===1,B8=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*pi/n)),V8=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*pi/n)+1,d0={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ci)+1,easeOutSine:e=>Math.sin(e*Ci),easeInOutSine:e=>-.5*(Math.cos(Nr*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>O1(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>O1(e)?e:B8(e,.075,.3),easeOutElastic:e=>O1(e)?e:V8(e,.075,.3),easeInOutElastic(e){return O1(e)?e:e<.5?.5*B8(e*2,.1125,.45):.5+.5*V8(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-d0.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?d0.easeInBounce(e*2)*.5:d0.easeOutBounce(e*2-1)*.5+.5};function UI(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function z8(e){return UI(e)?e:new B0(e)}function Hw(e){return UI(e)?e:new B0(e).saturate(.5).darken(.1).hexString()}const Lpe=["x","y","borderWidth","radius","tension"],Dpe=["color","borderColor","backgroundColor"];function Ope(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Dpe},numbers:{type:"number",properties:Lpe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Ipe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U8=new Map;function Mpe(e,t){t=t||{};const n=e+JSON.stringify(t);let r=U8.get(n);return r||(r=new Intl.NumberFormat(e,t),U8.set(n,r)),r}function Fpe(e,t,n){return Mpe(t,n).format(e)}const Bpe={values(e){return Zi(e)?e:""+e}};var Vpe={formatters:Bpe};function zpe(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vpe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Bh=Object.create(null),sS=Object.create(null);function f0(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function qw(e,t,n){return typeof t=="string"?V0(f0(e,t),n):V0(f0(e,""),t)}class Upe{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Hw(i.backgroundColor),this.hoverBorderColor=(r,i)=>Hw(i.borderColor),this.hoverColor=(r,i)=>Hw(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return qw(this,t,n)}get(t){return f0(this,t)}describe(t,n){return qw(sS,t,n)}override(t,n){return qw(Bh,t,n)}route(t,n,r,i){const s=f0(this,t),a=f0(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],u=a[i];return zn(c)?Object.assign({},u,c):nr(c,u)},set(c){this[o]=c}}})}apply(t){t.forEach(n=>n(this))}}var ri=new Upe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ope,Ipe,zpe]);function Wpe(e){return!e||ws(e.size)||ws(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function W8(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function nh(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function H8(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function q8(e,t,n,r){WI(e,t,n,r,null)}function WI(e,t,n,r,i){let s,a,o,c,u,f,h,g;const m=t.pointStyle,x=t.rotation,y=t.radius;let S=(x||0)*Spe;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(S),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),m){default:i?e.ellipse(n,r,i/2,y,0,0,pi):e.arc(n,r,y,0,pi),e.closePath();break;case"triangle":f=i?i/2:y,e.moveTo(n+Math.sin(S)*f,r-Math.cos(S)*y),S+=I8,e.lineTo(n+Math.sin(S)*f,r-Math.cos(S)*y),S+=I8,e.lineTo(n+Math.sin(S)*f,r-Math.cos(S)*y),e.closePath();break;case"rectRounded":u=y*.516,c=y-u,a=Math.cos(S+th)*c,h=Math.cos(S+th)*(i?i/2-u:c),o=Math.sin(S+th)*c,g=Math.sin(S+th)*(i?i/2-u:c),e.arc(n-h,r-o,u,S-Nr,S-Ci),e.arc(n+g,r-a,u,S-Ci,S),e.arc(n+h,r+o,u,S,S+Ci),e.arc(n-g,r+a,u,S+Ci,S+Nr),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*y,f=i?i/2:c,e.rect(n-f,r-c,2*f,2*c);break}S+=th;case"rectRot":h=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,o=Math.sin(S)*y,g=Math.sin(S)*(i?i/2:y),e.moveTo(n-h,r-o),e.lineTo(n+g,r-a),e.lineTo(n+h,r+o),e.lineTo(n-g,r+a),e.closePath();break;case"crossRot":S+=th;case"cross":h=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,o=Math.sin(S)*y,g=Math.sin(S)*(i?i/2:y),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a);break;case"star":h=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,o=Math.sin(S)*y,g=Math.sin(S)*(i?i/2:y),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a),S+=th,h=Math.cos(S)*(i?i/2:y),a=Math.cos(S)*y,o=Math.sin(S)*y,g=Math.sin(S)*(i?i/2:y),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+g,r-a),e.lineTo(n-g,r+a);break;case"line":a=i?i/2:Math.cos(S)*y,o=Math.sin(S)*y,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(S)*(i?i/2:y),r+Math.sin(S)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function HI(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function T_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function L_(e){e.restore()}function Hpe(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ws(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function qpe(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,f=i.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,f),e.lineTo(o,f),e.stroke()}}function Gpe(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Sx(e,t,n,r,i,s={}){const a=Zi(t)?t:[t],o=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(e.save(),e.font=i.string,Hpe(e,s),c=0;c<a.length;++c)u=a[c],s.backdrop&&Gpe(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ws(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,r,s.maxWidth)),e.fillText(u,n,r,s.maxWidth),qpe(e,n,r,u,s),r+=Number(i.lineHeight);e.restore()}function aS(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Nr,Nr,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Nr,Ci,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Ci,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Ci,!0),e.lineTo(n+a.topLeft,r)}const Kpe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ype=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xpe(e,t){const n=(""+e).match(Kpe);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Jpe=e=>+e||0;function D_(e,t){const n={},r=zn(t),i=r?Object.keys(t):t,s=zn(e)?r?a=>nr(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of i)n[a]=Jpe(s(a));return n}function Zpe(e){return D_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function h0(e){return D_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ml(e){const t=Zpe(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ua(e,t){e=e||{},t=t||ri.font;let n=nr(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=nr(e.style,t.style);r&&!(""+r).match(Ype)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:nr(e.family,t.family),lineHeight:Xpe(nr(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:nr(e.weight,t.weight),string:""};return i.string=Wpe(i),i}function I1(e,t,n,r){let i,s,a;for(i=0,s=e.length;i<s;++i)if(a=e[i],a!==void 0&&a!==void 0)return a}function Qpe(e,t,n){const{min:r,max:i}=e,s=OI(t,(i-r)/2),a=(o,c)=>n&&o===0?0:o+c;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Qm(e,t){return Object.assign(Object.create(e),t)}function O_(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=YI("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>O_([o,...e],t,s,r)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return GI(o,c,()=>ome(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return K8(o).includes(c)},ownKeys(o){return K8(o)},set(o,c,u){const f=o._storage||(o._storage=i());return o[c]=f[c]=u,delete o._keys,!0}})}function Mm(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qI(e,r),setContext:s=>Mm(e,s,n,r),override:s=>Mm(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete e[a],!0},get(s,a,o){return GI(s,a,()=>tme(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(s,a,o){return e[a]=o,delete s[a],!0}})}function qI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:df(n)?n:()=>n,isIndexable:df(r)?r:()=>r}}const eme=(e,t)=>e?e+$_(t):t,I_=(e,t)=>zn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function GI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function tme(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];return df(o)&&a.isScriptable(t)&&(o=nme(t,o,e,n)),Zi(o)&&o.length&&(o=rme(t,o,e,a.isIndexable)),I_(t,o)&&(o=Mm(o,i,s&&s[t],a)),o}function nme(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(s,a||r);return o.delete(e),I_(e,c)&&(c=M_(i._scopes,i,e,c)),c}function rme(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(zn(t[0])){const c=t,u=i._scopes.filter(f=>f!==c);t=[];for(const f of c){const h=M_(u,i,e,f);t.push(Mm(h,s,a&&a[e],o))}}return t}function KI(e,t,n){return df(e)?e(t,n):e}const ime=(e,t)=>e===!0?t:typeof e=="string"?z0(t,e):void 0;function sme(e,t,n,r,i){for(const s of t){const a=ime(n,s);if(a){e.add(a);const o=KI(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function M_(e,t,n,r){const i=t._rootScopes,s=KI(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let c=G8(o,a,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=G8(o,a,s,c,r),c===null)?!1:O_(Array.from(o),[""],i,s,()=>ame(t,n,r))}function G8(e,t,n,r,i){for(;n;)n=sme(e,t,n,r,i);return n}function ame(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Zi(i)&&zn(n)?n:i||{}}function ome(e,t,n,r){let i;for(const s of t)if(i=YI(eme(s,e),n),typeof i<"u")return I_(e,i)?M_(n,r,e,i):i}function YI(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function K8(e){let t=e._keys;return t||(t=e._keys=lme(e._scopes)),t}function lme(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function F_(){return typeof window<"u"&&typeof document<"u"}function B_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function _x(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const V2=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function cme(e,t){return V2(e).getPropertyValue(t)}const ume=["top","right","bottom","left"];function Nh(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=ume[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const dme=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function fme(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a=!1,o,c;if(dme(i,s,e.target))o=i,c=s;else{const u=t.getBoundingClientRect();o=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:o,y:c,box:a}}function fh(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=V2(n),s=i.boxSizing==="border-box",a=Nh(i,"padding"),o=Nh(i,"border","width"),{x:c,y:u,box:f}=fme(e,n),h=a.left+(f&&o.left),g=a.top+(f&&o.top);let{width:m,height:x}=t;return s&&(m-=a.width+o.width,x-=a.height+o.height),{x:Math.round((c-h)/m*n.width/r),y:Math.round((u-g)/x*n.height/r)}}function hme(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&B_(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const a=s.getBoundingClientRect(),o=V2(s),c=Nh(o,"border","width"),u=Nh(o,"padding");t=a.width-u.width-c.width,n=a.height-u.height-c.height,r=_x(o.maxWidth,s,"clientWidth"),i=_x(o.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||xx,maxHeight:i||xx}}const M1=e=>Math.round(e*10)/10;function pme(e,t,n,r){const i=V2(e),s=Nh(i,"margin"),a=_x(i.maxWidth,e,"clientWidth")||xx,o=_x(i.maxHeight,e,"clientHeight")||xx,c=hme(e,t,n);let{width:u,height:f}=c;if(i.boxSizing==="content-box"){const g=Nh(i,"border","width"),m=Nh(i,"padding");u-=m.width+g.width,f-=m.height+g.height}return u=Math.max(0,u-s.width),f=Math.max(0,r?u/r:f-s.height),u=M1(Math.min(u,a,c.maxWidth)),f=M1(Math.min(f,o,c.maxHeight)),u&&!f&&(f=M1(u/2)),(t!==void 0||n!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,u=M1(Math.floor(f*r))),{width:u,height:f}}function Y8(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const mme=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};F_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function X8(e,t){const n=cme(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const gme=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vme=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Nm(e,t,n){return e?gme(t,n):vme()}function XI(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function JI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function F1(e,t,n){return e.options.clip?e[n]:t[n]}function yme(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:F1(n,t,"left"),right:F1(n,t,"right"),top:F1(r,t,"top"),bottom:F1(r,t,"bottom")}:t}function xme(e,t){const n=t._clip;if(n.disabled)return!1;const r=yme(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bme{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=BI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var au=new bme;const J8="transparent",wme={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=z8(e||J8),i=r.valid&&z8(t||J8);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Sme{constructor(t,n,r,i){const s=n[r];i=I1([t.to,i,s,t.from]);const a=I1([t.from,s,i]);this._active=!0,this._fn=t.fn||wme[t.type||typeof a],this._easing=d0[t.easing]||d0.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=I1([t.to,n,i,t.from]),this._from=I1([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let c;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class ZI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!zn(t))return;const n=Object.keys(ri.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!zn(s))return;const a={};for(const o of n)a[o]=s[o];(Zi(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(t,n){const r=n.options,i=Cme(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&_me(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const f=n[u];let h=s[u];const g=r.get(u);if(h)if(g&&h.active()){h.update(g,f,o);continue}else h.cancel();if(!g||!g.duration){t[u]=f;continue}s[u]=h=new Sme(g,t,u,f),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return au.add(this._chart,r),!0}}function _me(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Cme(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Z8(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function Nme(e,t,n){if(n===!1)return!1;const r=Z8(e,n),i=Z8(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function jme(e){let t,n,r,i;return zn(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function QI(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Q8(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let a,o,c,u;if(t===null)return;let f=!1;for(a=0,o=i.length;a<o;++a){if(c=+i[a],c===n){if(f=!0,r.all)continue;break}u=e.values[c],Nu(u)&&(s||t===0||M8(t)===M8(u))&&(t+=u)}return!f&&!r.all?0:t}function Pme(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let c,u,f;for(c=0,u=a.length;c<u;++c)f=a[c],o[c]={[i]:f,[s]:e[f]};return o}function Gw(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Ame(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function kme(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Eme(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function eA(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function tA(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,c=s.axis,u=a.axis,f=Ame(s,a,r),h=t.length;let g;for(let m=0;m<h;++m){const x=t[m],{[c]:y,[u]:S}=x,_=x._stacks||(x._stacks={});g=_[u]=Eme(i,f,y),g[o]=S,g._top=eA(g,a,!0,r.type),g._bottom=eA(g,a,!1,r.type);const C=g._visualValues||(g._visualValues={});C[o]=S}}function Kw(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function $me(e,t){return Qm(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Rme(e,t,n){return Qm(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Lg(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Yw=e=>e==="reset"||e==="none",nA=(e,t)=>t?e:Object.assign({},e),Tme=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:QI(n,!0),values:null};class p0{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,g,m,x)=>h==="x"?g:h==="r"?x:m,s=n.xAxisID=nr(r.xAxisID,Kw(t,"x")),a=n.yAxisID=nr(r.yAxisID,Kw(t,"y")),o=n.rAxisID=nr(r.rAxisID,Kw(t,"r")),c=n.indexAxis,u=n.iAxisID=i(c,s,a,o),f=n.vAxisID=i(c,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&F8(this._data,this),t._stacked&&Lg(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(zn(n)){const i=this._cachedMeta;this._data=Pme(n,i)}else if(r!==n){if(r){F8(r,this);const i=this._cachedMeta;Lg(i),i._parsed=[]}n&&Object.isExtensible(n)&&Epe(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Gw(n.vScale,n),n.stack!==r.stack&&(i=!0,Lg(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(tA(this,n._parsed),n._stacked=Gw(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let c=t===0&&n===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],f,h,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Zi(i[t])?g=this.parseArrayData(r,i,t,n):zn(i[t])?g=this.parseObjectData(r,i,t,n):g=this.parsePrimitiveData(r,i,t,n);const m=()=>h[o]===null||u&&h[o]<u[o];for(f=0;f<n;++f)r._parsed[f+t]=h=g[f],c&&(m()&&(c=!1),u=h);r._sorted=c}a&&tA(this,g)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:a}=t,o=s.axis,c=a.axis,u=s.getLabels(),f=s===a,h=new Array(i);let g,m,x;for(g=0,m=i;g<m;++g)x=g+r,h[g]={[o]:f||s.parse(u[x],x),[c]:a.parse(n[x],x)};return h}parseArrayData(t,n,r,i){const{xScale:s,yScale:a}=t,o=new Array(i);let c,u,f,h;for(c=0,u=i;c<u;++c)f=c+r,h=n[f],o[c]={x:s.parse(h[0],f),y:a.parse(h[1],f)};return o}parseObjectData(t,n,r,i){const{xScale:s,yScale:a}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let f,h,g,m;for(f=0,h=i;f<h;++f)g=f+r,m=n[g],u[f]={x:s.parse(z0(m,o),g),y:a.parse(z0(m,c),g)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,a=n[t.axis],o={keys:QI(i,!0),values:n._stacks[t.axis]._visualValues};return Q8(o,a,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=Q8(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,a=i.length,o=this._getOtherScale(t),c=Tme(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:h}=kme(o);let g,m;function x(){m=i[g];const y=m[o.axis];return!Nu(m[t.axis])||f>y||h<y}for(g=0;g<a&&!(!x()&&(this.updateRangeFromParsed(u,t,m,c),s));++g);if(s){for(g=a-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(u,t,m,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][t.axis],Nu(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=jme(nr(this.options.clip,Nme(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(t,s,o,c),f=o;f<o+c;++f){const h=i[f];h.hidden||(h.active&&u?a.push(h):h.draw(t,s))}for(f=0;f<a.length;++f)a[f].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=Rme(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=$me(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=t+"-"+n,o=s[a],c=this.enableOptionSharing&&yx(r);if(o)return nA(o,c);const u=this.chart.config,f=u.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],g=u.getOptionScopes(this.getDataset(),f),m=Object.keys(ri.elements[t]),x=()=>this.getContext(r,i,n),y=u.resolveNamedOptions(g,m,x,h);return y.$shared&&(y.$shared=c,s[a]=Object.freeze(nA(y,c))),y}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let c;if(i.options.animation!==!1){const f=this.chart.config,h=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),h);c=f.createResolver(g,this.getContext(t,r,n))}const u=new ZI(i,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Yw(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(t,n,r,i){Yw(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Yw(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[o,c,u]of this._syncList)this[o](c,u);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,a=t+n;let o;const c=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(c(s),o=t;o<a;++o)s[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&Lg(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}yn(p0,"defaults",{}),yn(p0,"datasetElementType",null),yn(p0,"dataElementType",null);function Lme(e,t,n){let r=1,i=1,s=0,a=0;if(t<pi){const o=e,c=o+t,u=Math.cos(o),f=Math.sin(o),h=Math.cos(c),g=Math.sin(c),m=(P,A,R)=>wx(P,o,c,!0)?1:Math.max(A,A*n,R,R*n),x=(P,A,R)=>wx(P,o,c,!0)?-1:Math.min(A,A*n,R,R*n),y=m(0,u,h),S=m(Ci,f,g),_=x(Nr,u,h),C=x(Nr+Ci,f,g);r=(y-_)/2,i=(S-C)/2,s=-(y+_)/2,a=-(S+C)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class Yg extends p0{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(zn(r[t])){const{key:c="value"}=this._parsing;s=u=>+z0(r[u],c)}let a,o;for(a=t,o=t+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return bh(this.options.rotation-90)}_getCircumference(){return bh(this.options.circumference)}_getRotationExtents(){let t=pi,n=-pi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(gpe(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:f,rotation:h}=this._getRotationExtents(),{ratioX:g,ratioY:m,offsetX:x,offsetY:y}=Lme(h,f,c),S=(r.width-a)/g,_=(r.height-a)/m,C=Math.max(Math.min(S,_)/2,0),P=OI(this.options.radius,C),A=Math.max(P*c,0),R=(P-A)/this._getVisibleDatasetWeightTotal();this.offsetX=x*P,this.offsetY=y*P,i.total=this.calculateTotal(),this.outerRadius=P-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/pi)}updateElements(t,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,f=(o.left+o.right)/2,h=(o.top+o.bottom)/2,g=s&&u.animateScale,m=g?0:this.innerRadius,x=g?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,i);let _=this._getRotation(),C;for(C=0;C<n;++C)_+=this._circumference(C,s);for(C=n;C<n+r;++C){const P=this._circumference(C,s),A=t[C],R={x:f+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+P,circumference:P,outerRadius:x,innerRadius:m};S&&(R.options=y||this.resolveDataElementOptions(C,A.active?"active":i)),_+=P,this.updateElement(A,C,R,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?pi*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fpe(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,a,o,c;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),t=a.data,o=a.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(nr(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}yn(Yg,"id","doughnut"),yn(Yg,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),yn(Yg,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),yn(Yg,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});function rh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class V_{constructor(t){yn(this,"options");this.options=t||{}}static override(t){Object.assign(V_.prototype,t)}init(){}formats(){return rh()}parse(){return rh()}format(){return rh()}add(){return rh()}diff(){return rh()}startOf(){return rh()}endOf(){return rh()}}var Dme={_date:V_};function Ome(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&s.length){const u=o._reversePixels?Ape:iS;if(r){if(i._sharedOptions){const f=s[0],h=typeof f.getRange=="function"&&f.getRange(t);if(h){const g=u(s,t,n-h),m=u(s,t,n+h);return{lo:g.lo,hi:m.hi}}}}else{const f=u(s,t,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:g}=e,m=g.slice(0,f.lo+1).reverse().findIndex(y=>!ws(y[h.axis]));f.lo-=Math.max(0,m);const x=g.slice(f.hi).findIndex(y=>!ws(y[h.axis]));f.hi+=Math.max(0,x)}return f}}return{lo:0,hi:s.length-1}}function z2(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,c=s.length;o<c;++o){const{index:u,data:f}=s[o],{lo:h,hi:g}=Ome(s[o],t,a,i);for(let m=h;m<=g;++m){const x=f[m];x.skip||r(x,u,m)}}}function Ime(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Xw(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||z2(e,n,t,function(o,c,u){!i&&!HI(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&s.push({element:o,datasetIndex:c,index:u})},!0),s}function Mme(e,t,n,r){let i=[];function s(a,o,c){const{startAngle:u,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:h}=MI(a,{x:t.x,y:t.y});wx(h,u,f)&&i.push({element:a,datasetIndex:o,index:c})}return z2(e,n,t,s),i}function Fme(e,t,n,r,i,s){let a=[];const o=Ime(n);let c=Number.POSITIVE_INFINITY;function u(f,h,g){const m=f.inRange(t.x,t.y,i);if(r&&!m)return;const x=f.getCenterPoint(i);if(!(!!s||e.isPointInArea(x))&&!m)return;const S=o(t,x);S<c?(a=[{element:f,datasetIndex:h,index:g}],c=S):S===c&&a.push({element:f,datasetIndex:h,index:g})}return z2(e,n,t,u),a}function Jw(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?Mme(e,t,n,i):Fme(e,t,n,r,i,s)}function rA(e,t,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return z2(e,n,t,(c,u,f)=>{c[a]&&c[a](t[n],i)&&(s.push({element:c,datasetIndex:u,index:f}),o=o||c.inRange(t.x,t.y,i))}),r&&!o?[]:s}var Bme={modes:{index(e,t,n,r){const i=fh(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Xw(e,i,s,r,a):Jw(e,i,s,!1,r,a),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const f=o[0].index,h=u.data[f];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:f})}),c):[]},dataset(e,t,n,r){const i=fh(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Xw(e,i,s,r,a):Jw(e,i,s,!1,r,a);if(o.length>0){const c=o[0].datasetIndex,u=e.getDatasetMeta(c).data;o=[];for(let f=0;f<u.length;++f)o.push({element:u[f],datasetIndex:c,index:f})}return o},point(e,t,n,r){const i=fh(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Xw(e,i,s,r,a)},nearest(e,t,n,r){const i=fh(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Jw(e,i,s,n.intersect,r,a)},x(e,t,n,r){const i=fh(t,e);return rA(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=fh(t,e);return rA(e,i,"y",n.intersect,r)}}};const eM=["left","top","right","bottom"];function Dg(e,t){return e.filter(n=>n.pos===t)}function iA(e,t){return e.filter(n=>eM.indexOf(n.pos)===-1&&n.box.axis===t)}function Og(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Vme(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}function zme(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!eM.includes(i))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function Ume(e,t){const n=zme(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:c}=o.box,u=n[o.stack],f=u&&o.stackWeight/u.weight;o.horizontal?(o.width=f?f*r:c&&t.availableWidth,o.height=i):(o.width=r,o.height=f?f*i:c&&t.availableHeight)}return n}function Wme(e){const t=Vme(e),n=Og(t.filter(u=>u.box.fullSize),!0),r=Og(Dg(t,"left"),!0),i=Og(Dg(t,"right")),s=Og(Dg(t,"top"),!0),a=Og(Dg(t,"bottom")),o=iA(t,"x"),c=iA(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(a).concat(o),chartArea:Dg(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(a).concat(o)}}function sA(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function tM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Hme(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!zn(i)){n.size&&(e[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[i]+=n.size}s.getPadding&&tM(a,s.getPadding());const o=Math.max(0,t.outerWidth-sA(a,e,"left","right")),c=Math.max(0,t.outerHeight-sA(a,e,"top","bottom")),u=o!==e.w,f=c!==e.h;return e.w=o,e.h=c,n.horizontal?{same:u,other:f}:{same:f,other:u}}function qme(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Gme(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(t[a],n[a])}),s}return r(e?["left","right"]:["top","bottom"])}function Xg(e,t,n,r){const i=[];let s,a,o,c,u,f;for(s=0,a=e.length,u=0;s<a;++s){o=e[s],c=o.box,c.update(o.width||t.w,o.height||t.h,Gme(o.horizontal,t));const{same:h,other:g}=Hme(t,n,o,r);u|=h&&i.length,f=f||g,c.fullSize||i.push(o)}return u&&Xg(i,t,n,r)||f}function B1(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function aA(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const c=o.box,u=r[o.stack]||{placed:0,weight:1},f=o.stackWeight/u.weight||1;if(o.horizontal){const h=t.w*f,g=u.size||c.height;yx(u.start)&&(a=u.start),c.fullSize?B1(c,i.left,a,n.outerWidth-i.right-i.left,g):B1(c,t.left+u.placed,a,h,g),u.start=a,u.placed+=h,a=c.bottom}else{const h=t.h*f,g=u.size||c.width;yx(u.start)&&(s=u.start),c.fullSize?B1(c,s,i.top,g,n.outerHeight-i.bottom-i.top):B1(c,s,t.top+u.placed,g,h),u.start=s,u.placed+=h,s=c.right}}t.x=s,t.y=a}var Vd={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=ml(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=Wme(e.boxes),c=o.vertical,u=o.horizontal;tr(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const f=c.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},i);tM(g,ml(r));const m=Object.assign({maxPadding:g,w:s,h:a,x:i.left,y:i.top},i),x=Ume(c.concat(u),h);Xg(o.fullSize,m,h,x),Xg(c,m,h,x),Xg(u,m,h,x)&&Xg(c,m,h,x),qme(m),aA(o.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,aA(o.rightAndBottom,m,h,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},tr(o.chartArea,y=>{const S=y.box;Object.assign(S,e.chartArea),S.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class nM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Kme extends nM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vy="$chartjs",Yme={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},oA=e=>e===null||e==="";function Xme(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[vy]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",oA(i)){const s=X8(e,"width");s!==void 0&&(e.width=s)}if(oA(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=X8(e,"height");s!==void 0&&(e.height=s)}return e}const rM=mme?{passive:!0}:!1;function Jme(e,t,n){e&&e.addEventListener(t,n,rM)}function Zme(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,rM)}function Qme(e,t){const n=Yme[e.type]||e.type,{x:r,y:i}=fh(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Cx(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ege(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Cx(o.addedNodes,r),a=a&&!Cx(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function tge(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Cx(o.removedNodes,r),a=a&&!Cx(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const U0=new Map;let lA=0;function iM(){const e=window.devicePixelRatio;e!==lA&&(lA=e,U0.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function nge(e,t){U0.size||window.addEventListener("resize",iM),U0.set(e,t)}function rge(e){U0.delete(e),U0.size||window.removeEventListener("resize",iM)}function ige(e,t,n){const r=e.canvas,i=r&&B_(r);if(!i)return;const s=VI((o,c)=>{const u=i.clientWidth;n(o,c),u<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const c=o[0],u=c.contentRect.width,f=c.contentRect.height;u===0&&f===0||s(u,f)});return a.observe(i),nge(e,s),a}function Zw(e,t,n){n&&n.disconnect(),t==="resize"&&rge(e)}function sge(e,t,n){const r=e.canvas,i=VI(s=>{e.ctx!==null&&n(Qme(s,e))},e);return Jme(r,t,i),i}class age extends nM{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Xme(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[vy])return!1;const r=n[vy].initial;["height","width"].forEach(s=>{const a=r[s];ws(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[vy],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),a={attach:ege,detach:tge,resize:ige}[n]||sge;i[n]=a(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Zw,detach:Zw,resize:Zw}[n]||Zme)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return pme(t,n,r,i)}isAttached(t){const n=t&&B_(t);return!!(n&&n.isConnected)}}function oge(e){return!F_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Kme:age}var Q1;let Ev=(Q1=class{constructor(){yn(this,"x");yn(this,"y");yn(this,"active",!1);yn(this,"options");yn(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return bx(this.x)&&bx(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},yn(Q1,"defaults",{}),yn(Q1,"defaultRoutes"),Q1);function lge(e,t){const n=e.options.ticks,r=cge(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?dge(t):[],a=s.length,o=s[0],c=s[a-1],u=[];if(a>i)return fge(t,u,s,a/i),u;const f=uge(s,t,i);if(a>0){let h,g;const m=a>1?Math.round((c-o)/(a-1)):null;for(V1(t,u,f,ws(m)?0:o-m,o),h=0,g=a-1;h<g;h++)V1(t,u,f,s[h],s[h+1]);return V1(t,u,f,c,ws(m)?t.length:c+m),u}return V1(t,u,f),u}function cge(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function uge(e,t,n){const r=hge(e),i=t.length/n;if(!r)return Math.max(i,1);const s=_pe(r);for(let a=0,o=s.length-1;a<o;a++){const c=s[a];if(c>i)return c}return Math.max(i,1)}function dge(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function fge(e,t,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===s&&(t.push(e[a]),i++,s=n[i*r])}function V1(e,t,n,r,i){const s=nr(r,0),a=Math.min(nr(i,e.length),e.length);let o=0,c,u,f;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),f=s;f<0;)o++,f=Math.round(s+o*n);for(u=Math.max(s,0);u<a;u++)u===f&&(t.push(e[u]),o++,f=Math.round(s+o*n))}function hge(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const pge=e=>e==="left"?"right":e==="right"?"left":e,cA=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,uA=(e,t)=>Math.min(t||e,e);function dA(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function mge(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let c=e.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(c-s,a-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(i-1))/2,c+=i<t?u:-u,c<s-o||c>a+o)))return c}function gge(e,t){tr(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ig(e){return e.drawTicks?e.tickLength:0}function fA(e,t){if(!e.display)return 0;const n=ua(e.font,t),r=ml(e.padding);return(Zi(e.text)?e.text.length:1)*n.lineHeight+r.height}function vge(e,t){return Qm(e,{scale:t,type:"scale"})}function yge(e,t,n){return Qm(e,{tick:n,index:t,type:"tick"})}function xge(e,t,n){let r=zI(e);return(n&&t!=="right"||!n&&t==="right")&&(r=pge(r)),r}function bge(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:c}=e,{chartArea:u,scales:f}=c;let h=0,g,m,x;const y=a-i,S=o-s;if(e.isHorizontal()){if(m=La(r,s,o),zn(n)){const _=Object.keys(n)[0],C=n[_];x=f[_].getPixelForValue(C)+y-t}else n==="center"?x=(u.bottom+u.top)/2+y-t:x=cA(e,n,t);g=o-s}else{if(zn(n)){const _=Object.keys(n)[0],C=n[_];m=f[_].getPixelForValue(C)-S+t}else n==="center"?m=(u.left+u.right)/2-S+t:m=cA(e,n,t);x=La(r,a,i),h=n==="left"?-Ci:Ci}return{titleX:m,titleY:x,maxWidth:g,rotation:h}}class U2 extends Ev{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=ql(t,Number.POSITIVE_INFINITY),n=ql(n,Number.NEGATIVE_INFINITY),r=ql(r,Number.POSITIVE_INFINITY),i=ql(i,Number.NEGATIVE_INFINITY),{min:ql(t,r),max:ql(n,i),minDefined:Nu(t),maxDefined:Nu(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,u=o.length;c<u;++c)a=o[c].controller.getMinMax(this,t),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ql(n,ql(r,n)),max:ql(r,ql(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cr(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qpe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?dA(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=lge(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cr(this.options.afterUpdate,[this])}beforeSetDimensions(){Cr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Cr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Cr(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Cr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=uA(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,c,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),h=f.widest.width,g=f.highest.height,m=ho(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/r:m/(r-1),h+6>o&&(o=m/(r-(t.offset?.5:1)),c=this.maxHeight-Ig(t.grid)-n.padding-fA(t.title,this.chart.options.font),u=Math.sqrt(h*h+g*g),a=Npe(Math.min(Math.asin(ho((f.highest.height+6)/o,-1,1)),Math.asin(ho(c/u,-1,1))-Math.asin(ho(g/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Cr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=fA(i,n.options.font);if(o?(t.width=this.maxWidth,t.height=Ig(s)+c):(t.height=this.maxHeight,t.width=Ig(s)+c),r.display&&this.ticks.length){const{first:u,last:f,widest:h,highest:g}=this._getLabelSizes(),m=r.padding*2,x=bh(this.labelRotation),y=Math.cos(x),S=Math.sin(x);if(o){const _=r.mirror?0:S*h.width+y*g.height;t.height=Math.min(this.maxHeight,t.height+_+m)}else{const _=r.mirror?0:y*h.width+S*g.height;t.width=Math.min(this.maxWidth,t.width+_+m)}this._calculatePadding(u,f,S,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,c=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,m=0;c?u?(g=i*t.width,m=r*n.height):(g=r*t.height,m=i*n.width):s==="start"?m=n.width:s==="end"?g=t.width:s!=="inner"&&(g=t.width/2,m=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let f=n.height/2,h=t.height/2;s==="start"?(f=0,h=t.height):s==="end"&&(f=n.height,h=0),this.paddingTop=f+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)ws(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=dA(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],c=Math.floor(n/uA(n,r));let u=0,f=0,h,g,m,x,y,S,_,C,P,A,R;for(h=0;h<n;h+=c){if(x=t[h].label,y=this._resolveTickFontOptions(h),i.font=S=y.string,_=s[S]=s[S]||{data:{},gc:[]},C=y.lineHeight,P=A=0,!ws(x)&&!Zi(x))P=W8(i,_.data,_.gc,P,x),A=C;else if(Zi(x))for(g=0,m=x.length;g<m;++g)R=x[g],!ws(R)&&!Zi(R)&&(P=W8(i,_.data,_.gc,P,R),A+=C);a.push(P),o.push(A),u=Math.max(P,u),f=Math.max(A,f)}gge(s,n);const D=a.indexOf(u),T=o.indexOf(f),M=U=>({width:a[U]||0,height:o[U]||0});return{first:M(0),last:M(n-1),widest:M(D),highest:M(T),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Ppe(this._alignToPixels?nh(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=yge(this.getContext(),t,r))}return this.$context||(this.$context=vge(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=bh(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,o=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*r>o*i?o/r:c/i:c*i<o*r?c/r:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,c=s.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),g=Ig(s),m=[],x=o.setContext(this.getContext()),y=x.display?x.width:0,S=y/2,_=function(J){return nh(r,J,y)};let C,P,A,R,D,T,M,U,ee,F,O,H;if(a==="top")C=_(this.bottom),T=this.bottom-g,U=C-S,F=_(t.top)+S,H=t.bottom;else if(a==="bottom")C=_(this.top),F=t.top,H=_(t.bottom)-S,T=C+S,U=this.top+g;else if(a==="left")C=_(this.right),D=this.right-g,M=C-S,ee=_(t.left)+S,O=t.right;else if(a==="right")C=_(this.left),ee=t.left,O=_(t.right)-S,D=C+S,M=this.left+g;else if(n==="x"){if(a==="center")C=_((t.top+t.bottom)/2+.5);else if(zn(a)){const J=Object.keys(a)[0],W=a[J];C=_(this.chart.scales[J].getPixelForValue(W))}F=t.top,H=t.bottom,T=C+S,U=T+g}else if(n==="y"){if(a==="center")C=_((t.left+t.right)/2);else if(zn(a)){const J=Object.keys(a)[0],W=a[J];C=_(this.chart.scales[J].getPixelForValue(W))}D=C-S,M=D-g,ee=t.left,O=t.right}const V=nr(i.ticks.maxTicksLimit,h),ae=Math.max(1,Math.ceil(h/V));for(P=0;P<h;P+=ae){const J=this.getContext(P),W=s.setContext(J),z=o.setContext(J),ne=W.lineWidth,se=W.color,X=z.dash||[],B=z.dashOffset,Q=W.tickWidth,re=W.tickColor,ce=W.tickBorderDash||[],ue=W.tickBorderDashOffset;A=mge(this,P,c),A!==void 0&&(R=nh(r,A,ne),u?D=M=ee=O=R:T=U=F=H=R,m.push({tx1:D,ty1:T,tx2:M,ty2:U,x1:ee,y1:F,x2:O,y2:H,width:ne,color:se,borderDash:X,borderDashOffset:B,tickWidth:Q,tickColor:re,tickBorderDash:ce,tickBorderDashOffset:ue}))}return this._ticksLength=h,this._borderValue=C,m}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:u,padding:f,mirror:h}=s,g=Ig(r.grid),m=g+f,x=h?-f:m,y=-bh(this.labelRotation),S=[];let _,C,P,A,R,D,T,M,U,ee,F,O,H="middle";if(i==="top")D=this.bottom-x,T=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+x,T=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(g);T=ae.textAlign,R=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(g);T=ae.textAlign,R=ae.x}else if(n==="x"){if(i==="center")D=(t.top+t.bottom)/2+m;else if(zn(i)){const ae=Object.keys(i)[0],J=i[ae];D=this.chart.scales[ae].getPixelForValue(J)+m}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(t.left+t.right)/2-m;else if(zn(i)){const ae=Object.keys(i)[0],J=i[ae];R=this.chart.scales[ae].getPixelForValue(J)}T=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(c==="start"?H="top":c==="end"&&(H="bottom"));const V=this._getLabelSizes();for(_=0,C=o.length;_<C;++_){P=o[_],A=P.label;const ae=s.setContext(this.getContext(_));M=this.getPixelForTick(_)+s.labelOffset,U=this._resolveTickFontOptions(_),ee=U.lineHeight,F=Zi(A)?A.length:1;const J=F/2,W=ae.color,z=ae.textStrokeColor,ne=ae.textStrokeWidth;let se=T;a?(R=M,T==="inner"&&(_===C-1?se=this.options.reverse?"left":"right":_===0?se=this.options.reverse?"right":"left":se="center"),i==="top"?u==="near"||y!==0?O=-F*ee+ee/2:u==="center"?O=-V.highest.height/2-J*ee+ee:O=-V.highest.height+ee/2:u==="near"||y!==0?O=ee/2:u==="center"?O=V.highest.height/2-J*ee:O=V.highest.height-F*ee,h&&(O*=-1),y!==0&&!ae.showLabelBackdrop&&(R+=ee/2*Math.sin(y))):(D=M,O=(1-F)*ee/2);let X;if(ae.showLabelBackdrop){const B=ml(ae.backdropPadding),Q=V.heights[_],re=V.widths[_];let ce=O-B.top,ue=0-B.left;switch(H){case"middle":ce-=Q/2;break;case"bottom":ce-=Q;break}switch(T){case"center":ue-=re/2;break;case"right":ue-=re;break;case"inner":_===C-1?ue-=re:_>0&&(ue-=re/2);break}X={left:ue,top:ce,width:re+B.width,height:Q+B.height,color:ae.backdropColor}}S.push({label:A,font:U,textOffset:O,options:{rotation:y,color:W,strokeColor:z,strokeWidth:ne,textAlign:se,textBaseline:H,translation:[R,D],backdrop:X}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-bh(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=t+s,c=a.widest.width;let u,f;return n==="left"?i?(f=this.right+s,r==="near"?u="left":r==="center"?(u="center",f+=c/2):(u="right",f+=c)):(f=this.right-o,r==="near"?u="right":r==="center"?(u="center",f-=c/2):(u="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?u="right":r==="center"?(u="center",f-=c/2):(u="left",f-=c)):(f=this.left+o,r==="near"?u="left":r==="center"?(u="center",f+=c/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const o=(c,u,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const c=i[s];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,f,h,g;this.isHorizontal()?(u=nh(t,this.left,a)-a/2,f=nh(t,this.right,o)+o/2,h=g=c):(h=nh(t,this.top,a)-a/2,g=nh(t,this.bottom,o)+o/2,u=f=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&T_(r,i);const s=this.getLabelItems(t);for(const a of s){const o=a.options,c=a.font,u=a.label,f=a.textOffset;Sx(r,u,0,f,c,o)}i&&L_(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ua(r.font),a=ml(r.padding),o=r.align;let c=s.lineHeight/2;n==="bottom"||n==="center"||zn(n)?(c+=a.bottom,Zi(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:f,maxWidth:h,rotation:g}=bge(this,c,n,o);Sx(t,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:g,textAlign:xge(o,n,i),textBaseline:"middle",translation:[u,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=nr(t.grid&&t.grid.z,-1),i=nr(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==U2.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ua(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class z1{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;_ge(n)&&(r=this.register(n));const i=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,wge(t,a,r),this.override&&ri.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in ri[i]&&(delete ri[i][r],this.override&&delete Bh[r])}}function wge(e,t,n){const r=V0(Object.create(null),[n?ri.get(n):{},ri.get(t),e.defaults]);ri.set(t,r),e.defaultRoutes&&Sge(t,e.defaultRoutes),e.descriptors&&ri.describe(t,e.descriptors)}function Sge(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),c=a.join(".");ri.route(s,i,c,o)})}function _ge(e){return"id"in e&&"defaults"in e}class Cge{constructor(){this.controllers=new z1(p0,"datasets",!0),this.elements=new z1(Ev,"elements"),this.plugins=new z1(Object,"plugins"),this.scales=new z1(U2,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):tr(i,a=>{const o=r||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,r){const i=$_(t);Cr(r["before"+i],[],r),n[t](r),Cr(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Xl=new Cge;class Nge{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,r,i){i=i||{};for(const s of t){const a=s.plugin,o=a[r],c=[n,i,s.options];if(Cr(o,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ws(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=nr(r.options&&r.options.plugins,{}),s=jge(r);return i===!1&&!n?[]:Age(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function jge(e){const t={},n=[],r=Object.keys(Xl.plugins.items);for(let s=0;s<r.length;s++)n.push(Xl.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function Pge(e,t){return!t&&e===!1?null:e===!0?{}:e}function Age(e,{plugins:t,localIds:n},r,i){const s=[],a=e.getContext();for(const o of t){const c=o.id,u=Pge(r[c],i);u!==null&&s.push({plugin:o,options:kge(e.config,{plugin:o,local:n[c]},u,a)})}return s}function kge(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),a=e.getOptionScopes(r,s);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function oS(e,t){const n=ri.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ege(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function $ge(e,t){return e===t?"_index_":"_value_"}function hA(e){if(e==="x"||e==="y"||e==="r")return e}function Rge(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function lS(e,...t){if(hA(e))return e;for(const n of t){const r=n.axis||Rge(n.position)||e.length>1&&hA(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Tge(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return pA(e,"x",n[0])||pA(e,"y",n[0])}return{}}function Lge(e,t){const n=Bh[e.type]||{scales:{}},r=t.scales||{},i=oS(e.type,t),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!zn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=lS(a,o,Tge(a,e),ri.scales[o.type]),u=$ge(c,i),f=n.scales||{};s[a]=u0(Object.create(null),[{axis:c},o,f[c],f[u]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,c=a.indexAxis||oS(o,t),f=(Bh[o]||{}).scales||{};Object.keys(f).forEach(h=>{const g=Ege(h,c),m=a[g+"AxisID"]||g;s[m]=s[m]||Object.create(null),u0(s[m],[{axis:g},r[m],f[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];u0(o,[ri.scales[o.type],ri.scale])}),s}function sM(e){const t=e.options||(e.options={});t.plugins=nr(t.plugins,{}),t.scales=Lge(e,t)}function aM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Dge(e){return e=e||{},e.data=aM(e.data),sM(e),e}const mA=new Map,oM=new Set;function U1(e,t){let n=mA.get(e);return n||(n=t(),mA.set(e,n),oM.add(n)),n}const Mg=(e,t,n)=>{const r=z0(t,n);r!==void 0&&e.add(r)};class Oge{constructor(t){this._config=Dge(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=aM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return U1(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return U1(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return U1(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return U1(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,a=this._cachedScopes(t,r),o=a.get(n);if(o)return o;const c=new Set;n.forEach(f=>{t&&(c.add(t),f.forEach(h=>Mg(c,t,h))),f.forEach(h=>Mg(c,i,h)),f.forEach(h=>Mg(c,Bh[s]||{},h)),f.forEach(h=>Mg(c,ri,h)),f.forEach(h=>Mg(c,sS,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),oM.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Bh[n]||{},ri.datasets[n]||{},{type:n},ri,sS]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=gA(this._resolverCache,t,i);let c=a;if(Mge(a,n)){s.$shared=!1,r=df(r)?r():r;const u=this.createResolver(t,r,o);c=Mm(a,r,u)}for(const u of n)s[u]=c[u];return s}createResolver(t,n,r=[""],i){const{resolver:s}=gA(this._resolverCache,t,r);return zn(n)?Mm(s,n,void 0,i):s}}function gA(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:O_(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const Ige=e=>zn(e)&&Object.getOwnPropertyNames(e).some(t=>df(e[t]));function Mge(e,t){const{isScriptable:n,isIndexable:r}=qI(e);for(const i of t){const s=n(i),a=r(i),o=(a||s)&&e[i];if(s&&(df(o)||Ige(o))||a&&Zi(o))return!0}return!1}var Fge="4.5.0";const Bge=["top","bottom","left","right","chartArea"];function vA(e,t){return e==="top"||e==="bottom"||Bge.indexOf(e)===-1&&t==="x"}function yA(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function xA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Cr(n&&n.onComplete,[e],t)}function Vge(e){const t=e.chart,n=t.options.animation;Cr(n&&n.onProgress,[e],t)}function lM(e){return F_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const yy={},bA=e=>{const t=lM(e);return Object.values(yy).filter(n=>n.canvas===t).pop()};function zge(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const a=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=a)}}}function Uge(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var kd;let W2=(kd=class{static register(...t){Xl.add(...t),wA()}static unregister(...t){Xl.remove(...t),wA()}constructor(t,n){const r=this.config=new Oge(n),i=lM(t),s=bA(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oge(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),c=o&&o.canvas,u=c&&c.height,f=c&&c.width;if(this.id=mpe(),this.ctx=o,this.canvas=c,this.width=f,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nge,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Rpe(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],yy[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}au.listen(this,"complete",xA),au.listen(this,"progress",Vge),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ws(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Y8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return H8(this.canvas,this.ctx),this}stop(){return au.stop(this),this}resize(t,n){au.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,t,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Y8(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Cr(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tr(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],c=lS(a,o),u=c==="r",f=c==="x";return{options:o,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),tr(s,a=>{const o=a.options,c=o.id,u=lS(c,o),f=nr(o.type,a.dtype);(o.position===void 0||vA(o.position,u)!==vA(a.dposition))&&(o.position=a.dposition),i[c]=!0;let h=null;if(c in r&&r[c].type===f)h=r[c];else{const g=Xl.getScale(f);h=new g({id:c,type:f,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,t)}),tr(i,(a,o)=>{a||delete r[o]}),tr(r,a=>{Vd.configure(this,a,a.options),Vd.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(yA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||oS(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Xl.getController(o),{datasetElementType:u,dataElementType:f}=ri.datasets[o];Object.assign(c,{dataElementType:Xl.getElement(f),datasetElementType:u&&Xl.getElement(u)}),a.controller=new c(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){tr(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,f=this.data.datasets.length;u<f;u++){const{controller:h}=this.getDatasetMeta(u),g=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(g),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||tr(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yA("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){tr(this.scales,t=>{Vd.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!O8(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;zge(t,i,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!O8(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Vd.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],tr(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,df(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(au.has(this)?this.attached&&!au.running(this)&&au.start(this):(this.draw(),xA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=xme(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&T_(n,i),t.controller.draw(),i&&L_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return HI(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=Bme.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Qm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,i);yx(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),au.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),H8(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),t[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};tr(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},i=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){tr(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},tr(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,a,o,c;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){a=t[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!gx(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(c,u)=>c.filter(f=>!u.some(h=>f.datasetIndex===h.datasetIndex&&f.index===h.index)),a=s(n,t),o=r?t:s(t,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(t,i,r,a),c=wpe(t),u=Uge(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Cr(s.onHover,[t,o,this],this),c&&Cr(s.onClick,[t,o,this],this));const f=!gx(o,i);return(f||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,f}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},yn(kd,"defaults",ri),yn(kd,"instances",yy),yn(kd,"overrides",Bh),yn(kd,"registry",Xl),yn(kd,"version",Fge),yn(kd,"getChart",bA),kd);function wA(){return tr(W2.instances,e=>e._plugins.invalidate())}function Wge(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:c}=t,{borderWidth:u,borderJoinStyle:f}=c,h=Math.min(u/a,Jl(r-n));if(e.beginPath(),e.arc(i,s,a-u/2,r+h/2,n-h/2),o>0){const g=Math.min(u/o,Jl(r-n));e.arc(i,s,o+u/2,n-g/2,r+g/2,!0)}else{const g=Math.min(u/2,a*Jl(r-n));if(f==="round")e.arc(i,s,g,n-Nr/2,r+Nr/2,!0);else if(f==="bevel"){const m=2*g*g,x=-m*Math.cos(n+Nr/2)+i,y=-m*Math.sin(n+Nr/2)+s,S=m*Math.cos(r+Nr/2)+i,_=m*Math.sin(r+Nr/2)+s;e.lineTo(x,y),e.lineTo(S,_)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Hge(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:c}=t;let u=i/o;e.beginPath(),e.arc(s,a,o,r-u,n+u),c>i?(u=i/c,e.arc(s,a,c,n+u,r-u,!0)):e.arc(s,a,i,n+Ci,r-Ci),e.closePath(),e.clip()}function qge(e){return D_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Gge(e,t,n,r){const i=qge(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,r*t/2),o=c=>{const u=(n-Math.min(s,c))*r/2;return ho(c,0,Math.min(s,u))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:ho(i.innerStart,0,a),innerEnd:ho(i.innerEnd,0,a)}}function Wp(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Nx(e,t,n,r,i,s){const{x:a,y:o,startAngle:c,pixelMargin:u,innerRadius:f}=t,h=Math.max(t.outerRadius+r+n-u,0),g=f>0?f+r+n+u:0;let m=0;const x=i-c;if(r){const ae=f>0?f-r:0,J=h>0?h-r:0,W=(ae+J)/2,z=W!==0?x*W/(W+r):x;m=(x-z)/2}const y=Math.max(.001,x*h-n/Nr)/h,S=(x-y)/2,_=c+S+m,C=i-S-m,{outerStart:P,outerEnd:A,innerStart:R,innerEnd:D}=Gge(t,g,h,C-_),T=h-P,M=h-A,U=_+P/T,ee=C-A/M,F=g+R,O=g+D,H=_+R/F,V=C-D/O;if(e.beginPath(),s){const ae=(U+ee)/2;if(e.arc(a,o,h,U,ae),e.arc(a,o,h,ae,ee),A>0){const ne=Wp(M,ee,a,o);e.arc(ne.x,ne.y,A,ee,C+Ci)}const J=Wp(O,C,a,o);if(e.lineTo(J.x,J.y),D>0){const ne=Wp(O,V,a,o);e.arc(ne.x,ne.y,D,C+Ci,V+Math.PI)}const W=(C-D/g+(_+R/g))/2;if(e.arc(a,o,g,C-D/g,W,!0),e.arc(a,o,g,W,_+R/g,!0),R>0){const ne=Wp(F,H,a,o);e.arc(ne.x,ne.y,R,H+Math.PI,_-Ci)}const z=Wp(T,_,a,o);if(e.lineTo(z.x,z.y),P>0){const ne=Wp(T,U,a,o);e.arc(ne.x,ne.y,P,_-Ci,U)}}else{e.moveTo(a,o);const ae=Math.cos(U)*h+a,J=Math.sin(U)*h+o;e.lineTo(ae,J);const W=Math.cos(ee)*h+a,z=Math.sin(ee)*h+o;e.lineTo(W,z)}e.closePath()}function Kge(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let c=t.endAngle;if(s){Nx(e,t,n,r,c,i);for(let u=0;u<s;++u)e.fill();isNaN(o)||(c=a+(o%pi||pi))}return Nx(e,t,n,r,c,i),e.fill(),c}function Yge(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:c}=t,{borderWidth:u,borderJoinStyle:f,borderDash:h,borderDashOffset:g,borderRadius:m}=c,x=c.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=g,x?(e.lineWidth=u*2,e.lineJoin=f||"round"):(e.lineWidth=u,e.lineJoin=f||"bevel");let y=t.endAngle;if(s){Nx(e,t,n,r,y,i);for(let S=0;S<s;++S)e.stroke();isNaN(o)||(y=a+(o%pi||pi))}x&&Hge(e,t,y),c.selfJoin&&y-a>=Nr&&m===0&&f!=="miter"&&Wge(e,t,y),s||(Nx(e,t,n,r,y,i),e.stroke())}class Jg extends Ev{constructor(n){super();yn(this,"circumference");yn(this,"endAngle");yn(this,"fullCircles");yn(this,"innerRadius");yn(this,"outerRadius");yn(this,"pixelMargin");yn(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=MI(s,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:f,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,x=nr(g,u-c),y=wx(a,c,u)&&c!==u,S=x>=pi||y,_=Kg(o,f+m,h+m);return S&&_}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:f}=this.options,h=(s+a)/2,g=(o+c+f+u)/2;return{x:r+Math.cos(h)*g,y:i+Math.sin(h)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>pi?Math.floor(i/pi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(Nr,i||0)),f=s*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Kge(n,this,f,a,o),Yge(n,this,f,a,o),n.restore()}}yn(Jg,"id","arc"),yn(Jg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),yn(Jg,"defaultRoutes",{backgroundColor:"backgroundColor"}),yn(Jg,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const SA=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},Xge=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _A extends Ev{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Cr(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ua(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=SA(r,s);let u,f;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,f=this._fitRows(a,s,o,c)+10):(f=this.maxHeight,u=this._fitCols(a,i,o,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],f=i+o;let h=t;s.textAlign="left",s.textBaseline="middle";let g=-1,m=-f;return this.legendItems.forEach((x,y)=>{const S=r+n/2+s.measureText(x.text).width;(y===0||u[u.length-1]+S+2*o>a)&&(h+=f,u[u.length-(y>0?0:1)]=0,m+=f,g++),c[y]={left:0,top:m,row:g,width:S,height:i},u[u.length-1]+=S+o}),h}_fitCols(t,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],f=a-t;let h=o,g=0,m=0,x=0,y=0;return this.legendItems.forEach((S,_)=>{const{itemWidth:C,itemHeight:P}=Jge(r,n,s,S,i);_>0&&m+P+2*o>f&&(h+=g+o,u.push({width:g,height:m}),x+=g+o,y++,g=m=0),c[_]={left:x,top:m,col:y,width:C,height:P},g=Math.max(g,C),m+=P+o}),h+=g,u.push({width:g,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Nm(s,this.left,this.width);if(this.isHorizontal()){let o=0,c=La(r,this.left+i,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,c=La(r,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+t+i,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+i}else{let o=0,c=La(r,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,c=La(r,this.top+t+i,this.bottom-this.columnSizes[o].height)),u.top=c,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;T_(t,this),this._draw(),L_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=t,o=ri.color,c=Nm(t.rtl,this.left,this.width),u=ua(a.font),{padding:f}=a,h=u.size,g=h/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:x,boxHeight:y,itemHeight:S}=SA(a,h),_=function(D,T,M){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;i.save();const U=nr(M.lineWidth,1);if(i.fillStyle=nr(M.fillStyle,o),i.lineCap=nr(M.lineCap,"butt"),i.lineDashOffset=nr(M.lineDashOffset,0),i.lineJoin=nr(M.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=nr(M.strokeStyle,o),i.setLineDash(nr(M.lineDash,[])),a.usePointStyle){const ee={radius:y*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:U},F=c.xPlus(D,x/2),O=T+g;WI(i,ee,F,O,a.pointStyleWidth&&x)}else{const ee=T+Math.max((h-y)/2,0),F=c.leftForLtr(D,x),O=h0(M.borderRadius);i.beginPath(),Object.values(O).some(H=>H!==0)?aS(i,{x:F,y:ee,w:x,h:y,radius:O}):i.rect(F,ee,x,y),i.fill(),U!==0&&i.stroke()}i.restore()},C=function(D,T,M){Sx(i,M.text,D,T+S/2,u,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},P=this.isHorizontal(),A=this._computeTitleHeight();P?m={x:La(s,this.left+f,this.right-r[0]),y:this.top+f+A,line:0}:m={x:this.left+f,y:La(s,this.top+A+f,this.bottom-n[0].height),line:0},XI(this.ctx,t.textDirection);const R=S+f;this.legendItems.forEach((D,T)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const M=i.measureText(D.text).width,U=c.textAlign(D.textAlign||(D.textAlign=a.textAlign)),ee=x+g+M;let F=m.x,O=m.y;c.setWidth(this.width),P?T>0&&F+ee+f>this.right&&(O=m.y+=R,m.line++,F=m.x=La(s,this.left+f,this.right-r[m.line])):T>0&&O+R>this.bottom&&(F=m.x=F+n[m.line].width+f,m.line++,O=m.y=La(s,this.top+A+f,this.bottom-n[m.line].height));const H=c.x(F);if(_(H,O,D),F=Tpe(U,F+x+g,P?F+ee:this.right,t.rtl),C(c.x(F),O,D),P)m.x+=ee+f;else if(typeof D.text!="string"){const V=u.lineHeight;m.y+=cM(D,V)+f}else m.y+=R}),JI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=ua(n.font),i=ml(n.padding);if(!n.display)return;const s=Nm(t.rtl,this.left,this.width),a=this.ctx,o=n.position,c=r.size/2,u=i.top+c;let f,h=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+u,h=La(t.align,h,this.right-g);else{const x=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);f=u+La(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const m=La(o,h,h+g);a.textAlign=s.textAlign(zI(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Sx(a,n.text,m,f,r)}_computeTitleHeight(){const t=this.options.title,n=ua(t.font),r=ml(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Kg(t,this.left,this.right)&&Kg(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Kg(t,i.left,i.left+i.width)&&Kg(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!e0e(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=Xge(i,r);i&&!s&&Cr(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Cr(n.onHover,[t,r,this],this)}else r&&Cr(n.onClick,[t,r,this],this)}}function Jge(e,t,n,r,i){const s=Zge(r,e,t,n),a=Qge(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}function Zge(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),t+n.size/2+r.measureText(i).width}function Qge(e,t,n){let r=e;return typeof t.text!="string"&&(r=cM(t,n)),r}function cM(e,t){const n=e.text?e.text.length:0;return t*n}function e0e(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var t0e={id:"legend",_element:_A,start(e,t,n){const r=e.legend=new _A({ctx:e.ctx,options:n,chart:e});Vd.configure(e,r,n),Vd.addBox(e,r)},stop(e){Vd.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Vd.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),f=ml(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const Zg={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=e.length;s<a;++s){const c=e[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),f=jpe(t,u);f<i&&(i=f,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Yl(e,t){return t&&(Zi(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ou(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function n0e(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function CA(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,c=ua(t.bodyFont),u=ua(t.titleFont),f=ua(t.footerFont),h=s.length,g=i.length,m=r.length,x=ml(t.padding);let y=x.height,S=0,_=r.reduce((A,R)=>A+R.before.length+R.lines.length+R.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const A=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;y+=m*A+(_-m)*c.lineHeight+(_-1)*t.bodySpacing}g&&(y+=t.footerMarginTop+g*f.lineHeight+(g-1)*t.footerSpacing);let C=0;const P=function(A){S=Math.max(S,n.measureText(A).width+C)};return n.save(),n.font=u.string,tr(e.title,P),n.font=c.string,tr(e.beforeBody.concat(e.afterBody),P),C=t.displayColors?a+2+t.boxPadding:0,tr(r,A=>{tr(A.before,P),tr(A.lines,P),tr(A.after,P)}),C=0,n.font=f.string,tr(e.footer,P),n.restore(),S+=x.width,{width:S,height:y}}function r0e(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function i0e(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(e==="left"&&i+s+a>t.width||e==="right"&&i-s-a<0)return!0}function s0e(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:c}}=e;let u="center";return r==="center"?u=i<=(o+c)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),i0e(u,e,t,n)&&(u="center"),u}function NA(e,t,n){const r=n.yAlign||t.yAlign||r0e(e,n);return{xAlign:n.xAlign||t.xAlign||s0e(e,t,n,r),yAlign:r}}function a0e(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function o0e(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function jA(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:c}=n,u=i+s,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:m}=h0(a);let x=a0e(t,o);const y=o0e(t,c,u);return c==="center"?o==="left"?x+=u:o==="right"&&(x-=u):o==="left"?x-=Math.max(f,g)+i:o==="right"&&(x+=Math.max(h,m)+i),{x:ho(x,0,r.width-t.width),y:ho(y,0,r.height-t.height)}}function W1(e,t,n){const r=ml(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function PA(e){return Yl([],ou(e))}function l0e(e,t,n){return Qm(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function AA(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uM={beforeTitle:iu,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:iu,beforeBody:iu,beforeLabel:iu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ws(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:iu,afterBody:iu,beforeFooter:iu,footer:iu,afterFooter:iu};function sa(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?uM[t].call(n,r):i}class cS extends Ev{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new ZI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=l0e(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=sa(r,"beforeTitle",this,t),s=sa(r,"title",this,t),a=sa(r,"afterTitle",this,t);let o=[];return o=Yl(o,ou(i)),o=Yl(o,ou(s)),o=Yl(o,ou(a)),o}getBeforeBody(t,n){return PA(sa(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return tr(t,s=>{const a={before:[],lines:[],after:[]},o=AA(r,s);Yl(a.before,ou(sa(o,"beforeLabel",this,s))),Yl(a.lines,sa(o,"label",this,s)),Yl(a.after,ou(sa(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(t,n){return PA(sa(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=sa(r,"beforeFooter",this,t),s=sa(r,"footer",this,t),a=sa(r,"afterFooter",this,t);let o=[];return o=Yl(o,ou(i)),o=Yl(o,ou(s)),o=Yl(o,ou(a)),o}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],c,u;for(c=0,u=n.length;c<u;++c)o.push(n0e(this.chart,n[c]));return t.filter&&(o=o.filter((f,h,g)=>t.filter(f,h,g,r))),t.itemSort&&(o=o.sort((f,h)=>t.itemSort(f,h,r))),tr(o,f=>{const h=AA(t.callbacks,f);i.push(sa(h,"labelColor",this,f)),s.push(sa(h,"labelPointStyle",this,f)),a.push(sa(h,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Zg[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=CA(this,r),u=Object.assign({},o,c),f=NA(this.chart,r,u),h=jA(r,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:h}=h0(o),{x:g,y:m}=t,{width:x,height:y}=n;let S,_,C,P,A,R;return s==="center"?(A=m+y/2,i==="left"?(S=g,_=S-a,P=A+a,R=A-a):(S=g+x,_=S+a,P=A-a,R=A+a),C=S):(i==="left"?_=g+Math.max(c,f)+a:i==="right"?_=g+x-Math.max(u,h)-a:_=this.caretX,s==="top"?(P=m,A=P-a,S=_-a,C=_+a):(P=m+y,A=P+a,S=_+a,C=_-a),R=P),{x1:S,x2:_,x3:C,y1:P,y2:A,y3:R}}drawTitle(t,n,r){const i=this.title,s=i.length;let a,o,c;if(s){const u=Nm(r.rtl,this.x,this.width);for(t.x=W1(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=ua(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<s;++c)n.fillText(i[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,c+1===s&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=s,f=ua(s.bodyFont),h=W1(this,"left",s),g=i.x(h),m=c<f.lineHeight?(f.lineHeight-c)/2:0,x=n.y+m;if(s.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},S=i.leftForLtr(g,u)+u/2,_=x+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,q8(t,y,S,_),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,q8(t,y,S,_)}else{t.lineWidth=zn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(g,u),S=i.leftForLtr(i.xPlus(g,1),u-2),_=h0(a.borderRadius);Object.values(_).some(C=>C!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,aS(t,{x:y,y:x,w:u,h:c,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),aS(t,{x:S,y:x+1,w:u-2,h:c-2,radius:_}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,x,u,c),t.strokeRect(y,x,u,c),t.fillStyle=a.backgroundColor,t.fillRect(S,x+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:u,boxPadding:f}=r,h=ua(r.bodyFont);let g=h.lineHeight,m=0;const x=Nm(r.rtl,this.x,this.width),y=function(M){n.fillText(M,x.x(t.x+m),t.y+g/2),t.y+=g+s},S=x.textAlign(a);let _,C,P,A,R,D,T;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=W1(this,S,r),n.fillStyle=r.bodyColor,tr(this.beforeBody,y),m=o&&S!=="right"?a==="center"?u/2+f:u+2+f:0,A=0,D=i.length;A<D;++A){for(_=i[A],C=this.labelTextColors[A],n.fillStyle=C,tr(_.before,y),P=_.lines,o&&P.length&&(this._drawColorBox(n,t,A,x,r),g=Math.max(h.lineHeight,c)),R=0,T=P.length;R<T;++R)y(P[R]),g=h.lineHeight;tr(_.after,y)}m=0,g=h.lineHeight,tr(this.afterBody,y),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let a,o;if(s){const c=Nm(r.rtl,this.x,this.width);for(t.x=W1(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=ua(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:c}=t,{width:u,height:f}=r,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:x}=h0(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+h,c),a==="top"&&this.drawCaret(t,n,r,i),n.lineTo(o+u-g,c),n.quadraticCurveTo(o+u,c,o+u,c+g),a==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(o+u,c+f-x),n.quadraticCurveTo(o+u,c+f,o+u-x,c+f),a==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(o+m,c+f),n.quadraticCurveTo(o,c+f,o,c+f-m),a==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(o,c+h),n.quadraticCurveTo(o,c,o+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Zg[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=CA(this,t),c=Object.assign({},a,this._size),u=NA(n,t,c),f=jA(t,c,u,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ml(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),XI(t,n.textDirection),s.y+=a.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),JI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:o,index:c})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[c],index:c}}),s=!gx(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(t,s,n,r),o=this._positionChanged(a,t),c=n||!gx(a,s)||o;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,a=Zg[s.position].call(this,t,n);return a!==!1&&(r!==a.x||i!==a.y)}}yn(cS,"positioners",Zg);var c0e={id:"tooltip",_element:cS,positioners:Zg,afterInit(e,t,n){n&&(e.tooltip=new cS({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const H2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},la=Object.keys(H2);function kA(e,t){return e-t}function EA(e,t){if(ws(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),Nu(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(bx(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function $A(e,t,n,r){const i=la.length;for(let s=la.indexOf(e);s<i-1;++s){const a=H2[la[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=r)return la[s]}return la[i-1]}function u0e(e,t,n,r,i){for(let s=la.length-1;s>=la.indexOf(n);s--){const a=la[s];if(H2[a].common&&e._adapter.diff(i,r,a)>=t-1)return a}return la[n?la.indexOf(n):0]}function d0e(e){for(let t=la.indexOf(e)+1,n=la.length;t<n;++t)if(H2[la[t]].common)return la[t]}function RA(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=R_(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function f0e(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,c;for(o=s;o<=a;o=+i.add(o,1,r))c=n[o],c>=0&&(t[c].major=!0);return t}function TA(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:f0e(e,r,i,n)}class jx extends U2{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new Dme._date(t.adapters.date);i.init(n),u0(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:EA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Nu(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Nu(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=kpe(i,s,a);return this._unit=n.unit||(r.autoSkip?$A(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):u0e(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:d0e(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),TA(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=ho(n,0,a),r=ho(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||$A(s.minUnit,n,r,this._getLabelCapacity(n)),o=nr(i.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=bx(c)||c===!0,f={};let h=n,g,m;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":a),t.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(g=h,m=0;g<r;g=+t.add(g,o,a),m++)RA(f,g,x);return(g===r||i.bounds==="ticks"||m===1)&&RA(f,g,x),Object.keys(f).sort(kA).map(y=>+y)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return Cr(a,[t,n,r],this);const o=s.time.displayFormats,c=this._unit,u=this._majorUnit,f=c&&o[c],h=u&&o[u],g=r[n],m=u&&h&&g&&g.major;return this._adapter.format(t,i||(m?h:f))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=bh(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,TA(this,[t],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(EA(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $pe(t.sort(kA))}}yn(jx,"id","time"),yn(jx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function H1(e,t,n){let r=0,i=e.length-1,s,a,o,c;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=iS(e,"pos",t)),{pos:s,time:o}=e[r],{pos:a,time:c}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=iS(e,"time",t)),{time:s,pos:o}=e[r],{time:a,pos:c}=e[i]);const u=a-s;return u?o+(c-o)*(t-s)/u:o}class LA extends jx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=H1(n,this.min),this._tableRange=H1(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let a,o,c,u,f;for(a=0,o=t.length;a<o;++a)u=t[a],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)f=i[a+1],c=i[a-1],u=i[a],Math.round((f+c)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(H1(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return H1(this._table,r*this._tableRange+this._minPos,!0)}}yn(LA,"id","timeseries"),yn(LA,"defaults",jx.defaults);const dM="label";function DA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function h0e(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function fM(e,t){e.labels=t}function hM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dM;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function p0e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dM;const n={labels:[],datasets:[]};return fM(n,e.labels),hM(n,e.datasets,t),n}function m0e(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:c,plugins:u=[],fallbackContent:f,updateMode:h,...g}=e,m=w.useRef(null),x=w.useRef(null),y=()=>{m.current&&(x.current=new W2(m.current,{type:a,data:p0e(o,s),options:c&&{...c},plugins:u}),DA(t,x.current))},S=()=>{DA(t,null),x.current&&(x.current.destroy(),x.current=null)};return w.useEffect(()=>{!i&&x.current&&c&&h0e(x.current,c)},[i,c]),w.useEffect(()=>{!i&&x.current&&fM(x.current.config.data,o.labels)},[i,o.labels]),w.useEffect(()=>{!i&&x.current&&o.datasets&&hM(x.current.config.data,o.datasets,s)},[i,o.datasets]),w.useEffect(()=>{x.current&&(i?(S(),setTimeout(y)):x.current.update(h))},[i,c,o.labels,o.datasets,h]),w.useEffect(()=>{x.current&&(S(),setTimeout(y))},[a]),w.useEffect(()=>(y(),()=>S()),[]),Re.createElement("canvas",{ref:m,role:"img",height:n,width:r,...g},f)}const g0e=w.forwardRef(m0e);function v0e(e,t){return W2.register(t),w.forwardRef((n,r)=>Re.createElement(g0e,{...n,ref:r,type:e}))}const y0e=v0e("doughnut",Yg);W2.register(Jg,c0e,t0e);const x0e=({data:e,totalUsers:t})=>{const n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"hsl(var(--foreground))",padding:15,font:{size:12}}},tooltip:{enabled:!0,backgroundColor:"hsla(var(--popover), 0.9)",titleColor:"hsl(var(--popover-foreground))",bodyColor:"hsl(var(--popover-foreground))",borderColor:"hsl(var(--border))",borderWidth:1,padding:10,usePointStyle:!0,callbacks:{label:function(r){let i=r.label||"";if(i&&(i+=": "),r.parsed!==null){const s=r.parsed,a=t>0?(s/t*100).toFixed(1):0;i+=`${s} (${a}%)`}return i}}}},cutout:"60%"};return l.jsx(y0e,{data:e,options:n})},ih={labels:["Sin Verificar","En Revisión","Rechazados"],datasets:[{label:"Usuarios",data:[23,12,5],backgroundColor:["hsl(var(--primary) / 0.6)","hsl(var(--secondary) / 0.6)","hsl(var(--destructive) / 0.6)"],borderColor:["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--destructive))"],borderWidth:1}]},Fg=150,b0e=()=>l.jsxs(Bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Estadísticas Generales"}),l.jsx("p",{className:"text-muted-foreground",children:"Visualización de métricas clave de la plataforma."}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:"Total Usuarios"}),l.jsx(C0,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Fg}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"+5 desde ayer"})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:"Usuarios Sin Verificar"}),l.jsx(Lk,{className:"h-4 w-4 text-yellow-500"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:ih.datasets[0].data[0]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ih.datasets[0].data[0]/Fg*100).toFixed(1),"% del total"]})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:"Usuarios En Revisión"}),l.jsx(dV,{className:"h-4 w-4 text-blue-500"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:ih.datasets[0].data[1]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ih.datasets[0].data[1]/Fg*100).toFixed(1),"% del total"]})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium text-muted-foreground",children:"Usuarios Rechazados"}),l.jsx(pV,{className:"h-4 w-4 text-destructive"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:ih.datasets[0].data[2]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ih.datasets[0].data[2]/Fg*100).toFixed(1),"% del total"]})]})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Estado de Verificación de Usuarios"}),l.jsx(pn,{children:"Distribución de usuarios según su estado de verificación."})]}),l.jsxs(ut,{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg",children:l.jsx(x0e,{data:ih,totalUsers:Fg})}),l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>console.log("Ver lista clicked"),children:"Ver Lista Detallada"})]})]}),l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{children:"Ingresos Mensuales (Placeholder)"})}),l.jsx(ut,{children:l.jsx("p",{className:"text-muted-foreground italic",children:"Gráfica de ingresos aquí... (Próximamente)"})})]}),l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{children:"Solicitudes por Tipo (Placeholder)"})}),l.jsx(ut,{children:l.jsx("p",{className:"text-muted-foreground italic",children:"Gráfica de tipos de solicitud aquí... (Próximamente)"})})]})]});var q2="Switch",[w0e,vxe]=Ui(q2),[S0e,_0e]=w0e(q2),pM=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:f,...h}=e,[g,m]=w.useState(null),x=tn(t,P=>m(P)),y=w.useRef(!1),S=g?f||!!g.closest("form"):!0,[_,C]=go({prop:i,defaultProp:s??!1,onChange:u,caller:q2});return l.jsxs(S0e,{scope:n,checked:_,disabled:o,children:[l.jsx(jt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":yM(_),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:x,onClick:rt(e.onClick,P=>{C(A=>!A),S&&(y.current=P.isPropagationStopped(),y.current||P.stopPropagation())})}),S&&l.jsx(vM,{control:g,bubbles:!y.current,name:r,value:c,checked:_,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});pM.displayName=q2;var mM="SwitchThumb",gM=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=_0e(mM,n);return l.jsx(jt.span,{"data-state":yM(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});gM.displayName=mM;var C0e="SwitchBubbleInput",vM=w.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=w.useRef(null),o=tn(a,s),c=gv(n),u=Y0(t);return w.useEffect(()=>{const f=a.current;if(!f)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const x=new Event("click",{bubbles:r});m.call(f,n),f.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vM.displayName=C0e;function yM(e){return e?"checked":"unchecked"}var xM=pM,N0e=gM;const uS=w.forwardRef(({className:e,...t},n)=>l.jsx(xM,{className:Je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(N0e,{className:Je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));uS.displayName=xM.displayName;const j0e=()=>{const{toast:e}=Pn(),[t,n]=Re.useState({notificationsEnabled:!0,defaultAssignee:"admin@opulent.com",maintenanceMode:!1}),r=a=>{const{id:o,value:c}=a.target;n(u=>({...u,[o]:c}))},i=(a,o)=>{n(c=>({...c,[a]:o}))},s=a=>{a.preventDefault(),e({title:"Configuración Guardada",description:"Los ajustes generales han sido actualizados."})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuración General"}),l.jsx("p",{className:"text-muted-foreground",children:"Ajusta las configuraciones globales de la plataforma."}),l.jsxs(ct,{className:"bg-card border-border shadow-lg",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Ajustes Principales"}),l.jsx(pn,{children:"Controla el comportamiento general del sistema."})]}),l.jsx(ut,{children:l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between space-x-2 p-4 border border-border rounded-lg",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"notificationsEnabled",className:"text-base",children:"Habilitar Notificaciones"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Activa o desactiva las notificaciones por email/push."})]}),l.jsx(uS,{id:"notificationsEnabled",checked:t.notificationsEnabled,onCheckedChange:a=>i("notificationsEnabled",a)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"defaultAssignee",children:"Email Asignado por Defecto"}),l.jsx(Ot,{id:"defaultAssignee",type:"email",placeholder:"Email para nuevas tareas no asignadas",value:t.defaultAssignee,onChange:r}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Las nuevas solicitudes o tareas se asignarán a este email si no se especifica otro."})]}),l.jsxs("div",{className:"flex items-center justify-between space-x-2 p-4 border border-border rounded-lg bg-secondary/50",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"maintenanceMode",className:"text-base",children:"Modo Mantenimiento"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Desactiva temporalmente el acceso de clientes a la plataforma."})]}),l.jsx(uS,{id:"maintenanceMode",checked:t.maintenanceMode,onCheckedChange:a=>i("maintenanceMode",a),className:"data-[state=checked]:bg-destructive"})]}),l.jsx("div",{className:"flex justify-end pt-4 border-t border-border",children:l.jsx(Ue,{type:"submit",children:"Guardar Cambios"})})]})})]}),l.jsxs(ct,{className:"bg-card border-border shadow-lg opacity-50",children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Integraciones (Próximamente)"}),l.jsx(pn,{children:"Conecta con Stripe, APIs de VIN Check, etc."})]}),l.jsx(ut,{children:l.jsx("p",{className:"text-muted-foreground italic",children:"Configuración de integraciones externas estará disponible aquí."})})]})]})},hm={CLIENTS:"opulent_clients",ADMIN_DEPOSITS:"opulent_admin_deposits"},Px=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error getting local data:",t),null}},P0e=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.error("Error setting local data:",n),!1}},dS=(e,t,n)=>{const i=(Px(e)||[]).map(s=>s.id===t?n(s):s);return P0e(e,i)},A0e=({clients:e,deposits:t})=>l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Total Clientes"}),l.jsx(C0,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes registrados"})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Poder de Compra Total"}),l.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ut,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["$",e.reduce((n,r)=>n+(r.buying_power||0),0).toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Asignado a clientes"})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Depósitos Pendientes"}),l.jsx(Wr,{className:"h-4 w-4 text-yellow-500"})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.filter(n=>n.status==="pending").length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren confirmación"})]})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Ingresos del Mes"}),l.jsx(Vk,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(ut,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:["$",t.filter(n=>n.status==="confirmed"&&new Date(n.created_at).getMonth()===new Date().getMonth()).reduce((n,r)=>n+r.amount,0).toLocaleString()]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Depósitos confirmados"})]})]})]}),k0e=({clients:e,searchTerm:t,setSearchTerm:n,onEditClient:r})=>{const i=a=>{switch(a){case"verified":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(vn,{className:"w-3 h-3 mr-1"}),"Verificado"]});case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Pendiente"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Rechazado"]});default:return l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Sin verificar"})}},s=e.filter(a=>{var o,c;return((o=a.full_name)==null?void 0:o.toLowerCase().includes(t.toLowerCase()))||((c=a.email)==null?void 0:c.toLowerCase().includes(t.toLowerCase()))});return l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx(Ct,{children:"Gestión de Poder de Compra"}),l.jsx(pn,{children:"Asigna y modifica el poder de compra de los clientes"})]})}),l.jsx("div",{className:"flex gap-4 pt-2",children:l.jsx(Ot,{placeholder:"Buscar cliente...",value:t,onChange:a=>n(a.target.value),className:"max-w-sm"})})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Email"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Poder de Compra"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:s.map(a=>l.jsxs(mn,{children:[l.jsx(ot,{className:"font-medium",children:a.full_name}),l.jsx(ot,{children:a.email}),l.jsx(ot,{children:i(a.verification_status)}),l.jsx(ot,{children:l.jsxs("span",{className:"font-semibold text-green-600",children:["$",(a.buying_power||0).toLocaleString()]})}),l.jsx(ot,{className:"text-right",children:l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>r(a),children:[l.jsx(TS,{className:"w-4 h-4 mr-2"}),"Modificar"]})})]},a.id))})]})})]})},E0e=()=>{const{toast:e}=Pn(),[t,n]=w.useState([]),[r,i]=w.useState([]),[s,a]=w.useState(!0),[o,c]=w.useState(!1),[u,f]=w.useState(null),[h,g]=w.useState(""),[m,x]=w.useState("");w.useEffect(()=>{y()},[]);const y=()=>{const P=Px(hm.CLIENTS)||[],A=Px(hm.ADMIN_DEPOSITS)||[];n(P),i(A),a(!1)},S=()=>{!u||!h||(dS(hm.CLIENTS,u.id,P=>({...P,buying_power:parseFloat(h)})),n(P=>P.map(A=>A.id===u.id?{...A,buying_power:parseFloat(h)}:A)),e({title:"Poder de Compra Asignado (Demo)",description:`Se asignaron $${h} a ${u.full_name}`}),c(!1),g(""),f(null))},_=(P,A)=>{dS(hm.ADMIN_DEPOSITS,P,R=>({...R,status:A})),i(R=>R.map(D=>D.id===P?{...D,status:A}:D)),e({title:"Estado Actualizado (Demo)",description:`Depósito marcado como ${A}`})},C=P=>{var A;f(P),g(((A=P.buying_power)==null?void 0:A.toString())||""),c(!0)};return s?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Cargando datos financieros..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión Financiera"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra el poder de compra de los clientes y supervisa depósitos."})]})}),l.jsx(A0e,{clients:t,deposits:r}),l.jsxs(I2,{defaultValue:"buying-power",className:"space-y-4",children:[l.jsxs(jv,{children:[l.jsx(Fh,{value:"buying-power",children:"Poder de Compra"}),l.jsx(Fh,{value:"deposits",children:"Depósitos"})]}),l.jsx(sl,{value:"buying-power",className:"space-y-4",children:l.jsx(k0e,{clients:t,searchTerm:m,setSearchTerm:x,onEditClient:C})}),l.jsx(sl,{value:"deposits",className:"space-y-4",children:l.jsx(whe,{deposits:r,onStatusChange:_})})]}),l.jsx(vl,{open:o,onOpenChange:c,children:l.jsxs(bo,{children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Asignar Poder de Compra"}),l.jsxs(_o,{children:["Modifica el poder de compra para ",u==null?void 0:u.full_name]})]}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"amount",className:"text-right",children:"Monto (USD)"}),l.jsx(Ot,{id:"amount",type:"number",value:h,onChange:P=>g(P.target.value),placeholder:"0",className:"col-span-3"})]})}),l.jsxs(Jh,{children:[l.jsx(Ue,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),l.jsx(Ue,{onClick:S,children:"Asignar"})]})]})})]})},$0e=({clients:e})=>{const n={total:e.length,pending:e.filter(r=>r.verification_status==="pending").length,verified:e.filter(r=>r.verification_status==="verified").length,rejected:e.filter(r=>r.verification_status==="rejected").length,not_verified:e.filter(r=>r.verification_status==="not_verified"||!r.verification_status).length};return l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Total Clientes"}),l.jsx(_0,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(ut,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.total})})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Pendientes"}),l.jsx(si,{className:"h-4 w-4 text-yellow-500"})]}),l.jsx(ut,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.pending})})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Verificados"}),l.jsx(vn,{className:"h-4 w-4 text-green-400"})]}),l.jsx(ut,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.verified})})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Rechazados"}),l.jsx(Qi,{className:"h-4 w-4 text-red-500"})]}),l.jsx(ut,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.rejected})})]}),l.jsxs(ct,{children:[l.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ct,{className:"text-sm font-medium",children:"Sin Verificar"}),l.jsx(Ni,{className:"h-4 w-4 text-gray-500"})]}),l.jsx(ut,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.not_verified})})]})]})},R0e=({clients:e,searchTerm:t,setSearchTerm:n,statusFilter:r,setStatusFilter:i,onReviewClient:s})=>{const a=c=>{switch(c){case"verified":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-900 text-green-300",children:[l.jsx(vn,{className:"w-3 h-3 mr-1"}),"Verificado"]});case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-800 text-yellow-300",children:[l.jsx(si,{className:"w-3 h-3 mr-1"}),"Pendiente"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-900 text-red-300",children:[l.jsx(Qi,{className:"w-3 h-3 mr-1"}),"Rechazado"]});default:return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300",children:[l.jsx(Ni,{className:"w-3 h-3 mr-1"}),"Sin verificar"]})}},o=e.filter(c=>{var h,g;const u=((h=c.full_name)==null?void 0:h.toLowerCase().includes(t.toLowerCase()))||((g=c.email)==null?void 0:g.toLowerCase().includes(t.toLowerCase())),f=r==="all"||c.verification_status===r;return u&&f});return l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Lista de Clientes"}),l.jsx(pn,{children:"Revisa y actualiza el estado de verificación de los clientes"}),l.jsxs("div",{className:"flex gap-4 pt-2",children:[l.jsx(Ot,{placeholder:"Buscar cliente...",value:t,onChange:c=>n(c.target.value),className:"max-w-sm"}),l.jsxs(Pr,{value:r,onValueChange:i,children:[l.jsx(dr,{className:"w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos"}),l.jsx(nt,{value:"pending",children:"Pendientes"}),l.jsx(nt,{value:"verified",children:"Verificados"}),l.jsx(nt,{value:"rejected",children:"Rechazados"}),l.jsx(nt,{value:"not_verified",children:"Sin verificar"})]})]})]})]}),l.jsx(ut,{children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Cliente"}),l.jsx(wt,{children:"Email"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Fecha Envío"}),l.jsx(wt,{children:"Poder de Compra"}),l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:o.map(c=>l.jsxs(mn,{children:[l.jsx(ot,{className:"font-medium",children:c.full_name}),l.jsx(ot,{children:c.email}),l.jsx(ot,{children:a(c.verification_status)}),l.jsx(ot,{children:c.verification_submitted_at?new Date(c.verification_submitted_at).toLocaleDateString("es-ES"):"No enviado"}),l.jsx(ot,{children:l.jsxs("span",{className:`font-semibold ${c.buying_power>0?"text-green-600":"text-gray-500"}`,children:["$",(c.buying_power||0).toLocaleString()]})}),l.jsx(ot,{className:"text-right",children:l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>s(c),disabled:!c.verification_document_path&&c.verification_status!=="verified"&&c.verification_status!=="rejected",children:[l.jsx(mo,{className:"w-4 h-4 mr-2"}),c.verification_status==="pending"?"Revisar":"Ver Detalles"]})})]},c.id))})]})})]})},T0e=()=>{const{toast:e}=Pn(),[t,n]=w.useState([]),[r,i]=w.useState(!0),[s,a]=w.useState(null),[o,c]=w.useState(!1),[u,f]=w.useState(""),[h,g]=w.useState(""),[m,x]=w.useState(""),[y,S]=w.useState("all"),_=[{id:"demo-1",full_name:"Juan Cliente",email:"juan@email.com",verification_status:"pending",verification_submitted_at:new Date().toISOString(),verification_document_path:"demo-document.pdf",verification_notes:null,buying_power:0},{id:"demo-2",full_name:"Ana Gómez",email:"ana@email.com",verification_status:"verified",verification_submitted_at:new Date(Date.now()-864e5).toISOString(),verification_document_path:"demo-document-2.pdf",verification_notes:"Documentos correctos, verificación aprobada.",verification_reviewed_at:new Date(Date.now()-432e5).toISOString(),buying_power:12e3},{id:"demo-3",full_name:"Carlos Ruiz",email:"carlos@email.com",verification_status:"rejected",verification_submitted_at:new Date(Date.now()-1728e5).toISOString(),verification_document_path:"demo-document-3.pdf",verification_notes:"Documento ilegible, solicitar nueva carga.",verification_reviewed_at:new Date(Date.now()-864e5).toISOString(),buying_power:0},{id:"demo-4",full_name:"María López",email:"maria@email.com",verification_status:"not_verified",verification_submitted_at:null,verification_document_path:null,verification_notes:null,buying_power:0}];w.useEffect(()=>{C()},[]);const C=()=>{const T=Px(hm.CLIENTS)||_;n(T),i(!1)},P=()=>{!s||!h||(dS(hm.CLIENTS,s.id,T=>({...T,verification_status:h,verification_notes:u,verification_reviewed_at:new Date().toISOString()})),n(T=>T.map(M=>M.id===s.id?{...M,verification_status:h,verification_notes:u,verification_reviewed_at:new Date().toISOString()}:M)),e({title:"Verificación Actualizada (Demo)",description:`Cliente ${h==="verified"?"verificado":"rechazado"} exitosamente.`}),c(!1),A())},A=()=>{a(null),f(""),g("")},R=T=>{a(T),f(T.verification_notes||""),g(T.verification_status==="pending"?"":T.verification_status),c(!0)},D=T=>{switch(T){case"verified":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(vn,{className:"w-3 h-3 mr-1"}),"Verificado"]});case"pending":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(si,{className:"w-3 h-3 mr-1"}),"Pendiente"]});case"rejected":return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[l.jsx(Qi,{className:"w-3 h-3 mr-1"}),"Rechazado"]});default:return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[l.jsx(Ni,{className:"w-3 h-3 mr-1"}),"Sin verificar"]})}};return r?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Cargando verificaciones..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Verificación de Clientes"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona el estado de verificación de los clientes."})]})}),l.jsx($0e,{clients:t}),l.jsx(R0e,{clients:t,searchTerm:m,setSearchTerm:x,statusFilter:y,setStatusFilter:S,onReviewClient:R}),l.jsx(vl,{open:o,onOpenChange:c,children:l.jsxs(bo,{className:"max-w-2xl",children:[l.jsxs(wo,{children:[l.jsxs(So,{children:["Revisar Verificación - ",s==null?void 0:s.full_name]}),l.jsx(_o,{children:"Revisa los documentos y actualiza el estado de verificación del cliente."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{className:"text-right",children:"Cliente:"}),l.jsx("div",{className:"col-span-3 font-medium",children:s==null?void 0:s.full_name})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{className:"text-right",children:"Email:"}),l.jsx("div",{className:"col-span-3",children:s==null?void 0:s.email})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{className:"text-right",children:"Estado Actual:"}),l.jsx("div",{className:"col-span-3",children:s&&D(s.verification_status)})]}),(s==null?void 0:s.verification_document_path)&&l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{className:"text-right",children:"Documento:"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(Ue,{variant:"outline",size:"sm",children:[l.jsx(mo,{className:"w-4 h-4 mr-2"}),"Ver Documento"]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"decision",className:"text-right",children:"Decisión:"}),l.jsxs(Pr,{value:h,onValueChange:g,children:[l.jsx(dr,{className:"col-span-3",children:l.jsx(Ar,{placeholder:"Selecciona una decisión"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"verified",children:"Verificar Cliente"}),l.jsx(nt,{value:"rejected",children:"Rechazar Verificación"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(ht,{htmlFor:"notes",className:"text-right",children:"Notas:"}),l.jsx(_u,{id:"notes",value:u,onChange:T=>f(T.target.value),placeholder:"Agrega comentarios sobre la verificación...",className:"col-span-3",rows:3})]})]}),l.jsxs(Jh,{children:[l.jsx(Ue,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),l.jsx(Ue,{onClick:P,disabled:!h,children:"Guardar Decisión"})]})]})})]})},L0e={new_auction_bid:"Subastas",outbid:"Subastas",auction_won:"Subastas",auction_lost:"Subastas",auction_status_update:"Subastas",payment_required:"Pagos",pending_payment:"Pagos",new_inspection:"Inspecciones",inspection_status_update:"Inspecciones",new_user:"General",document_missing:"Alertas"},Qw=e=>e&&L0e[e]||"General",OA=e=>{if(!e)return"";const t=e.metadata||{};let n=e.message;if(e.type==="new_auction_bid"&&t.lot_number){const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.amount||0);n=`Nueva puja de ${t.user_name||"un usuario"} por ${r} en el lote #${t.lot_number}.`}return n},D0e=({notification:e})=>{var r;const t=(r=e.metadata)==null?void 0:r.icon,n={gavel:{Cmp:jm,color:"text-gray-500"},megaphone:{Cmp:w0,color:"text-orange-500"},trophy:{Cmp:S0,color:"text-yellow-500"},circle_slash:{Cmp:b0,color:"text-red-600"},check_circle:{Cmp:vn,color:"text-green-500"},clock:{Cmp:si,color:"text-blue-500"},dollar_sign:{Cmp:Au,color:"text-yellow-600"},package:{Cmp:Ix,color:"text-gray-600"},alert:{Cmp:Ni,color:"text-red-500"},info:{Cmp:sc,color:"text-blue-400"},x_circle:{Cmp:Qi,color:"text-red-500"}};if(t&&n[t]){const{Cmp:i,color:s}=n[t];return l.jsx(i,{className:`w-6 h-6 ${s}`})}return l.jsx(uc,{className:"w-6 h-6 text-muted-foreground"})},O0e=()=>{const{toast:e}=Pn(),t=qn.useSupabaseClient(),[n,r]=w.useState([]),[i,s]=w.useState(!0),[a,o]=w.useState(""),[c,u]=w.useState("all"),[f,h]=w.useState("all"),[g,m]=w.useState(1),x=20,y=w.useCallback(async()=>{s(!0);const{data:T,error:M}=await t.from("notifications").select("*").order("created_at",{ascending:!1});M?(e({title:"Error",description:"No se pudieron cargar las notificaciones.",variant:"destructive"}),console.error(M)):r(T||[]),s(!1)},[t,e]);w.useEffect(()=>{y()},[y]);const S=w.useMemo(()=>{const T=new Set(n.map(M=>Qw(M.type)));return Array.from(T).sort()},[n]),_=w.useMemo(()=>n.filter(T=>{const M=Qw(T.type),U=c==="all"||M===c,ee=f==="all"||f==="read"&&T.is_read||f==="unread"&&!T.is_read,F=a===""||OA(T).toLowerCase().includes(a.toLowerCase());return U&&ee&&F}),[n,a,c,f]);w.useEffect(()=>{m(1)},[a,c,f]);const C=Math.ceil(_.length/x),P=w.useMemo(()=>{const T=(g-1)*x;return _.slice(T,T+x)},[_,g]),A=async(T,M)=>{const{error:U}=await t.from("notifications").update({is_read:M}).eq("id",T);U?e({title:"Error",description:"No se pudo actualizar la notificación.",variant:"destructive"}):r(ee=>ee.map(F=>F.id===T?{...F,is_read:M}:F))},R=async T=>{const{error:M}=await t.from("notifications").delete().eq("id",T);M?e({title:"Error",description:"No se pudo eliminar la notificación.",variant:"destructive"}):(r(U=>U.filter(ee=>ee.id!==T)),e({title:"Éxito",description:"Notificación eliminada."}))},D=T=>new Date(T).toLocaleString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(jn,{className:"h-8 w-8 animate-spin"})}):l.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Panel de Notificaciones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona todas las notificaciones del sistema."})]})}),l.jsx(ct,{className:"bg-card/50 border-border/50 shadow-sm",children:l.jsx(ut,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(G0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),l.jsx(Ot,{placeholder:"Buscar...",value:a,onChange:T=>o(T.target.value),className:"pl-10"})]}),l.jsxs(Pr,{value:c,onValueChange:u,children:[l.jsx(dr,{children:l.jsx(Ar,{placeholder:"Categoría"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todas las categorías"}),S.map(T=>l.jsx(nt,{value:T,children:T},T))]})]}),l.jsxs(Pr,{value:f,onValueChange:h,children:[l.jsx(dr,{children:l.jsx(Ar,{placeholder:"Estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todas"}),l.jsx(nt,{value:"unread",children:"No leídas"}),l.jsx(nt,{value:"read",children:"Leídas"})]})]})]})})}),l.jsx("div",{className:"space-y-3",children:l.jsx(Vi,{children:P.length>0?P.map(T=>l.jsx(Bt.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},children:l.jsx(ct,{className:`transition-all duration-300 ${T.is_read?"bg-card/60":"bg-primary/5 border-primary/20"}`,children:l.jsxs(ut,{className:"p-4 flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(D0e,{notification:T})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx(vv,{variant:T.is_read?"secondary":"default",children:Qw(T.type)}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ue,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>A(T.id,!T.is_read),children:T.is_read?"Marcar no leída":"Marcar leída"}),l.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>R(T.id),children:l.jsx(LS,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:`text-sm ${T.is_read?"text-muted-foreground":"font-semibold"}`,children:OA(T)}),l.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[l.jsx(si,{className:"w-3 h-3 mr-1.5"}),D(T.created_at)]})]})]})})},T.id)):l.jsx(Bt.div,{initial:{opacity:0},animate:{opacity:1},children:l.jsx(ct,{className:"border-dashed",children:l.jsxs(ut,{className:"p-12 text-center",children:[l.jsx(uc,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Todo en orden"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:n.length>0?"No hay notificaciones que coincidan con tus filtros.":"No hay notificaciones en el sistema."})]})})})})}),C>1&&l.jsxs("div",{className:"flex items-center justify-center space-x-4 pt-4",children:[l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>m(T=>Math.max(T-1,1)),disabled:g===1,children:[l.jsx(RS,{className:"h-4 w-4 mr-1"}),"Anterior"]}),l.jsxs("span",{className:"text-sm font-medium",children:["Página ",g," de ",C]}),l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>m(T=>Math.min(T+1,C)),disabled:g===C,children:["Siguiente",l.jsx(Lx,{className:"h-4 w-4 ml-1"})]})]})]})},I0e=({onEdit:e})=>[{accessorKey:"stock_number",header:"Stock #",cell:({row:t})=>{var r;const n=t.original;return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:n.stock_number}),l.jsx("span",{className:"text-xs text-muted-foreground",children:((r=n.location_details)==null?void 0:r.name)||"N/A"})]})}},{accessorKey:"user_full_name",header:"Usuario",cell:({row:t})=>{const n=t.original;return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:n.user_full_name||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:n.user_email})]})}},{accessorKey:"inspection_date",header:({column:t})=>l.jsxs(Ue,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Fecha Inspección",l.jsx(wy,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{const n=t.getValue("inspection_date");return n?l.jsx("div",{className:"text-center",children:Hr(new Date(n.replace(/-/g,"/")),"PP",{locale:Fa})}):l.jsx("div",{className:"text-center text-muted-foreground",children:"—"})}},{accessorKey:"status",header:"Estado",cell:({row:t})=>{const n=t.getValue("status");return l.jsx(uf,{status:n})}},{accessorKey:"completed_at",header:({column:t})=>l.jsxs(Ue,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Completada",l.jsx(wy,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>{const n=t.getValue("completed_at");return n?l.jsx("div",{className:"text-center",children:Hr(new Date(n),"PP",{locale:Fa})}):l.jsx("div",{className:"text-center text-muted-foreground",children:"—"})}},{id:"actions",cell:({row:t})=>{const n=t.original;return l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsxs(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Abrir menú"}),l.jsx(gc,{className:"h-4 w-4"})]})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsx(ur,{onClick:()=>e(n),children:"Ver / Editar Detalles"})]})]})}}];/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function zd(e,t){return typeof e=="function"?e(t):e}function Ua(e,t){return n=>{t.setState(r=>({...r,[e]:zd(n,r[e])}))}}function G2(e){return e instanceof Function}function M0e(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function F0e(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const a=t(s);a!=null&&a.length&&r(a)})};return r(e),n}function Yt(e,t,n){let r=[],i;return s=>{let a;n.key&&n.debug&&(a=Date.now());const o=e(s);if(!(o.length!==r.length||o.some((f,h)=>r[h]!==f)))return i;r=o;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-a)*100)/100,h=Math.round((Date.now()-u)*100)/100,g=h/16,m=(x,y)=>{for(x=String(x);x.length<y;)x=" "+x;return x};console.info(`%c⏱ ${m(h,5)} /${m(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Xt(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function B0e(e,t,n,r){const i=()=>{var a;return(a=s.getValue())!=null?a:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Yt(()=>[e,n,t,s],(a,o,c,u)=>({table:a,column:o,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Xt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(s,n,t,e)},{}),s}function V0e(e,t,n,r){var i,s;const o={...e._getDefaultColumnDef(),...t},c=o.accessorKey;let u=(i=(s=o.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof o.header=="string"?o.header:void 0,f;if(o.accessorFn?f=o.accessorFn:c&&(c.includes(".")?f=g=>{let m=g;for(const y of c.split(".")){var x;m=(x=m)==null?void 0:x[y]}return m}:f=g=>g[o.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:o,columns:[],getFlatColumns:Yt(()=>[!0],()=>{var g;return[h,...(g=h.columns)==null?void 0:g.flatMap(m=>m.getFlatColumns())]},Xt(e.options,"debugColumns")),getLeafColumns:Yt(()=>[e._getOrderColumnsFn()],g=>{var m;if((m=h.columns)!=null&&m.length){let x=h.columns.flatMap(y=>y.getLeafColumns());return g(x)}return[h]},Xt(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(h,e);return h}const vs="debugHeaders";function IA(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],o=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(o),a.push(c)};return o(s),a},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(s,e)}),s}const z0e={createTable:e=>{e.getHeaderGroups=Yt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,a;const o=(s=r==null?void 0:r.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?s:[],c=(a=i==null?void 0:i.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?a:[],u=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(i!=null&&i.includes(h.id)));return q1(t,[...o,...u,...c],e)},Xt(e.options,vs)),e.getCenterHeaderGroups=Yt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),q1(t,n,e,"center")),Xt(e.options,vs)),e.getLeftHeaderGroups=Yt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(a=>n.find(o=>o.id===a)).filter(Boolean))!=null?i:[];return q1(t,s,e,"left")},Xt(e.options,vs)),e.getRightHeaderGroups=Yt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r==null?void 0:r.map(a=>n.find(o=>o.id===a)).filter(Boolean))!=null?i:[];return q1(t,s,e,"right")},Xt(e.options,vs)),e.getFooterGroups=Yt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Xt(e.options,vs)),e.getLeftFooterGroups=Yt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Xt(e.options,vs)),e.getCenterFooterGroups=Yt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Xt(e.options,vs)),e.getRightFooterGroups=Yt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Xt(e.options,vs)),e.getFlatHeaders=Yt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Xt(e.options,vs)),e.getLeftFlatHeaders=Yt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Xt(e.options,vs)),e.getCenterFlatHeaders=Yt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Xt(e.options,vs)),e.getRightFlatHeaders=Yt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Xt(e.options,vs)),e.getCenterLeafHeaders=Yt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Xt(e.options,vs)),e.getLeftLeafHeaders=Yt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Xt(e.options,vs)),e.getRightLeafHeaders=Yt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Xt(e.options,vs)),e.getLeafHeaders=Yt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,a,o,c,u;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(a=(o=n[0])==null?void 0:o.headers)!=null?a:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(f=>f.getLeafHeaders()).flat()},Xt(e.options,vs))}};function q1(e,t,n,r){var i,s;let a=0;const o=function(g,m){m===void 0&&(m=1),a=Math.max(a,m),g.filter(x=>x.getIsVisible()).forEach(x=>{var y;(y=x.columns)!=null&&y.length&&o(x.columns,m+1)},0)};o(e);let c=[];const u=(g,m)=>{const x={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},y=[];g.forEach(S=>{const _=[...y].reverse()[0],C=S.column.depth===x.depth;let P,A=!1;if(C&&S.column.parent?P=S.column.parent:(P=S.column,A=!0),_&&(_==null?void 0:_.column)===P)_.subHeaders.push(S);else{const R=IA(n,P,{id:[r,m,P.id,S==null?void 0:S.id].filter(Boolean).join("_"),isPlaceholder:A,placeholderId:A?`${y.filter(D=>D.column===P).length}`:void 0,depth:m,index:y.length});R.subHeaders.push(S),y.push(R)}x.headers.push(S),S.headerGroup=x}),c.push(x),m>0&&u(y,m-1)},f=t.map((g,m)=>IA(n,g,{depth:a,index:m}));u(f,a-1),c.reverse();const h=g=>g.filter(x=>x.column.getIsVisible()).map(x=>{let y=0,S=0,_=[0];x.subHeaders&&x.subHeaders.length?(_=[],h(x.subHeaders).forEach(P=>{let{colSpan:A,rowSpan:R}=P;y+=A,_.push(R)})):y=1;const C=Math.min(..._);return S=S+C,x.colSpan=y,x.rowSpan=S,{colSpan:y,rowSpan:S}});return h((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const z_=(e,t,n,r,i,s,a)=>{let o={id:t,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(o._valuesCache.hasOwnProperty(c))return o._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return o._valuesCache[c]=u.accessorFn(o.original,r),o._valuesCache[c]},getUniqueValues:c=>{if(o._uniqueValuesCache.hasOwnProperty(c))return o._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[c]=u.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[c]):(o._uniqueValuesCache[c]=[o.getValue(c)],o._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=o.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>F0e(o.subRows,c=>c.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let c=[],u=o;for(;;){const f=u.getParentRow();if(!f)break;c.push(f),u=f}return c.reverse()},getAllCells:Yt(()=>[e.getAllLeafColumns()],c=>c.map(u=>B0e(e,o,u,u.id)),Xt(e.options,"debugRows")),_getAllCellsByColumnId:Yt(()=>[o.getAllCells()],c=>c.reduce((u,f)=>(u[f.column.id]=f,u),{}),Xt(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(o,e)}return o},U0e={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},bM=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};bM.autoRemove=e=>ul(e);const wM=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};wM.autoRemove=e=>ul(e);const SM=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};SM.autoRemove=e=>ul(e);const _M=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};_M.autoRemove=e=>ul(e);const CM=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});CM.autoRemove=e=>ul(e)||!(e!=null&&e.length);const NM=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});NM.autoRemove=e=>ul(e)||!(e!=null&&e.length);const jM=(e,t,n)=>e.getValue(t)===n;jM.autoRemove=e=>ul(e);const PM=(e,t,n)=>e.getValue(t)==n;PM.autoRemove=e=>ul(e);const U_=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};U_.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(i)?1/0:i;if(s>a){const o=s;s=a,a=o}return[s,a]};U_.autoRemove=e=>ul(e)||ul(e[0])&&ul(e[1]);const cu={includesString:bM,includesStringSensitive:wM,equalsString:SM,arrIncludes:_M,arrIncludesAll:CM,arrIncludesSome:NM,equals:jM,weakEquals:PM,inNumberRange:U_};function ul(e){return e==null||e===""}const W0e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ua("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?cu.includesString:typeof r=="number"?cu.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?cu.equals:Array.isArray(r)?cu.arrIncludes:cu.weakEquals},e.getFilterFn=()=>{var n,r;return G2(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:cu[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r==null?void 0:r.find(f=>f.id===e.id),a=zd(n,s?s.value:void 0);if(MA(i,a,e)){var o;return(o=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?o:[]}const c={id:e.id,value:a};if(s){var u;return(u=r==null?void 0:r.map(f=>f.id===e.id?c:f))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=zd(t,i))==null?void 0:s.filter(a=>{const o=n.find(c=>c.id===a.id);if(o){const c=o.getFilterFn();if(MA(c,a.value,o))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function MA(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const H0e=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),q0e=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},G0e=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},K0e=(e,t,n)=>{let r,i;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}),[r,i]},Y0e=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},X0e=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!M0e(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,a)=>s-a);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},J0e=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Z0e=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Q0e=(e,t)=>t.length,e5={sum:H0e,min:q0e,max:G0e,extent:K0e,mean:Y0e,median:X0e,unique:J0e,uniqueCount:Z0e,count:Q0e},eve={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ua("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return e5.sum;if(Object.prototype.toString.call(r)==="[object Date]")return e5.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return G2(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:e5[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function tve(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(a=>a.id===s)).filter(Boolean),...r]}const nve={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ua("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Yt(n=>[m0(t,n)],n=>n.findIndex(r=>r.id===e.id),Xt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=m0(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=m0(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Yt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const a=[...t],o=[...i];for(;o.length&&a.length;){const c=a.shift(),u=o.findIndex(f=>f.id===c);u>-1&&s.push(o.splice(u,1)[0])}s=[...s,...o]}return tve(s,n,r)},Xt(e.options,"debugTable"))}},t5=()=>({left:[],right:[]}),rve={getInitialState:e=>({columnPinning:t5(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ua("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,a;if(n==="right"){var o,c;return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var u,f;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((f=i==null?void 0:i.right)!=null?f:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(h=>!(r!=null&&r.includes(h))),right:((a=i==null?void 0:i.right)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,a;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(o=>o.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(o=>r==null?void 0:r.includes(o)),a=n.some(o=>i==null?void 0:i.includes(o));return s?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Yt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(a=>!s.includes(a.column.id))},Xt(t.options,"debugRows")),e.getLeftVisibleCells=Yt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Xt(t.options,"debugRows")),e.getRightVisibleCells=Yt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Xt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?t5():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:t5())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Yt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Xt(e.options,"debugColumns")),e.getRightLeafColumns=Yt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Xt(e.options,"debugColumns")),e.getCenterLeafColumns=Yt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},Xt(e.options,"debugColumns"))}};function ive(e){return e||(typeof document<"u"?document:null)}const G1={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},n5=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),sve={getDefaultColumnDef:()=>G1,getInitialState:e=>({columnSizing:{},columnSizingInfo:n5(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ua("columnSizing",e),onColumnSizingInfoChange:Ua("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:G1.minSize,(r=s??e.columnDef.size)!=null?r:G1.size),(i=e.columnDef.maxSize)!=null?i:G1.maxSize)},e.getStart=Yt(n=>[n,m0(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Xt(t.options,"debugColumns")),e.getAfter=Yt(n=>[n,m0(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Xt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),r5(s)&&s.touches&&s.touches.length>1))return;const a=e.getSize(),o=e?e.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[r.id,r.getSize()]],c=r5(s)?Math.round(s.touches[0].clientX):s.clientX,u={},f=(_,C)=>{typeof C=="number"&&(t.setColumnSizingInfo(P=>{var A,R;const D=t.options.columnResizeDirection==="rtl"?-1:1,T=(C-((A=P==null?void 0:P.startOffset)!=null?A:0))*D,M=Math.max(T/((R=P==null?void 0:P.startSize)!=null?R:0),-.999999);return P.columnSizingStart.forEach(U=>{let[ee,F]=U;u[ee]=Math.round(Math.max(F+F*M,0)*100)/100}),{...P,deltaOffset:T,deltaPercentage:M}}),(t.options.columnResizeMode==="onChange"||_==="end")&&t.setColumnSizing(P=>({...P,...u})))},h=_=>f("move",_),g=_=>{f("end",_),t.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=ive(n),x={moveHandler:_=>h(_.clientX),upHandler:_=>{m==null||m.removeEventListener("mousemove",x.moveHandler),m==null||m.removeEventListener("mouseup",x.upHandler),g(_.clientX)}},y={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),h(_.touches[0].clientX),!1),upHandler:_=>{var C;m==null||m.removeEventListener("touchmove",y.moveHandler),m==null||m.removeEventListener("touchend",y.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),g((C=_.touches[0])==null?void 0:C.clientX)}},S=ave()?{passive:!1}:!1;r5(s)?(m==null||m.addEventListener("touchmove",y.moveHandler,S),m==null||m.addEventListener("touchend",y.upHandler,S)):(m==null||m.addEventListener("mousemove",x.moveHandler,S),m==null||m.addEventListener("mouseup",x.upHandler,S)),t.setColumnSizingInfo(_=>({..._,startOffset:c,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?n5():(n=e.initialState.columnSizingInfo)!=null?n:n5())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let K1=null;function ave(){if(typeof K1=="boolean")return K1;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return K1=e,K1}function r5(e){return e.type==="touchstart"}const ove={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ua("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Yt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Xt(t.options,"debugRows")),e.getVisibleCells=Yt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Xt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Yt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Xt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function m0(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const lve={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},cve={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ua("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>cu.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return G2(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:cu[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},uve={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ua("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const a=s.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(o=>{a[o]=!0}):a=r,n=(i=n)!=null?i:!s,!s&&n)return{...a,[e.id]:!0};if(s&&!n){const{[e.id]:o,...c}=a;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},fS=0,hS=10,i5=()=>({pageIndex:fS,pageSize:hS}),dve={getInitialState:e=>({...e,pagination:{...i5(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ua("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>zd(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?i5():(i=e.initialState.pagination)!=null?i:i5())},e.setPageIndex=r=>{e.setPagination(i=>{let s=zd(r,i.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?fS:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:fS)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?hS:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:hS)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,zd(r,i.pageSize)),a=i.pageSize*i.pageIndex,o=Math.floor(a/s);return{...i,pageIndex:o,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let a=zd(r,(s=e.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),e.getPageOptions=Yt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,a)=>a)),i},Xt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},s5=()=>({top:[],bottom:[]}),fve={getInitialState:e=>({rowPinning:s5(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ua("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],a=i?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],o=new Set([...a,e.id,...s]);t.setRowPinning(c=>{var u,f;if(n==="bottom"){var h,g;return{top:((h=c==null?void 0:c.top)!=null?h:[]).filter(y=>!(o!=null&&o.has(y))),bottom:[...((g=c==null?void 0:c.bottom)!=null?g:[]).filter(y=>!(o!=null&&o.has(y))),...Array.from(o)]}}if(n==="top"){var m,x;return{top:[...((m=c==null?void 0:c.top)!=null?m:[]).filter(y=>!(o!=null&&o.has(y))),...Array.from(o)],bottom:((x=c==null?void 0:c.bottom)!=null?x:[]).filter(y=>!(o!=null&&o.has(y)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(y=>!(o!=null&&o.has(y))),bottom:((f=c==null?void 0:c.bottom)!=null?f:[]).filter(y=>!(o!=null&&o.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(o=>r==null?void 0:r.includes(o)),a=n.some(o=>i==null?void 0:i.includes(o));return s?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:o}=a;return o});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?s5():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:s5())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const o=e.getRow(a,!0);return o.getIsAllParentsExpanded()?o:null}):(n??[]).map(a=>t.find(o=>o.id===a))).filter(Boolean).map(a=>({...a,position:r}))},e.getTopRows=Yt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Xt(e.options,"debugRows")),e.getBottomRows=Yt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Xt(e.options,"debugRows")),e.getCenterRows=Yt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},Xt(e.options,"debugRows"))}},hve={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ua("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{pS(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Yt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?a5(e,n):{rows:[],flatRows:[],rowsById:{}},Xt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Yt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?a5(e,n):{rows:[],flatRows:[],rowsById:{}},Xt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Yt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?a5(e,n):{rows:[],flatRows:[],rowsById:{}},Xt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const o={...s};return pS(o,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),o})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return W_(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return mS(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return mS(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},pS=(e,t,n,r,i)=>{var s;const a=i.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(o=>delete e[o]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(o=>pS(e,o.id,n,r,i))};function a5(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(a,o){return a.map(c=>{var u;const f=W_(c,n);if(f&&(r.push(c),i[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:s(c.subRows)}),f)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function W_(e,t){var n;return(n=t[e.id])!=null?n:!1}function mS(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(a=>{if(!(s&&!i)&&(a.getCanSelect()&&(W_(a,t)?s=!0:i=!1),a.subRows&&a.subRows.length)){const o=mS(a,t);o==="all"?s=!0:(o==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const gS=/([0-9]+)/gm,pve=(e,t,n)=>AM(ff(e.getValue(n)).toLowerCase(),ff(t.getValue(n)).toLowerCase()),mve=(e,t,n)=>AM(ff(e.getValue(n)),ff(t.getValue(n))),gve=(e,t,n)=>H_(ff(e.getValue(n)).toLowerCase(),ff(t.getValue(n)).toLowerCase()),vve=(e,t,n)=>H_(ff(e.getValue(n)),ff(t.getValue(n))),yve=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},xve=(e,t,n)=>H_(e.getValue(n),t.getValue(n));function H_(e,t){return e===t?0:e>t?1:-1}function ff(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function AM(e,t){const n=e.split(gS).filter(Boolean),r=t.split(gS).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),a=parseInt(i,10),o=parseInt(s,10),c=[a,o].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(a)?-1:1;if(a>o)return 1;if(o>a)return-1}return n.length-r.length}const Bg={alphanumeric:pve,alphanumericCaseSensitive:mve,text:gve,textCaseSensitive:vve,datetime:yve,basic:xve},bve={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ua("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return Bg.datetime;if(typeof s=="string"&&(r=!0,s.split(gS).length>1))return Bg.alphanumeric}return r?Bg.text:Bg.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return G2(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Bg[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(a=>{const o=a==null?void 0:a.find(m=>m.id===e.id),c=a==null?void 0:a.findIndex(m=>m.id===e.id);let u=[],f,h=s?n:i==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?o?f="toggle":f="add":a!=null&&a.length&&c!==a.length-1?f="replace":o?f="toggle":f="replace",f==="toggle"&&(s||i||(f="remove")),f==="add"){var g;u=[...a,{id:e.id,desc:h}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=a.map(m=>m.id===e.id?{...m,desc:h}:m):f==="remove"?u=a.filter(m=>m.id!==e.id):u=[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},wve=[z0e,ove,nve,rve,U0e,W0e,lve,cve,bve,eve,uve,dve,fve,hve,sve];function Sve(e){var t,n;const r=[...wve,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((g,m)=>Object.assign(g,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),a=g=>i.options.mergeOptions?i.options.mergeOptions(s,g):{...s,...g};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(g=>{var m;c=(m=g.getInitialState==null?void 0:g.getInitialState(c))!=null?m:c});const u=[];let f=!1;const h={_features:r,options:{...s,...e},initialState:c,_queue:g=>{u.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();f=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:g=>{const m=zd(g,i.options);i.options=a(m)},getState:()=>i.options.state,setState:g=>{i.options.onStateChange==null||i.options.onStateChange(g)},_getRowId:(g,m,x)=>{var y;return(y=i.options.getRowId==null?void 0:i.options.getRowId(g,m,x))!=null?y:`${x?[x.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(g,m)=>{let x=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[g];if(!x&&(x=i.getCoreRowModel().rowsById[g],!x))throw new Error;return x},_getDefaultColumnDef:Yt(()=>[i.options.defaultColumn],g=>{var m;return g=(m=g)!=null?m:{},{header:x=>{const y=x.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:x=>{var y,S;return(y=(S=x.renderValue())==null||S.toString==null?void 0:S.toString())!=null?y:null},...i._features.reduce((x,y)=>Object.assign(x,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...g}},Xt(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Yt(()=>[i._getColumnDefs()],g=>{const m=function(x,y,S){return S===void 0&&(S=0),x.map(_=>{const C=V0e(i,_,S,y),P=_;return C.columns=P.columns?m(P.columns,C,S+1):[],C})};return m(g)},Xt(e,"debugColumns")),getAllFlatColumns:Yt(()=>[i.getAllColumns()],g=>g.flatMap(m=>m.getFlatColumns()),Xt(e,"debugColumns")),_getAllFlatColumnsById:Yt(()=>[i.getAllFlatColumns()],g=>g.reduce((m,x)=>(m[x.id]=x,m),{}),Xt(e,"debugColumns")),getAllLeafColumns:Yt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(g,m)=>{let x=g.flatMap(y=>y.getLeafColumns());return m(x)},Xt(e,"debugColumns")),getColumn:g=>i._getAllFlatColumnsById()[g]};Object.assign(i,h);for(let g=0;g<i._features.length;g++){const m=i._features[g];m==null||m.createTable==null||m.createTable(i)}return i}function kM(){return e=>Yt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,a){s===void 0&&(s=0);const o=[];for(let u=0;u<i.length;u++){const f=z_(e,e._getRowId(i[u],u,a),i[u],u,s,void 0,a==null?void 0:a.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,o.push(f),e.options.getSubRows){var c;f.originalSubRows=e.options.getSubRows(i[u],u),(c=f.originalSubRows)!=null&&c.length&&(f.subRows=r(f.originalSubRows,s+1,f))}}return o};return n.rows=r(t),n},Xt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function _ve(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Cve(e,t,n){return n.options.filterFromLeafRows?Nve(e,t,n):jve(e,t,n)}function Nve(e,t,n){var r;const i=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,o=function(c,u){u===void 0&&(u=0);const f=[];for(let g=0;g<c.length;g++){var h;let m=c[g];const x=z_(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(x.columnFilters=m.columnFilters,(h=m.subRows)!=null&&h.length&&u<a){if(x.subRows=o(m.subRows,u+1),m=x,t(m)&&!x.subRows.length){f.push(m),s[m.id]=m,i.push(m);continue}if(t(m)||x.subRows.length){f.push(m),s[m.id]=m,i.push(m);continue}}else m=x,t(m)&&(f.push(m),s[m.id]=m,i.push(m))}return f};return{rows:o(e),flatRows:i,rowsById:s}}function jve(e,t,n){var r;const i=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,o=function(c,u){u===void 0&&(u=0);const f=[];for(let g=0;g<c.length;g++){let m=c[g];if(t(m)){var h;if((h=m.subRows)!=null&&h.length&&u<a){const y=z_(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);y.subRows=o(m.subRows,u+1),m=y}f.push(m),i.push(m),s[m.id]=m}}return f};return{rows:o(e),flatRows:i,rowsById:s}}function EM(){return e=>Yt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(g=>{var m;const x=e.getColumn(g.id);if(!x)return;const y=x.getFilterFn();y&&i.push({id:g.id,filterFn:y,resolvedValue:(m=y.resolveFilterValue==null?void 0:y.resolveFilterValue(g.value))!=null?m:g.value})});const a=(n??[]).map(g=>g.id),o=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&o&&c.length&&(a.push("__global__"),c.forEach(g=>{var m;s.push({id:g.id,filterFn:o,resolvedValue:(m=o.resolveFilterValue==null?void 0:o.resolveFilterValue(r))!=null?m:r})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const m=t.flatRows[g];if(m.columnFilters={},i.length)for(let x=0;x<i.length;x++){u=i[x];const y=u.id;m.columnFilters[y]=u.filterFn(m,y,u.resolvedValue,S=>{m.columnFiltersMeta[y]=S})}if(s.length){for(let x=0;x<s.length;x++){f=s[x];const y=f.id;if(f.filterFn(m,y,f.resolvedValue,S=>{m.columnFiltersMeta[y]=S})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const h=g=>{for(let m=0;m<a.length;m++)if(g.columnFilters[a[m]]===!1)return!1;return!0};return Cve(t.rows,h,e)},Xt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function $M(e){return t=>Yt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:a,flatRows:o,rowsById:c}=r;const u=i*s,f=u+i;a=a.slice(u,f);let h;t.options.paginateExpandedRows?h={rows:a,flatRows:o,rowsById:c}:h=_ve({rows:a,flatRows:o,rowsById:c}),h.flatRows=[];const g=m=>{h.flatRows.push(m),m.subRows.length&&m.subRows.forEach(g)};return h.rows.forEach(g),h},Xt(t.options,"debugTable"))}function Pve(){return e=>Yt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),a={};s.forEach(c=>{const u=e.getColumn(c.id);u&&(a[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const o=c=>{const u=c.map(f=>({...f}));return u.sort((f,h)=>{for(let m=0;m<s.length;m+=1){var g;const x=s[m],y=a[x.id],S=y.sortUndefined,_=(g=x==null?void 0:x.desc)!=null?g:!1;let C=0;if(S){const P=f.getValue(x.id),A=h.getValue(x.id),R=P===void 0,D=A===void 0;if(R||D){if(S==="first")return R?-1:1;if(S==="last")return R?1:-1;C=R&&D?0:R?S:-S}}if(C===0&&(C=y.sortingFn(f,h,x.id)),C!==0)return _&&(C*=-1),y.invertSorting&&(C*=-1),C}return f.index-h.index}),u.forEach(f=>{var h;i.push(f),(h=f.subRows)!=null&&h.length&&(f.subRows=o(f.subRows))}),u};return{rows:o(n.rows),flatRows:i,rowsById:n.rowsById}},Xt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ax(e,t){return e?Ave(e)?w.createElement(e,t):e:null}function Ave(e){return kve(e)||typeof e=="function"||Eve(e)}function kve(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Eve(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function RM(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=w.useState(()=>({current:Sve(t)})),[r,i]=w.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:a=>{i(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}function TM({columns:e,data:t,filterColumn:n,statusOptions:r}){var f,h,g;const[i,s]=Re.useState([]),[a,o]=Re.useState([]),c=RM({data:t,columns:e,onSortingChange:s,onColumnFiltersChange:o,getCoreRowModel:kM(),getPaginationRowModel:$M(),getSortedRowModel:Pve(),getFilteredRowModel:EM(),state:{sorting:i,columnFilters:a}}),u=c.getState().columnFilters.length>0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center py-4 gap-2",children:[l.jsx(Ot,{placeholder:"Buscar por Lote/Stock Number",value:((f=c.getColumn(n))==null?void 0:f.getFilterValue())??"",onChange:m=>{var x;return(x=c.getColumn(n))==null?void 0:x.setFilterValue(m.target.value)},className:"w-full max-w-sm"}),r&&l.jsxs(Pr,{value:((h=c.getColumn("status"))==null?void 0:h.getFilterValue())||"all",onValueChange:m=>{var x;return(x=c.getColumn("status"))==null?void 0:x.setFilterValue(m==="all"?null:m)},children:[l.jsx(dr,{className:"w-[180px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los Estados"}),r.map(m=>l.jsx(nt,{value:m.value,children:m.label},m.value))]})]}),u&&l.jsxs(Ue,{variant:"ghost",onClick:()=>c.resetColumnFilters(),className:"h-10 px-3",children:["Limpiar ",l.jsx(yo,{className:"ml-2 h-4 w-4"})]})]}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(zs,{children:[l.jsx(fa,{children:c.getHeaderGroups().map(m=>l.jsx(mn,{children:m.headers.map(x=>l.jsx(wt,{children:x.isPlaceholder?null:Ax(x.column.columnDef.header,x.getContext())},x.id))},m.id))}),l.jsx(ha,{children:(g=c.getRowModel().rows)!=null&&g.length?c.getRowModel().rows.map(m=>l.jsx(mn,{"data-state":m.getIsSelected()&&"selected",children:m.getVisibleCells().map(x=>l.jsx(ot,{children:Ax(x.column.columnDef.cell,x.getContext())},x.id))},m.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:e.length,className:"h-24 text-center",children:"No se encontraron resultados."})})})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>c.previousPage(),disabled:!c.getCanPreviousPage(),children:"Anterior"}),l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>c.nextPage(),disabled:!c.getCanNextPage(),children:"Siguiente"})]})]})}function $ve({inspection:e,isOpen:t,onClose:n,onUpdateSuccess:r}){var x,y,S;const i=qn.useSupabaseClient(),{toast:s}=Pn(),[a,o]=w.useState(""),[c,u]=w.useState(null),[f,h]=w.useState(!1);if(w.useEffect(()=>{e&&(o(e.status),u(null))},[e]),!e)return null;const g=_=>{_.target.files&&_.target.files.length>0&&u(_.target.files[0])},m=async()=>{h(!0);let _=e.report_url;try{if(c){const A=c.name.split(".").pop(),R=`${Date.now()}.${A}`,D=`${e.user_id}/${e.id}/${R}`,T="inspection-reports",{data:M,error:U}=await i.storage.from(T).upload(D,c,{upsert:!0});if(U)throw U;_=M.path}let C=e.completed_at;a==="completed"&&!e.completed_at&&(C=new Date().toISOString());const{error:P}=await i.from("inspections").update({status:a,report_url:_,completed_at:C}).eq("id",e.id);if(P)throw P;s({title:"Éxito",description:"La inspección ha sido actualizada."}),r()}catch(C){console.error("Error saving inspection:",C),s({variant:"destructive",title:"Error al guardar",description:C.message||"Ocurrió un error inesperado."})}finally{h(!1)}};return l.jsx(vl,{open:t,onOpenChange:n,children:l.jsxs(bo,{className:"sm:max-w-2xl",children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Detalles de la Inspección"}),l.jsxs(_o,{children:["Stock #: ",l.jsx("span",{className:"font-semibold text-primary",children:e.stock_number})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Información del Cliente"}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Nombre:"})," ",e.user_full_name||"N/A"]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Email:"})," ",e.user_email]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Detalles del Vehículo y Subasta"}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"URL:"})," ",l.jsx("a",{href:e.vehicle_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Abrir enlace"})]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Fecha Subasta:"})," ",Hr(new Date(e.auction_date),"PPP",{locale:Fa})]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Fecha Inspección:"})," ",Hr(new Date(e.inspection_date),"PPP",{locale:Fa})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Ubicación"}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Tipo:"})," ",(x=e.location_type)==null?void 0:x.toUpperCase()]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Dirección:"})," ",((y=e.location_details)==null?void 0:y.address)||((S=e.location_details)==null?void 0:S.name)||"N/A"]}),e.exact_location_details&&l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Detalles extra:"})," ",e.exact_location_details]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Comentarios del Cliente"}),l.jsx("p",{className:"text-sm italic text-muted-foreground",children:e.comments||"Sin comentarios."})]})]}),l.jsxs("div",{className:"space-y-6 pt-2",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Actualizar Estado"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"status",children:"Estado de la Inspección"}),l.jsxs(Pr,{value:a,onValueChange:o,children:[l.jsx(dr,{id:"status",children:l.jsx(Ar,{placeholder:"Selecciona un estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"pending_payment",children:"Pago Pendiente"}),l.jsx(nt,{value:"scheduled",children:"Programada"}),l.jsx(nt,{value:"completed",children:"Completada"}),l.jsx(nt,{value:"cancelled",children:"Cancelada"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"report",children:"Subir Reporte (PDF)"}),l.jsx(Ot,{id:"report",type:"file",onChange:g,accept:".pdf"}),e.report_url&&!c&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ya existe un reporte. Subir uno nuevo lo reemplazará."})]})]})]}),l.jsxs(Jh,{children:[l.jsx(eR,{asChild:!0,children:l.jsx(Ue,{variant:"outline",children:"Cancelar"})}),l.jsxs(Ue,{onClick:m,disabled:f,children:[f&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar Cambios"]})]})]})})}const Rve=()=>{const e=qn.useSupabaseClient(),[t,n]=w.useState([]),[r,i]=w.useState(!0),[s,a]=w.useState(null),o=w.useCallback(async()=>{i(!0);const{data:h,error:g}=await e.functions.invoke("inspections-proxy");if(g){try{const m=await g.context.json();console.error("‼️ ERROR DETALLADO DESDE LA EDGE FUNCTION:",m)}catch{console.error("Error al invocar la Edge Function:",g.message)}n([])}else{const m=h.map(x=>{var y,S;return{...x,user_full_name:((y=x.users_profile)==null?void 0:y.full_name)||"N/A",user_email:((S=x.users_profile)==null?void 0:S.email)||"N/A"}});n(m)}i(!1)},[e]);w.useEffect(()=>{o()},[o]);const c=h=>{a(h)},u=()=>{a(null)},f=()=>{u(),o()};return l.jsxs("div",{className:"container mx-auto py-10",children:[l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestionar Solicitudes de Inspección"}),l.jsx(pn,{children:"Visualiza, actualiza el estado y sube los reportes de las inspecciones solicitadas."})]}),l.jsx(ut,{children:r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(jn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsx(TM,{columns:I0e({onEdit:c}),data:t,filterColumn:"stock_number"})})]}),l.jsx($ve,{inspection:s,isOpen:!!s,onClose:u,onUpdateSuccess:f})]})},Tve=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Lve=({onViewDetails:e})=>[{accessorKey:"vin",header:"Vehículo",cell:({row:t})=>{const n=t.original;return l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[n.year," ",n.make," ",n.model]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["VIN: ",n.vin]})]})}},{accessorKey:"lot_number",header:"Lote #"},{accessorKey:"user_full_name",header:"Cliente",cell:({row:t})=>{var r;const n=t.original;return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:n.user_full_name||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:((r=n.user_profile)==null?void 0:r.short_id)||"N/A"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:n.user_email})]})}},{accessorKey:"max_bid",header:()=>l.jsx("div",{className:"text-right",children:"Puja Máx."}),cell:({row:t})=>l.jsx("div",{className:"text-right font-semibold",children:Tve.format(parseFloat(t.getValue("max_bid")))})},{accessorKey:"status",header:"Estado",cell:({row:t})=>l.jsx(uf,{status:t.getValue("status")})},{id:"actions",cell:({row:t})=>l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsxs(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Abrir"}),l.jsx(gc,{className:"h-4 w-4"})]})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsx(ur,{onClick:()=>e(t.original),children:"Ver / Actualizar"})]})]})}],FA=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Dve({bid:e,isOpen:t,onClose:n,onUpdateSuccess:r}){var m;const{toast:i}=Pn(),[s,a]=w.useState(""),[o,c]=w.useState(""),[u,f]=w.useState(!1),h=qn.useSupabaseClient();if(w.useEffect(()=>{e&&(a(e.status),c(e.lost_reason||""))},[e]),!e)return null;const g=async()=>{f(!0);try{const x={status:s,lost_reason:s==="lost"?o:null},{error:y}=await h.from("auction_bids").update(x).eq("id",e.id);if(y)throw y;i({title:"Éxito",description:"El estado de la puja ha sido actualizado."}),n(),r()}catch(x){console.error("Error updating bid status:",x.message),i({title:"Error al Actualizar",description:x.message,variant:"destructive"})}finally{f(!1)}};return l.jsx(vl,{open:t,onOpenChange:n,children:l.jsxs(bo,{className:"sm:max-w-4xl",children:[l.jsxs(wo,{children:[l.jsxs(So,{children:["Detalles de la Puja para el Lote #",e.lot_number]}),l.jsxs(_o,{children:[e.year," ",e.make," ",e.model," (VIN: ",e.vin,")"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"font-semibold",children:"Información del Cliente"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",e.user_full_name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.user_email]})]}),l.jsxs("div",{className:"space-y-1 pt-4 border-t",children:[l.jsx("h4",{className:"font-semibold",children:"Detalles de Subasta"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Casa de Subasta:"})," ",e.auction_type]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ubicación:"})," ",e.auction_location_id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Fecha:"})," ",Hr(new Date(e.auction_date.replace(/-/g,"/")),"PPP",{locale:Fa})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"URL:"})," ",l.jsx("a",{href:e.vehicle_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Ver Lote"})]})]}),l.jsxs("div",{className:"space-y-1 pt-4 border-t",children:[l.jsx("h4",{className:"font-semibold",children:"Firma de Autorización"}),l.jsx("div",{className:"mt-2 border rounded-md p-2 bg-muted flex justify-center",children:l.jsx("img",{src:e.signature_image_base64,alt:"Firma del cliente",className:"max-w-full h-auto bg-black"})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-muted border",children:[l.jsx("h4",{className:"font-semibold text-lg",children:"Detalles de la Puja"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Puja Máxima:"})," ",l.jsx("span",{className:"font-bold text-xl text-primary",children:FA.format(e.max_bid)})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total Estimado (solicitud):"})," ",FA.format((m=e.fees_detail)==null?void 0:m.total)]}),l.jsx("p",{className:"pt-2",children:l.jsx("strong",{children:"Comentarios del Cliente:"})}),l.jsx("blockquote",{className:"border-l-2 pl-4 italic text-muted-foreground",children:e.comments||"Ninguno"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"status",className:"font-semibold",children:"Actualizar Estado"}),l.jsxs(Pr,{value:s,onValueChange:a,children:[l.jsx(dr,{id:"status",children:l.jsx(Ar,{placeholder:"Selecciona un estado"})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"approved",children:"Aprobada"}),l.jsx(nt,{value:"processing",children:"Procesando"}),l.jsx(nt,{value:"won",children:"Ganada"}),l.jsx(nt,{value:"lost",children:"Perdida"}),l.jsx(nt,{value:"pending_payment",children:"Pendiente de Pago"}),l.jsx(nt,{value:"completed",children:"Completada"}),l.jsx(nt,{value:"cancelled",children:"Cancelada"}),l.jsx(nt,{value:"outbid",children:"Puja Superada"})]})]})]}),s==="lost"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{htmlFor:"lost_reason",children:"Motivo de la Pérdida"}),l.jsx(_u,{id:"lost_reason",placeholder:"Ej: La puja superó el presupuesto, el cliente canceló, etc.",value:o,onChange:x=>c(x.target.value)})]})]})]}),l.jsxs(Jh,{children:[l.jsx(eR,{asChild:!0,children:l.jsx(Ue,{variant:"outline",children:"Cancelar"})}),l.jsxs(Ue,{onClick:g,disabled:u,children:[u&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"})," Guardar Cambios"]})]})]})})}const Ove=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(null),a=qn.useSupabaseClient(),o=[{value:"pending",label:"Pendiente"},{value:"approved",label:"Aprobada"},{value:"processing",label:"Procesando"},{value:"won",label:"Ganada"},{value:"lost",label:"Perdida"},{value:"pending_payment",label:"Pendiente de Pago"},{value:"completed",label:"Completada"},{value:"outbid",label:"Puja Superada"},{value:"cancelled",label:"Cancelada"}],c=w.useCallback(async()=>{r(!0);const{data:g,error:m}=await a.from("auction_bids").select("*, user_profile:users_profile ( full_name, email, short_id )").order("created_at",{ascending:!1});if(m)console.error("Error fetching auction bids:",m.message),t([]);else{const x=g.map(y=>{var S,_;return{...y,user_full_name:((S=y.user_profile)==null?void 0:S.full_name)||"N/A",user_email:((_=y.user_profile)==null?void 0:_.email)||y.email}});t(x)}r(!1)},[a]);w.useEffect(()=>{c()},[c]);const u=g=>s(g),f=()=>s(null),h=()=>{f(),c()};return l.jsxs("div",{className:"container mx-auto py-10",children:[l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestionar Solicitudes de Puja"}),l.jsx(pn,{children:"Revisa, actualiza y gestiona las solicitudes de puja enviadas por los usuarios."})]}),l.jsx(ut,{children:n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(jn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsx(TM,{columns:Lve({onViewDetails:u}),data:e,filterColumn:"lot_number",statusOptions:o})})]}),l.jsx(Dve,{bid:i,isOpen:!!i,onClose:f,onUpdateSuccess:h})]})},Ive=[{accessorKey:"user_profile",header:"Usuario",cell:({row:e})=>{const t=e.original.user_profile;return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:(t==null?void 0:t.full_name)||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:(t==null?void 0:t.short_id)||"N/A"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:(t==null?void 0:t.email)||"N/A"})]})}},{accessorKey:"vin",header:"VIN"},{accessorKey:"status",header:"Estado",cell:({row:e})=>{const t=e.getValue("status");return l.jsx(uf,{status:t})}},{accessorKey:"pending_documents_count",header:"Docs. Pendientes",cell:({row:e})=>{const t=e.getValue("pending_documents_count");return t>0?l.jsxs("div",{className:"flex items-center gap-2 text-destructive font-medium",children:[l.jsx(Ni,{className:"h-4 w-4"}),t]}):l.jsx("div",{className:"text-muted-foreground",children:"0"})}},{accessorKey:"created_at",header:"Fecha de Solicitud",cell:({row:e})=>{const t=new Date(e.getValue("created_at"));return l.jsx("div",{children:t.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})}},{id:"actions",cell:({row:e,table:t})=>{const n=e.original,{onViewDetails:r}=t.options.meta;return l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsxs(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Abrir menú"}),l.jsx(gc,{className:"h-4 w-4"})]})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsx(ur,{onClick:()=>r(n),children:"Ver Detalles"})]})]})}}];function Mve({columns:e,data:t,onViewDetails:n}){var a;const[r,i]=w.useState(""),s=RM({data:t,columns:e,getCoreRowModel:kM(),getPaginationRowModel:$M(),onGlobalFilterChange:i,getFilteredRowModel:EM(),state:{globalFilter:r},meta:{onViewDetails:n}});return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex items-center py-4",children:l.jsx(Ot,{placeholder:"Filtrar por email, VIN...",value:r??"",onChange:o=>i(o.target.value),className:"max-w-sm"})}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(zs,{children:[l.jsx(fa,{children:s.getHeaderGroups().map(o=>l.jsx(mn,{children:o.headers.map(c=>l.jsx(wt,{children:c.isPlaceholder?null:Ax(c.column.columnDef.header,c.getContext())},c.id))},o.id))}),l.jsx(ha,{children:(a=s.getRowModel().rows)!=null&&a.length?s.getRowModel().rows.map(o=>l.jsx(mn,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(c=>l.jsx(ot,{children:Ax(c.column.columnDef.cell,c.getContext())},c.id))},o.id)):l.jsx(mn,{children:l.jsx(ot,{colSpan:e.length,className:"h-24 text-center",children:"No hay resultados."})})})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:"Anterior"}),l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:"Siguiente"})]})]})}const Fve=({doc:e,onStatusChange:t,onSaveStatus:n,onViewOrDownload:r})=>{var i;return l.jsxs("div",{className:"space-y-4 pt-2",children:[e.previewUrl?l.jsxs(l.Fragment,{children:[((i=e.mime_type)==null?void 0:i.startsWith("image/"))&&l.jsx("img",{src:e.previewUrl,alt:`Vista previa de ${e.document_type}`,className:"rounded-md max-h-80 w-full object-contain border bg-muted"}),e.mime_type==="application/pdf"&&l.jsx("iframe",{src:e.previewUrl,title:`Vista previa de ${e.document_type}`,className:"rounded-md w-full h-80 border bg-muted"})]}):l.jsx("div",{className:"text-center p-8 bg-muted rounded-md",children:l.jsx("p",{className:"text-muted-foreground",children:"Vista previa no disponible."})}),l.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(ht,{htmlFor:`status-${e.id}`,className:"text-xs",children:"Estado:"}),l.jsxs(Pr,{value:e.status,onValueChange:s=>t(e.id,s),children:[l.jsx(dr,{id:`status-${e.id}`,className:"h-8 w-[120px]",children:l.jsx(Ar,{})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"approved",children:"Aprobado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]}),l.jsx(Ue,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>n(e.id,e.status),children:l.jsx(Mk,{className:"h-4 w-4"})})]}),l.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>r(e.file_path),children:[l.jsx(zm,{className:"mr-2 h-4 w-4"})," Ver/Descargar"]})]})]})};function Bve({isOpen:e,onClose:t,legalization:n,onUpdate:r}){var F,O,H,V,ae,J;const{getDocumentsForLegalization:i,getDocumentDownloadUrl:s}=Eu(),{updateLegalization:a,updateDocumentStatus:o,loading:c}=nS(),[u,f]=w.useState(""),[h,g]=w.useState(""),[m,x]=w.useState(""),[y,S]=w.useState([]),[_,C]=w.useState(!1),[P,A]=w.useState("all"),[R,D]=w.useState([]);w.useEffect(()=>{e&&n&&(f(n.status||"pending"),g(n.admin_notes||""),x(n.missing_information_details||""),A("all"),(async()=>{C(!0);const z=await i(n.id);if(z.success&&z.data){const ne="documents",se=await Promise.all(z.data.map(async X=>{var B;if((B=X.mime_type)!=null&&B.startsWith("image/")||X.mime_type==="application/pdf"){const Q=await s(X.file_path,ne);return{...X,previewUrl:Q.success?Q.url:null}}return X}));S(se)}else S([]);C(!1)})())},[e,n,i,s]),w.useEffect(()=>{const W=P==="all"?y:y.filter(z=>z.status===P);D(W)},[P,y]);const T=async W=>{const ne=await s(W,"documents");ne.success&&ne.url&&window.open(ne.url,"_blank")},M=(W,z)=>{S(ne=>ne.map(se=>se.id===W?{...se,status:z}:se))},U=async(W,z)=>{await o(W,z)},ee=async()=>{if(!n)return;const W={status:u,admin_notes:h,missing_information_details:u==="missing_information"?m:null};(await a(n.id,W)).success&&(r(),t())};return n?l.jsx(vl,{open:e,onOpenChange:t,children:l.jsxs(bo,{className:"sm:max-w-4xl",children:[l.jsxs(wo,{children:[l.jsx(So,{children:"Detalles de la Solicitud"}),l.jsxs(_o,{children:["VIN: ",n.vin," - Solicitado por: ",((F=n.user_profile)==null?void 0:F.email)||"N/A"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4 max-h-[75vh] overflow-y-auto pr-4",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{className:"text-lg",children:"Información General"})}),l.jsxs(ut,{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Marca/Modelo:"})," ",(O=n.vehicle_info)==null?void 0:O.marca," ",(H=n.vehicle_info)==null?void 0:H.modelo," (",(V=n.vehicle_info)==null?void 0:V.ano,")"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Propietario:"})," ",(ae=n.owner_info)==null?void 0:ae.name," (",(J=n.owner_info)==null?void 0:J.phone,")"]})]})]}),l.jsxs(ct,{children:[l.jsx(_t,{children:l.jsx(Ct,{className:"text-lg",children:"Acciones de Legalización"})}),l.jsxs(ut,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"status",children:"Estado General de la Solicitud"}),l.jsxs(Pr,{value:u,onValueChange:f,children:[l.jsx(dr,{id:"status",children:l.jsx(Ar,{})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"missing_documents",children:"Documentos faltantes"}),l.jsx(nt,{value:"missing_information",children:"Información faltante"}),l.jsx(nt,{value:"deposit_required",children:"Depósito requerido"}),l.jsx(nt,{value:"processing",children:"Procesando"}),l.jsx(nt,{value:"final_payment_required",children:"Pago final requerido"}),l.jsx(nt,{value:"completed",children:"Completado"})]})]})]}),u==="missing_information"&&l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"missing-info-details",children:"Detallar Información Faltante"}),l.jsx(_u,{id:"missing-info-details",placeholder:"Ej: Falta el número de licencia, la dirección del propietario es incorrecta...",value:m,onChange:W=>x(W.target.value)})]}),l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"admin-notes",children:"Notas Internas (visibles solo para administradores)"}),l.jsx(_u,{id:"admin-notes",value:h,onChange:W=>g(W.target.value)})]})]})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs(ct,{className:"h-full",children:[l.jsx(_t,{children:l.jsx(Ct,{className:"text-lg",children:"Documentos Adjuntos"})}),l.jsx(ut,{children:_?l.jsx(jn,{className:"animate-spin mx-auto"}):y.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[l.jsx(ht,{htmlFor:"doc-status-filter",className:"text-sm",children:"Filtrar:"}),l.jsxs(Pr,{value:P,onValueChange:A,children:[l.jsx(dr,{id:"doc-status-filter",className:"h-9 w-[150px]",children:l.jsx(Ar,{})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"approved",children:"Aprobado"}),l.jsx(nt,{value:"rejected",children:"Rechazado"})]})]})]}),R.length>0?l.jsxs(I2,{defaultValue:R[0].id,className:"w-full",children:[l.jsx(jv,{className:"h-auto flex-wrap justify-start",children:R.map(W=>l.jsx(Fh,{value:W.id,className:"flex-shrink-0",children:W.document_type},W.id))}),R.map(W=>l.jsx(sl,{value:W.id,children:l.jsx(Fve,{doc:W,onStatusChange:M,onSaveStatus:U,onViewOrDownload:T})},W.id))]}):l.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"No hay documentos que coincidan con el estado seleccionado."})]}):l.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"No hay documentos para esta solicitud."})})]})})]}),l.jsxs(Jh,{children:[l.jsx(Ue,{variant:"outline",onClick:t,children:"Cancelar"}),l.jsxs(Ue,{onClick:ee,disabled:c,children:[c&&l.jsx(jn,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar Cambios Generales"]})]})]})}):null}const Vve=()=>{const{fetchAllLegalizations:e}=Eu(),[t,n]=w.useState([]),[r,i]=w.useState(!0),[s,a]=w.useState("all"),[o,c]=w.useState(void 0),[u,f]=w.useState(!1),[h,g]=w.useState(null),m=w.useCallback(async()=>{i(!0);const _={status:s==="all"?null:s,startDate:o==null?void 0:o.from,endDate:o==null?void 0:o.to},C=await e(_);C.success&&n(C.data||[]),i(!1)},[e,s,o]);w.useEffect(()=>{m()},[m]);const x=_=>{g(_),f(!0)},y=()=>{f(!1),g(null)},S=()=>{m()};return l.jsxs("div",{className:"container mx-auto py-10",children:[l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Gestión de Legalizaciones"}),l.jsx(pn,{children:"Filtra y gestiona todas las solicitudes de legalización de vehículos."})]}),l.jsxs(ut,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[l.jsxs(Pr,{value:s,onValueChange:a,children:[l.jsx(dr,{className:"w-[220px]",children:l.jsx(Ar,{placeholder:"Filtrar por estado..."})}),l.jsxs(fr,{children:[l.jsx(nt,{value:"all",children:"Todos los estados"}),l.jsx(nt,{value:"pending",children:"Pendiente"}),l.jsx(nt,{value:"missing_documents",children:"Documentos faltantes"}),l.jsx(nt,{value:"missing_information",children:"Información faltante"}),l.jsx(nt,{value:"deposit_required",children:"Depósito requerido"}),l.jsx(nt,{value:"processing",children:"Procesando"}),l.jsx(nt,{value:"final_payment_required",children:"Pago final requerido"}),l.jsx(nt,{value:"completed",children:"Completado"})]})]}),l.jsxs(N2,{children:[l.jsx(j2,{asChild:!0,children:l.jsxs(Ue,{id:"date",variant:"outline",className:"w-[300px] justify-start text-left font-normal",children:[l.jsx(Rx,{className:"mr-2 h-4 w-4"}),o!=null&&o.from?o.to?l.jsxs(l.Fragment,{children:[Hr(o.from,"LLL dd, y")," - ",Hr(o.to,"LLL dd, y")]}):Hr(o.from,"LLL dd, y"):l.jsx("span",{children:"Selecciona un rango de fechas"})]})}),l.jsx(wv,{className:"w-auto p-0",align:"start",children:l.jsx(Nv,{initialFocus:!0,mode:"range",defaultMonth:o==null?void 0:o.from,selected:o,onSelect:c,numberOfMonths:2})})]}),o&&l.jsx(Ue,{variant:"ghost",onClick:()=>c(void 0),className:"h-9 px-2",children:l.jsx(yo,{className:"h-4 w-4"})})]}),r?l.jsx("div",{className:"flex h-64 w-full items-center justify-center",children:l.jsx(jn,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsx(Mve,{columns:Ive,data:t,onViewDetails:x})]})]}),l.jsx(Bve,{isOpen:u,onClose:y,legalization:h,onUpdate:S})]})},zve=()=>{const e=qn.useSupabaseClient(),{session:t}=Pi(),{toast:n}=Pn(),[r,i]=w.useState([]),[s,a]=w.useState(!0),[o,c]=w.useState(null),[u,f]=w.useState(""),[h,g]=w.useState(1),m=10,x=A=>{const R=new Date(A);return R.setDate(R.getDate()+7),R},y=w.useCallback(async()=>{a(!0);const{data:A,error:R}=await e.from("power_buying_requests").select("id, amount, deposit, status, created_at, payment_intent_id, users_profile!inner(email, full_name, short_id)").in("status",["active","approved","pending"]);R?n({variant:"destructive",title:"Error al cargar solicitudes",description:R.message}):i(A),a(!1)},[e,n]);w.useEffect(()=>{y()},[y]);const S=w.useMemo(()=>u?r.filter(A=>{var T,M,U;const R=A.users_profile,D=u.toLowerCase();return((T=R==null?void 0:R.full_name)==null?void 0:T.toLowerCase().includes(D))||((M=R==null?void 0:R.email)==null?void 0:M.toLowerCase().includes(D))||((U=R==null?void 0:R.short_id)==null?void 0:U.toLowerCase().includes(D))}):r,[r,u]),_=w.useMemo(()=>{const A=(h-1)*m;return S.slice(A,A+m)},[S,h]),C=Math.ceil(S.length/m),P=async(A,R,D)=>{c(D);try{const{error:T}=await e.functions.invoke(`${A}-deposit`,{headers:{Authorization:`Bearer ${t.access_token}`},body:{payment_intent_id:R}});if(T)throw new Error(T.message||"Ocurrió un error en la función.");n({title:"Acción completada",description:`El depósito ha sido ${A==="capture"?"capturado":"cancelado"} con éxito.`}),y()}catch(T){const M=T.context?JSON.parse(T.context.text):{error:"Error desconocido."};n({variant:"destructive",title:"Error en la acción",description:M.error})}finally{c(null)}};return s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(jn,{className:"h-8 w-8 animate-spin"})}):l.jsx("div",{className:"container mx-auto py-10",children:l.jsxs(ct,{children:[l.jsxs(_t,{children:[l.jsx(Ct,{children:"Administrar Poder de Compra"}),l.jsx(pn,{children:"Visualiza, captura o cancela los depósitos de garantía de los usuarios."})]}),l.jsxs(ut,{children:[l.jsx("div",{className:"mb-4",children:l.jsx(Ot,{placeholder:"Filtrar por nombre, email o ID de usuario...",value:u,onChange:A=>{f(A.target.value),g(1)},className:"max-w-sm"})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{children:"Usuario"}),l.jsx(wt,{children:"Poder de Compra"}),l.jsx(wt,{children:"Depósito"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{children:"Fecha Solicitud"}),l.jsx(wt,{children:"Fecha Expiración"})," ",l.jsx(wt,{className:"text-right",children:"Acciones"})]})}),l.jsx(ha,{children:_.length===0?l.jsx(mn,{children:l.jsx(ot,{colSpan:7,className:"text-center h-24",children:"No se encontraron solicitudes."})}):_.map(A=>{var R,D,T;return l.jsxs(mn,{children:[l.jsx(ot,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:((R=A.users_profile)==null?void 0:R.full_name)||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:((D=A.users_profile)==null?void 0:D.short_id)||"N/A"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:((T=A.users_profile)==null?void 0:T.email)||"N/A"})]})}),l.jsxs(ot,{children:["$",new Intl.NumberFormat().format(A.amount)]}),l.jsxs(ot,{className:"font-semibold",children:["$",new Intl.NumberFormat().format(A.deposit)]}),l.jsx(ot,{children:l.jsx(uf,{status:A.status})}),l.jsx(ot,{children:new Date(A.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}),l.jsx(ot,{children:x(A.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})," ",l.jsx(ot,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>P("capture",A.payment_intent_id,A.id),disabled:o===A.id,children:[o===A.id?l.jsx(jn,{className:"h-4 w-4 animate-spin"}):l.jsx(vn,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{className:"ml-2 hidden md:inline",children:"Capturar"})]}),l.jsxs(Ue,{size:"sm",variant:"destructive",onClick:()=>P("cancel",A.payment_intent_id,A.id),disabled:o===A.id,children:[o===A.id?l.jsx(jn,{className:"h-4 w-4 animate-spin"}):l.jsx(Qi,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2 hidden md:inline",children:"Cancelar"})]})]})})]},A.id)})})]})}),C>1&&l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4",children:[l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>g(A=>Math.max(A-1,1)),disabled:h===1,children:"Anterior"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",h," de ",C]}),l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>g(A=>Math.min(A+1,C)),disabled:h===C,children:"Siguiente"})]})]})]})})},Uve=()=>{const{toast:e}=Pn(),[t,n]=w.useState([]),[r,i]=w.useState(!0),s=qn.useSupabaseClient(),a=w.useCallback(async()=>{i(!0);try{const{data:u,error:f}=await s.rpc("get_all_vin_requests");if(f)throw f;n(u||[])}catch(u){console.error("Error fetching VIN requests:",u),e({variant:"destructive",title:"Error",description:"No se pudieron cargar las solicitudes."})}finally{i(!1)}},[e]);return w.useEffect(()=>{a()},[a]),{requests:t,isLoading:r,fetchRequests:a,updateRequestStatus:async(u,f)=>{try{const{error:h}=await s.from("vin_check_logs").update({status:f}).eq("id",u);if(h)throw h;e({title:"Éxito",description:`El estado de la solicitud ha sido actualizado a ${f}.`}),a()}catch(h){console.error("Error updating status:",h),e({variant:"destructive",title:"Error",description:"No se pudo actualizar el estado."})}},uploadAndLinkReport:async(u,f)=>{if(f)try{const h=f.name.split(".").pop(),m=`reports/${`${u}.${h}`}`,{error:x}=await s.storage.from("vin-reports").upload(m,f,{upsert:!0});if(x)throw x;const{data:y}=s.storage.from("vin-reports").getPublicUrl(m),S=y.publicUrl,{error:_}=await s.from("vin_check_logs").update({pdf_url:S,status:"completed"}).eq("id",u);if(_)throw _;e({title:"Éxito",description:"Reporte subido y enlazado correctamente."}),a()}catch(h){console.error("Error uploading report:",h),e({variant:"destructive",title:"Error",description:`No se pudo subir el reporte: ${h.message}`})}}}},Wve=({isOpen:e,onOpenChange:t,onSubmit:n,request:r})=>{const[i,s]=w.useState(null),[a,o]=w.useState(!1),c=async u=>{u.preventDefault(),i&&(o(!0),await n(r.id,i),o(!1),t(!1))};return l.jsx(vl,{open:e,onOpenChange:t,children:l.jsxs(bo,{children:[l.jsxs(wo,{children:[l.jsxs(So,{children:["Subir Reporte para ",r==null?void 0:r.vin]}),l.jsx(_o,{children:"Selecciona el archivo PDF para marcar esta solicitud como completada."})]}),l.jsxs("form",{onSubmit:c,className:"space-y-4 pt-4",children:[l.jsxs("div",{children:[l.jsx(ht,{htmlFor:"pdf-file",children:"Archivo PDF"}),l.jsx(Ot,{id:"pdf-file",type:"file",accept:".pdf",onChange:u=>s(u.target.files[0])})]}),l.jsx(Ue,{type:"submit",disabled:!i||a,className:"w-full",children:a?"Subiendo...":"Subir y Completar"})]})]})})},Hve=({request:e,onUpdateStatus:t,onUpload:n})=>l.jsxs(xc,{children:[l.jsx(bc,{asChild:!0,children:l.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(gc,{className:"h-4 w-4"})})}),l.jsxs(bl,{align:"end",children:[l.jsx(wl,{children:"Acciones"}),l.jsx(wf,{}),l.jsx(ur,{onClick:()=>t(e.id,"processing"),disabled:e.status==="processing"||e.status==="completed",children:"Marcar como Procesando"}),l.jsxs(ur,{onClick:()=>n(e),disabled:e.status==="completed",children:[l.jsx(zk,{className:"mr-2 h-4 w-4"}),"Subir Reporte"]})]})]}),qve=()=>{const{requests:e,isLoading:t,updateRequestStatus:n,uploadAndLinkReport:r}=Uve(),[i,s]=w.useState(""),[a,o]=w.useState(1),[c,u]=w.useState(!1),[f,h]=w.useState(null),g=10,m=w.useMemo(()=>i?e.filter(_=>{var C;return _.vin&&_.vin.toLowerCase().includes(i.toLowerCase())||((C=_.users_profile)==null?void 0:C.full_name)&&_.users_profile.full_name.toLowerCase().includes(i.toLowerCase())}):e,[e,i]),x=w.useMemo(()=>{const _=(a-1)*g;return m.slice(_,_+g)},[m,a]),y=Math.ceil(m.length/g),S=_=>{h(_),u(!0)};return t?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(al,{className:"h-9 w-72"}),l.jsx(al,{className:"h-5 w-96"})]}),l.jsx(ct,{children:l.jsxs(ut,{className:"p-6 space-y-4",children:[l.jsx(al,{className:"h-10 w-80"}),l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((_,C)=>l.jsx(al,{className:"h-12 w-full"},C))})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Administrar Solicitudes VIN"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona y actualiza el estado de las verificaciones solicitadas."})]}),l.jsx(ct,{children:l.jsxs(ut,{className:"p-6 space-y-4",children:[l.jsx(Ot,{placeholder:"Filtrar por VIN o usuario...",value:i,onChange:_=>{s(_.target.value),o(1)},className:"max-w-sm"}),l.jsx(ct,{className:"border",children:l.jsx(ut,{className:"p-0",children:l.jsxs(zs,{children:[l.jsx(fa,{children:l.jsxs(mn,{children:[l.jsx(wt,{className:"w-[200px] pl-6",children:"VIN"}),l.jsx(wt,{children:"Usuario"}),l.jsx(wt,{children:"Fecha Solicitud"}),l.jsx(wt,{children:"Estado"}),l.jsx(wt,{className:"text-right pr-6",children:"Acciones"})]})}),l.jsx(ha,{children:x.length>0?x.map(_=>{var C,P,A;return l.jsxs(mn,{children:[l.jsx(ot,{className:"pl-6 font-mono font-medium",children:_.vin}),l.jsx(ot,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:((C=_.users_profile)==null?void 0:C.full_name)||"Sin Nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:((P=_.users_profile)==null?void 0:P.short_id)||"N/A"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:((A=_.users_profile)==null?void 0:A.email)||"N/A"})]})}),l.jsx(ot,{children:new Date(_.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}),l.jsx(ot,{children:l.jsx(uf,{status:_.status})}),l.jsx(ot,{className:"text-right pr-6",children:l.jsx(Hve,{request:_,onUpdateStatus:n,onUpload:S})})]},_.id)}):l.jsx(mn,{children:l.jsx(ot,{colSpan:5,className:"h-24 text-center",children:"No se encontraron solicitudes."})})})]})})}),y>1&&l.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4",children:[l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>o(_=>Math.max(_-1,1)),disabled:a===1,children:"Anterior"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",a," de ",y]}),l.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>o(_=>Math.min(_+1,y)),disabled:a===y,children:"Siguiente"})]})]})}),f&&l.jsx(Wve,{isOpen:c,onOpenChange:u,onSubmit:r,request:f})]})},Gve=({onFileSelect:e,documentType:t,isUploading:n})=>{const[r,i]=w.useState(!1),s=o=>{o.preventDefault(),o.stopPropagation(),o.type==="dragenter"||o.type==="dragover"?i(!0):o.type==="dragleave"&&i(!1)},a=o=>{o.preventDefault(),o.target.files&&o.target.files[0]&&e(o.target.files[0],t),o.target.value=""};return l.jsxs("form",{onDragEnter:s,onSubmit:o=>o.preventDefault(),className:"w-full",children:[l.jsxs("label",{htmlFor:`dropzone-file-${t}`,className:`relative flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${r?"border-primary bg-primary/10":"border-border bg-secondary hover:bg-muted/50"}`,children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[l.jsx(jh,{className:"w-8 h-8 mb-3 text-muted-foreground"}),l.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:l.jsx("span",{className:"font-semibold",children:"Haz clic o arrastra"})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, PDF (MAX. 5MB)"})]}),l.jsx("input",{id:`dropzone-file-${t}`,type:"file",className:"hidden",accept:"image/png, image/jpeg, application/pdf",onChange:a,disabled:n})]}),n&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Procesando..."})]})},o5=({icon:e,title:t,documentType:n,doc:r,onFileUpload:i,onFileDelete:s,isUploading:a})=>{const c=r?(u=>{switch(u){case"approved":return{Icon:vn,color:"text-green-500",text:"Aprobado"};case"pending":return{Icon:_y,color:"text-yellow-500",text:"En Revisión"};case"rejected":return{Icon:Wr,color:"text-red-500",text:"Rechazado"};default:return{Icon:null,color:"",text:""}}})(r.status):null;return l.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[e,l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-foreground",children:t}),r?l.jsxs("div",{className:"mt-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:r.file_name}),l.jsxs("div",{className:`flex items-center text-sm font-medium ${c.color}`,children:[c.Icon&&l.jsx(c.Icon,{className:"h-4 w-4 mr-1.5"}),c.text]})]}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"Aún no has subido este documento."})]})]}),l.jsx("div",{className:"mt-4 md:mt-0 md:ml-4 flex-shrink-0 w-full md:w-auto",children:r?l.jsx("div",{className:"flex items-center justify-end space-x-2",children:(r.status==="pending"||r.status==="rejected")&&l.jsxs(Ue,{variant:"destructive",size:"sm",onClick:()=>s(r),disabled:a,children:[l.jsx(LS,{className:"h-4 w-4 mr-1"})," Borrar"]})}):l.jsx(Gve,{onFileSelect:i,documentType:n,isUploading:a})})]}),r&&r.status==="rejected"&&r.rejection_reason&&l.jsxs("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded-md text-destructive text-sm",children:[l.jsx("strong",{children:"Motivo del rechazo:"})," ",r.rejection_reason]})]})},Kve=()=>{const{toast:e}=Pn(),{user:t}=Pi(),{fetchRecords:n,uploadFile:r,createRecord:i,deleteRecord:s,deleteFile:a}=bf(),[o,c]=w.useState({id_front:null,id_back:null,selfie:null}),[u,f]=w.useState(!0),[h,g]=w.useState(!1),m=["id_front","id_back","selfie"],x=w.useCallback(async()=>{if(!t)return;f(!0);const{success:C,data:P}=await n("documents",{user_id:t.id},{filter:{column:"document_type",operator:"in",value:m}});if(C){const A={id_front:null,id_back:null,selfie:null};P&&P.forEach(R=>{m.includes(R.document_type)&&(A[R.document_type]=R)}),c(A)}f(!1)},[t,n]);w.useEffect(()=>{x()},[x]);const y=async(C,P)=>{var R,D;if(!t||!C)return;const A=5*1024*1024;if(C.size>A){e({variant:"destructive",title:"Archivo muy grande",description:"El archivo no debe superar los 5MB."});return}g(!0);try{const T=o[P];T&&(await a("kycdocuments",T.file_path),await s("documents",T.id));const M=C.name.split(".").pop(),U=`${t.id}/${P}/${Date.now()}.${M}`,ee=await r("kycdocuments",U,C);if(!ee.success)throw new Error(((R=ee.error)==null?void 0:R.message)||"Error al subir el archivo.");const F={user_id:t.id,document_type:P,file_name:C.name,file_path:U,file_size:C.size,mime_type:C.type,status:"pending"},O=await i("documents",F);if(!O.success)throw new Error(((D=O.error)==null?void 0:D.message)||"Error al guardar el registro.");e({title:"Éxito",description:`"${C.name}" se subió y está en revisión.`}),await x()}catch(T){console.error("Error en la carga:",T),e({variant:"destructive",title:"Error en la carga",description:T.message})}finally{g(!1)}},S=async C=>{if(!C||!C.id||!C.file_path){console.error("Intento de borrado inválido. El objeto 'doc' está incompleto:",C),e({variant:"destructive",title:"Error Interno",description:"Faltan datos para poder borrar el documento."});return}console.log("Iniciando borrado para el documento:",C),g(!0);try{await a("kycdocuments",C.file_path);const{success:P,error:A}=await s("documents",C.id);if(!P)throw new Error((A==null?void 0:A.message)||"No se pudo borrar el registro de la base de datos.");e({title:"Documento Eliminado",description:"Puedes subir uno nuevo."}),await x()}catch(P){console.error("Error detallado al eliminar:",P),e({variant:"destructive",title:"Error al Eliminar",description:P.message})}finally{g(!1)}};if(u)return l.jsx("div",{className:"flex justify-center items-center h-64",children:"Cargando datos de verificación..."});const _=m.every(C=>{var P;return((P=o[C])==null?void 0:P.status)==="approved"});return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-4 md:p-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Verificación de Identidad"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Para tu seguridad, necesitamos verificar tu identidad. Por favor, sube los siguientes documentos."})]}),l.jsxs(ct,{className:"bg-card border-border shadow-sm",children:[l.jsxs(_t,{children:[l.jsxs(Ct,{className:"flex items-center",children:[l.jsx(Uk,{className:"mr-2 h-5 w-5"}),"Documentos Requeridos"]}),l.jsx(pn,{children:"Sube una foto clara de cada documento. Los archivos serán revisados por nuestro equipo."})]}),l.jsxs(ut,{className:"space-y-4",children:[l.jsx(o5,{icon:l.jsx(mo,{className:"h-8 w-8 text-primary"}),title:"Frente de tu Identificación Oficial",documentType:"id_front",doc:o.id_front,onFileUpload:y,onFileDelete:S,isUploading:h}),l.jsx(o5,{icon:l.jsx(mo,{className:"h-8 w-8 text-primary"}),title:"Reverso de tu Identificación Oficial",documentType:"id_back",doc:o.id_back,onFileUpload:y,onFileDelete:S,isUploading:h}),l.jsx(o5,{icon:l.jsx(sV,{className:"h-8 w-8 text-primary"}),title:"Selfie sosteniendo tu Identificación",documentType:"selfie",doc:o.selfie,onFileUpload:y,onFileDelete:S,isUploading:h})]})]}),_&&l.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"¡Identidad Verificada!"}),l.jsx("p",{className:"text-green-700",children:"Todos tus documentos han sido aprobados. Ya tienes acceso completo a la plataforma."})]})]})},BA=({children:e,allowedRoles:t})=>{const{isAuthenticated:n,userRole:r,loading:i}=Pi();if(i)return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("p",{children:"Verificando..."})});if(!n)return l.jsx(by,{to:"/login",replace:!0});if(!r)return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("p",{children:"Cargando perfil..."})});if(t&&!t.includes(r)){const s=r==="client"?"/dashboard":"/admin";return l.jsx(by,{to:s,replace:!0})}return e},Yve=()=>{const{isAuthenticated:e,userRole:t,loading:n}=Pi();if(n)return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("p",{children:"Iniciando..."})});if(!e)return l.jsx(by,{to:"/login",replace:!0});if(!t)return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("p",{children:"Cargando perfil..."})});const r=t==="client"?"/dashboard":"/admin";return l.jsx(by,{to:r,replace:!0})};function Xve(){return w.useEffect(()=>{window.document.documentElement.classList.add("dark")},[]),l.jsx(WB,{children:l.jsx(AV,{children:l.jsx(Zk,{children:l.jsx(dW,{children:l.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[l.jsxs(IB,{children:[l.jsx(bn,{path:"/login",element:l.jsx(fJ,{})}),l.jsx(bn,{path:"/register",element:l.jsx(wre,{})}),l.jsx(bn,{path:"/",element:l.jsx(Yve,{})}),l.jsxs(bn,{path:"/dashboard",element:l.jsx(BA,{allowedRoles:["client"],children:l.jsx(iJ,{})}),children:[l.jsx(bn,{index:!0,element:l.jsx(Nre,{})}),l.jsx(bn,{path:"inspections",element:l.jsx(lle,{})}),l.jsx(bn,{path:"test",element:l.jsx(cle,{})}),l.jsx(bn,{path:"vin-check",element:l.jsx(wle,{})}),l.jsx(bn,{path:"legalization",element:l.jsx(Dle,{})}),l.jsx(bn,{path:"power-buying",element:l.jsx(Tce,{})}),l.jsx(bn,{path:"deposits",element:l.jsx(Oce,{})}),l.jsx(bn,{path:"profile",element:l.jsx(Ice,{})}),l.jsx(bn,{path:"documents",element:l.jsx(Mce,{})}),l.jsx(bn,{path:"chat",element:l.jsx(Bce,{})}),l.jsx(bn,{path:"notifications",element:l.jsx(zce,{})}),l.jsx(bn,{path:"auction",element:l.jsx(tfe,{})}),l.jsx(bn,{path:"verification",element:l.jsx(Kve,{})})]}),l.jsxs(bn,{path:"/admin",element:l.jsx(BA,{allowedRoles:["admin","support","validation","finance"],children:l.jsx(cJ,{})}),children:[l.jsx(bn,{index:!0,element:l.jsx(Mhe,{})}),l.jsx(bn,{path:"inspections",element:l.jsx(Rve,{})}),l.jsx(bn,{path:"requests",element:l.jsx(Fhe,{})}),l.jsx(bn,{path:"vin-requests",element:l.jsx(qve,{})}),l.jsx(bn,{path:"auction-bids",element:l.jsx(Ove,{})}),l.jsx(bn,{path:"/admin/legalizations",element:l.jsx(Vve,{})}),l.jsx(bn,{path:"power-buying",element:l.jsx(zve,{})}),l.jsx(bn,{path:"deposits",element:l.jsx(RI,{})}),l.jsx(bn,{path:"documents",element:l.jsx(Bhe,{})}),l.jsx(bn,{path:"chat",element:l.jsx(Vhe,{})}),l.jsx(bn,{path:"chat/:clientId",element:l.jsx(Uhe,{})}),l.jsx(bn,{path:"payments",element:l.jsx(Hhe,{})}),l.jsx(bn,{path:"users",element:l.jsx(qhe,{})}),l.jsx(bn,{path:"stats",element:l.jsx(b0e,{})}),l.jsx(bn,{path:"settings",element:l.jsx(j0e,{})}),l.jsx(bn,{path:"finance",element:l.jsx(E0e,{})}),l.jsx(bn,{path:"verification",element:l.jsx(T0e,{})}),l.jsx(bn,{path:"notifications",element:l.jsx(O0e,{})})]}),l.jsx(bn,{path:"*",element:l.jsx(Sre,{})})]}),l.jsx(LW,{})]})})})})})}const Jve=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>of(async()=>{const{default:r}=await Promise.resolve().then(()=>eg);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class q_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Zve extends q_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VA extends q_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zA extends q_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vS||(vS={}));var Qve=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class e1e{constructor(t,{headers:n={},customFetch:r,region:i=vS.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Jve(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Qve(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(o["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(o["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:f}).catch(y=>{throw new Zve(y)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new VA(h);if(!h.ok)throw new zA(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield h.json():m==="application/octet-stream"?x=yield h.blob():m==="text/event-stream"?x=h:m==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof zA||i instanceof VA?i.context:void 0}}})}}var Ii={},Hp={},qp={},Gp={},Kp={},Yp={},t1e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fm=t1e();const n1e=Fm.fetch,LM=Fm.fetch.bind(Fm),DM=Fm.Headers,r1e=Fm.Request,i1e=Fm.Response,eg=Object.freeze(Object.defineProperty({__proto__:null,Headers:DM,Request:r1e,Response:i1e,default:LM,fetch:n1e},Symbol.toStringTag,{value:"Module"})),s1e=LF(eg);var Y1={},UA;function OM(){if(UA)return Y1;UA=1,Object.defineProperty(Y1,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Y1.default=e,Y1}var WA;function IM(){if(WA)return Yp;WA=1;var e=Yp&&Yp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Yp,"__esModule",{value:!0});const t=e(s1e),n=e(OM());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=Object.assign({},this.headers),this.headers[s]=a,this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,g;let m=null,x=null,y=null,S=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=R:x=JSON.parse(R))}const P=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");P&&A&&A.length>1&&(y=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,S=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const P=await u.text();try{m=JSON.parse(P),Array.isArray(m)&&u.status===404&&(x=[],m=null,S=200,_="OK")}catch{u.status===404&&P===""?(S=204,_="No Content"):m={message:P}}if(m&&this.isMaybeSingle&&(!((g=m==null?void 0:m.details)===null||g===void 0)&&g.includes("0 rows"))&&(m=null,S=200,_="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:x,count:y,status:S,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,h,g;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}}return Yp.default=r,Yp}var HA;function MM(){if(HA)return Kp;HA=1;var e=Kp&&Kp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kp,"__esModule",{value:!0});const t=e(IM());class n extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kp.default=n,Kp}var qA;function G_(){if(qA)return Gp;qA=1;var e=Gp&&Gp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gp,"__esModule",{value:!0});const t=e(MM());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return Gp.default=n,Gp}var GA;function FM(){if(GA)return qp;GA=1;var e=qp&&qp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qp,"__esModule",{value:!0});const t=e(G_());class n{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=s,this.schema=a,this.fetch=o}select(i,{head:s=!1,count:a}={}){const o=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),a&&(this.headers.Prefer=`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:a=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){const u="POST",f=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const h=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(h.length>0){const g=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",a=[];return i&&a.push(`count=${i}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return qp.default=n,qp}var Vg={},zg={},KA;function a1e(){return KA||(KA=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.version=void 0,zg.version="0.0.0-automated"),zg}var YA;function o1e(){if(YA)return Vg;YA=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.DEFAULT_HEADERS=void 0;const e=a1e();return Vg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Vg}var XA;function l1e(){if(XA)return Hp;XA=1;var e=Hp&&Hp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Hp,"__esModule",{value:!0});const t=e(FM()),n=e(G_()),r=o1e();class i{constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),o),this.schemaName=c,this.fetch=u}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){let h;const g=new URL(`${this.url}/rpc/${a}`);let m;c||u?(h=c?"HEAD":"GET",Object.entries(o).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{g.searchParams.append(y,S)})):(h="POST",m=o);const x=Object.assign({},this.headers);return f&&(x.Prefer=`count=${f}`),new n.default({method:h,url:g,headers:x,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return Hp.default=i,Hp}var JA;function c1e(){if(JA)return Ii;JA=1;var e=Ii&&Ii.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.PostgrestError=Ii.PostgrestBuilder=Ii.PostgrestTransformBuilder=Ii.PostgrestFilterBuilder=Ii.PostgrestQueryBuilder=Ii.PostgrestClient=void 0;const t=e(l1e());Ii.PostgrestClient=t.default;const n=e(FM());Ii.PostgrestQueryBuilder=n.default;const r=e(G_());Ii.PostgrestFilterBuilder=r.default;const i=e(MM());Ii.PostgrestTransformBuilder=i.default;const s=e(IM());Ii.PostgrestBuilder=s.default;const a=e(OM());return Ii.PostgrestError=a.default,Ii.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Ii}var u1e=c1e();const d1e=Vh(u1e),{PostgrestClient:f1e,PostgrestQueryBuilder:yxe,PostgrestFilterBuilder:xxe,PostgrestTransformBuilder:bxe,PostgrestBuilder:wxe,PostgrestError:Sxe}=d1e;function h1e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const p1e=h1e(),m1e="2.11.15",g1e=`realtime-js/${m1e}`,v1e="1.0.0",BM=1e4,y1e=1e3;var g0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(g0||(g0={}));var ys;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ys||(ys={}));var nl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nl||(nl={}));var yS;(function(e){e.websocket="websocket"})(yS||(yS={}));var gh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gh||(gh={}));class x1e{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class VM{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cr||(cr={}));const ZA=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=b1e(a,e,t,i),s),{})},b1e=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?zM(s,a):xS(a)},zM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return C1e(t,n)}switch(e){case cr.bool:return w1e(t);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return S1e(t);case cr.json:case cr.jsonb:return _1e(t);case cr.timestamp:return N1e(t);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return xS(t);default:return xS(t)}},xS=e=>e,w1e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},S1e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_1e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C1e=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>zM(t,o))}return e},N1e=e=>typeof e=="string"?e.replace(" ","T"):e,UM=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class l5{constructor(t,n,r={},i=BM){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var QA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(QA||(QA={}));class v0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=v0.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=v0.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=v0.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const h=s[u];if(h){const g=f.map(S=>S.presence_ref),m=h.map(S=>S.presence_ref),x=f.filter(S=>m.indexOf(S.presence_ref)<0),y=h.filter(S=>g.indexOf(S.presence_ref)<0);x.length>0&&(o[u]=x),y.length>0&&(c[u]=y)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const f=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),f.length>0){const h=t[o].map(m=>m.presence_ref),g=f.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...g)}r(o,f,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ek;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ek||(ek={}));var tk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tk||(tk={}));var uu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uu||(uu={}));class K_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ys.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new l5(this,nl.join,this.params,this.timeout),this.rejoinTimer=new VM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ys.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ys.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ys.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ys.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nl.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new v0(this),this.broadcastEndpointURL=UM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ys.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(f=>t==null?void 0:t(uu.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(uu.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t==null||t(uu.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,x=[];for(let y=0;y<m;y++){const S=g[y],{filter:{event:_,schema:C,table:P,filter:A}}=S,R=f&&f[y];if(R&&R.event===_&&R.schema===C&&R.table===P&&R.filter===A)x.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=ys.errored,t==null||t(uu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(uu.SUBSCRIBED);return}}).receive("error",f=>{this.state=ys.errored,t==null||t(uu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(uu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ys.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nl.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new l5(this,nl.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new l5(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:f}=nl;if(r&&[o,c,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,y,S;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(y=m.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(m=>m.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var x,y,S,_,C,P;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const A=m.id,R=(x=m.filter)===null||x===void 0?void 0:x.event;return A&&((y=n.ids)===null||y===void 0?void 0:y.includes(A))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const A=(C=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:y,table:S,commit_timestamp:_,type:C,errors:P}=x;g=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:_,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(x))}m.callback(g,r)})}_isClosed(){return this.state===ys.closed}_isJoined(){return this.state===ys.joined}_isJoining(){return this.state===ys.joining}_isLeaving(){return this.state===ys.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&K_.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nl.close,{},t)}_onError(t){this._on(nl.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ys.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ZA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ZA(t.columns,t.old_record)),n}}const nk=()=>{},j1e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P1e{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=BM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nk,this.ref=0,this.logger=nk,this.conn=null,this.sendBuffer=[],this.serializer=new x1e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>of(async()=>{const{default:c}=await Promise.resolve().then(()=>eg);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${yS.websocket}`,this.httpEndpoint=UM(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new VM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=p1e),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v1e}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case g0.connecting:return gh.Connecting;case g0.open:return gh.Open;case g0.closing:return gh.Closing;default:return gh.Closed}}isConnected(){return this.connectionState()===gh.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new K_(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:g1e};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(nl.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(y1e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nl.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([j1e],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Y_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class A1e extends Y_{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bS extends Y_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var k1e=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const WM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>of(async()=>{const{default:r}=await Promise.resolve().then(()=>eg);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},E1e=()=>k1e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield of(()=>Promise.resolve().then(()=>eg),void 0)).Response:Response}),wS=e=>{if(Array.isArray(e))return e.map(n=>wS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=wS(r)}),t};var tp=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const c5=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$1e=(e,t,n)=>tp(void 0,void 0,void 0,function*(){const r=yield E1e();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new A1e(c5(i),e.status||500))}).catch(i=>{t(new bS(c5(i),i))}):t(new bS(c5(e),e))}),R1e=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function $v(e,t,n,r,i,s){return tp(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,R1e(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>$1e(c,o,r))})})}function kx(e,t,n,r){return tp(this,void 0,void 0,function*(){return $v(e,"GET",t,n,r)})}function Dd(e,t,n,r,i){return tp(this,void 0,void 0,function*(){return $v(e,"POST",t,r,i,n)})}function T1e(e,t,n,r,i){return tp(this,void 0,void 0,function*(){return $v(e,"PUT",t,r,i,n)})}function L1e(e,t,n,r){return tp(this,void 0,void 0,function*(){return $v(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function HM(e,t,n,r,i){return tp(this,void 0,void 0,function*(){return $v(e,"DELETE",t,r,i,n)})}var aa=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const D1e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O1e{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=WM(i)}uploadOrUpdate(t,n,r,i){return aa(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},rk),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Mi(s))return{data:null,error:s};throw s}})}upload(t,n,r){return aa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return aa(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:rk.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:f}),g=yield h.json();return h.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Mi(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return aa(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Dd(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Y_("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(Mi(r))return{data:null,error:r};throw r}})}update(t,n,r){return aa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return aa(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Mi(i))return{data:null,error:i};throw i}})}copy(t,n,r){return aa(this,void 0,void 0,function*(){try{return{data:{path:(yield Dd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Mi(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return aa(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Dd(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Mi(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return aa(this,void 0,void 0,function*(){try{const i=yield Dd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Mi(i))return{data:null,error:i};throw i}})}download(t,n){return aa(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield kx(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Mi(o))return{data:null,error:o};throw o}})}info(t){return aa(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield kx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wS(r),error:null}}catch(r){if(Mi(r))return{data:null,error:r};throw r}})}exists(t){return aa(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield L1e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mi(r)&&r instanceof bS){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return aa(this,void 0,void 0,function*(){try{return{data:yield HM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Mi(n))return{data:null,error:n};throw n}})}list(t,n,r){return aa(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},D1e),n),{prefix:t||""});return{data:yield Dd(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Mi(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const I1e="2.7.1",M1e={"X-Client-Info":`storage-js/${I1e}`};var Xp=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class F1e{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},M1e),n),this.fetch=WM(r)}listBuckets(){return Xp(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Mi(t))return{data:null,error:t};throw t}})}getBucket(t){return Xp(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Mi(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xp(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mi(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Xp(this,void 0,void 0,function*(){try{return{data:yield T1e(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mi(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xp(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Mi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xp(this,void 0,void 0,function*(){try{return{data:yield HM(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Mi(n))return{data:null,error:n};throw n}})}}class B1e extends F1e{constructor(t,n={},r){super(t,n,r)}from(t){return new O1e(this.url,this.headers,t,this.fetch)}}const V1e="2.52.0";let Qg="";typeof Deno<"u"?Qg="deno":typeof document<"u"?Qg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qg="react-native":Qg="node";const z1e={"X-Client-Info":`supabase-js-${Qg}/${V1e}`},U1e={headers:z1e},W1e={schema:"public"},H1e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q1e={};var G1e=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const K1e=e=>{let t;return e?t=e:typeof fetch>"u"?t=LM:t=fetch,(...n)=>t(...n)},Y1e=()=>typeof Headers>"u"?DM:Headers,X1e=(e,t,n)=>{const r=K1e(n),i=Y1e();return(s,a)=>G1e(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var J1e=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function Z1e(e){return e.endsWith("/")?e:e+"/"}function Q1e(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:f,global:h}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>J1e(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const qM="2.71.1",sm=30*1e3,SS=3,u5=SS*sm,eye="http://localhost:9999",tye="supabase.auth.token",nye={"X-Client-Info":`gotrue-js/${qM}`},_S="X-Supabase-Api-Version",GM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rye=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iye=10*60*1e3;class X_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function hn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sye extends X_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aye(e){return hn(e)&&e.name==="AuthApiError"}class KM extends X_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Sf extends X_{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Rd extends Sf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oye(e){return hn(e)&&e.name==="AuthSessionMissingError"}class X1 extends Sf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class J1 extends Sf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Z1 extends Sf{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lye(e){return hn(e)&&e.name==="AuthImplicitGrantRedirectError"}class ik extends Sf{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CS extends Sf{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function d5(e){return hn(e)&&e.name==="AuthRetryableFetchError"}class sk extends Sf{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class NS extends Sf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ex="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ak=` 	
\r=`.split(""),cye=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ak.length;t+=1)e[ak[t].charCodeAt(0)]=-2;for(let t=0;t<Ex.length;t+=1)e[Ex[t].charCodeAt(0)]=t;return e})();function ok(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ex[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ex[r]),t.queuedBits-=6}}function YM(e,t,n){const r=cye[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lk(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{fye(a,r,n)};for(let a=0;a<e.length;a+=1)YM(e.charCodeAt(a),i,s);return t.join("")}function uye(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dye(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}uye(r,t)}}function fye(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hye(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)YM(e.charCodeAt(i),n,r);return new Uint8Array(t)}function pye(e){const t=[];return dye(e,n=>t.push(n)),new Uint8Array(t)}function mye(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>ok(i,n,r)),ok(null,n,r),t.join("")}function gye(e){return Math.round(Date.now()/1e3)+e}function vye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Zo=()=>typeof window<"u"&&typeof document<"u",sh={tested:!1,writable:!1},XM=()=>{if(!Zo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sh.tested)return sh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sh.tested=!0,sh.writable=!0}catch{sh.tested=!0,sh.writable=!1}return sh.writable};function yye(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const JM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>of(async()=>{const{default:r}=await Promise.resolve().then(()=>eg);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xye=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",am=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ah=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ad=async(e,t)=>{await e.removeItem(t)};class K2{constructor(){this.promise=new K2.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}K2.promiseConstructor=Promise;function f5(e){const t=e.split(".");if(t.length!==3)throw new NS("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rye.test(t[r]))throw new NS("JWT not in base64url format");return{header:JSON.parse(lk(t[0])),payload:JSON.parse(lk(t[1])),signature:hye(t[2]),raw:{header:t[0],payload:t[1]}}}async function bye(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wye(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Sye(e){return("0"+e.toString(16)).substr(-2)}function _ye(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Sye).join("")}async function Cye(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Nye(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Cye(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jp(e,t,n=!1){const r=_ye();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await am(e,`${t}-code-verifier`,i);const s=await Nye(r);return[s,r===s?"plain":"s256"]}const jye=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pye(e){const t=e.headers.get(_S);if(!t||!t.match(jye))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Aye(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kye(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eye=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zp(e){if(!Eye.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function h5(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ck(e){return JSON.parse(JSON.stringify(e))}var $ye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const hh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rye=[502,503,504];async function uk(e){var t;if(!xye(e))throw new CS(hh(e),0);if(Rye.includes(e.status))throw new CS(hh(e),e.status);let n;try{n=await e.json()}catch(s){throw new KM(hh(s),s)}let r;const i=Pye(e);if(i&&i.getTime()>=GM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sk(hh(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Rd}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new sk(hh(n),e.status,n.weak_password.reasons);throw new sye(hh(n),e.status||500,r)}const Tye=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Sn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[_S]||(s[_S]=GM["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Lye(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Lye(e,t,n,r,i,s){const a=Tye(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new CS(hh(c),0)}if(o.ok||await uk(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await uk(c)}}function lu(e){var t;let n=null;Mye(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=gye(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function dk(e){const t=lu(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Id(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Dye(e){return{data:e,error:null}}function Oye(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=$ye(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function Iye(e){return e}function Mye(e){return e.access_token&&e.refresh_token&&e.expires_in}const p5=["global","local","others"];var Fye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Bye{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=JM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=p5[0]){if(p5.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${p5.join(", ")}`);try{return await Sn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Sn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Id})}catch(r){if(hn(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Fye(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Sn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Oye,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(hn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Sn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Id})}catch(n){if(hn(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Sn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Iye});if(f.error)throw f.error;const h=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(hn(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zp(t);try{return await Sn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Id})}catch(n){if(hn(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zp(t);try{return await Sn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Id})}catch(r){if(hn(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Zp(t);try{return await Sn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Id})}catch(r){if(hn(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Zp(t.userId);try{const{data:n,error:r}=await Sn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(hn(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zp(t.userId),Zp(t.id);try{return{data:await Sn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}}}function fk(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Vye(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qp={debug:!!(globalThis&&XM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zye extends ZM{}async function Uye(e,t,n){Qp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Qp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zye(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Vye();const Wye={url:eye,storageKey:tye,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nye,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hk(e,t,n){return await n()}const em={};class W0{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=W0.nextInstanceID,W0.nextInstanceID+=1,this.instanceID>0&&Zo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Wye),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bye({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=JM(i.fetch),this.lock=i.lock||hk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zo()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Uye:this.lock=hk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:XM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fk(this.memoryStorage)),Zo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=em[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){em[this.storageKey]=Object.assign(Object.assign({},em[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=em[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){em[this.storageKey]=Object.assign(Object.assign({},em[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qM}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=yye(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Zo()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lye(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return hn(n)?{error:n}:{error:new KM("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:lu}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(hn(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:h,options:g}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Jp(this.storage,this.storageKey)),s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:x},xform:lu})}else if("phone"in t){const{phone:f,password:h,options:g}=t;s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:lu})}else throw new J1("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(hn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dk})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dk})}else throw new J1("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new X1}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(hn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,c,u,f,h,g,m;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:S,wallet:_,statement:C,options:P}=t;let A;if(Zo())if(typeof _=="object")A=_;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))A=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const R=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const D=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),C?{statement:C}:null));let T;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")T=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)T=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),y=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=P==null?void 0:P.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((h=(f=P==null?void 0:P.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...P.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const D=await A.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=D}}try{const{data:S,error:_}=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:mye(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:lu});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new X1}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(hn(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ah(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:lu});if(await Ad(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new X1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(hn(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lu}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new X1}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(hn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Jp(this.storage,this.storageKey));const{error:h}=await Sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:f}=await Sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new J1("You must provide either an email or phone number.")}catch(o){if(hn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Sn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:lu});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(hn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Jp(this.storage,this.storageKey)),await Sn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Dye})}catch(s){if(hn(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rd;const{error:i}=await Sn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(hn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Sn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await Sn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new J1("You must provide either an email or phone number and a type")}catch(n){if(hn(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ah(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<u5:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ah(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=h5()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Id}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rd}:await Sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Id})})}catch(n){if(hn(n))return oye(n)&&(await this._removeSession(),await Ad(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Rd;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Jp(this.storage,this.storageKey));const{data:u,error:f}=await Sn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Id});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(hn(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rd;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=f5(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(hn(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rd;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(hn(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Zo())throw new Z1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Z1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ik("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Z1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ik("No code detected.");const{data:C,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new Z1("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(o);let g=f+h;c&&(g=parseInt(c));const m=g-f;m*1e3<=sm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=g-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:y,error:S}=await this._getUser(s);if(S)throw S;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(hn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ah(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(aye(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ad(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vye(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Jp(this.storage,this.storageKey,!0));try{return await Sn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(hn(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,f;const{data:h,error:g}=s;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Sn(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Zo()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(hn(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Sn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(hn(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wye(async i=>(i>0&&await bye(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Sn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lu})),(i,s)=>{const a=200*Math.pow(2,i);return s&&d5(s)&&Date.now()+a-r<sm})}catch(r){if(this._debug(n,"error",r),hn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Zo()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ah(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ah(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await am(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:h5()}else if(i&&!i.user&&!i.user){const a=await ah(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ad(this.storage,this.storageKey+"-user"),await am(this.storage,this.storageKey,i)):i.user=h5()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<u5;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${u5}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),d5(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new K2;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Rd;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),hn(s)){const a={session:null,error:s};return d5(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await am(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=ck(i);await am(this.storage,this.storageKey,s)}else{const i=ck(n);await am(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ad(this.storage,this.storageKey),await Ad(this.storage,this.storageKey+"-code-verifier"),await Ad(this.storage,this.storageKey+"-user"),this.userStorage&&await Ad(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sm);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/sm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sm}ms, refresh threshold is ${SS} ticks`),i<=SS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ZM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Jp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Sn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(hn(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Sn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(hn(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await Sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(hn(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(hn(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=f5(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+iye>i)return r;const{data:s,error:a}=await Sn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=f5(r);n!=null&&n.allowExpired||Aye(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const f=kye(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,a,pye(`${o}.${c}`)))throw new NS("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}}}W0.nextInstanceID=0;const Hye=W0;class qye extends Hye{constructor(t){super(t)}}var Gye=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Kye{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Z1e(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:W1e,realtime:q1e,auth:Object.assign(Object.assign({},H1e),{storageKey:u}),global:U1e},h=Q1e(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=X1e(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new f1e(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new e1e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new B1e(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Gye(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qye({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new P1e(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yye=(e,t,n)=>new Kye(e,t,n),Xye=Yye("https://gzttivkstakohnjhhqoi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd6dHRpdmtzdGFrb2huamhocW9pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyMDI4MTgsImV4cCI6MjA2NTc3ODgxOH0.LzHKN4cUy5aqaQOJSUBJ0U1pNJZgKjJQ8HdnUncN79g");zF.createRoot(document.getElementById("root")).render(l.jsx(Re.StrictMode,{children:l.jsx(qn.SessionContextProvider,{supabaseClient:Xye,children:l.jsx(Xve,{})})}));export{Yn as _,Zye as c,Vh as g};
